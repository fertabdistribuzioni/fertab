(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function ey(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var yc={exports:{}},Do={},vc={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd;function ty(){if(Vd)return ve;Vd=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),O=Symbol.iterator;function U(V){return V===null||typeof V!="object"?null:(V=O&&V[O]||V["@@iterator"],typeof V=="function"?V:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,ee={};function K(V,B,oe){this.props=V,this.context=B,this.refs=ee,this.updater=oe||H}K.prototype.isReactComponent={},K.prototype.setState=function(V,B){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,B,"setState")},K.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Ne(){}Ne.prototype=K.prototype;function Pe(V,B,oe){this.props=V,this.context=B,this.refs=ee,this.updater=oe||H}var _e=Pe.prototype=new Ne;_e.constructor=Pe,J(_e,K.prototype),_e.isPureReactComponent=!0;var Ee=Array.isArray,Xe=Object.prototype.hasOwnProperty,ke={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(V,B,oe){var ge,ye={},Te=null,Le=null;if(B!=null)for(ge in B.ref!==void 0&&(Le=B.ref),B.key!==void 0&&(Te=""+B.key),B)Xe.call(B,ge)&&!k.hasOwnProperty(ge)&&(ye[ge]=B[ge]);var Oe=arguments.length-2;if(Oe===1)ye.children=oe;else if(1<Oe){for(var Ue=Array(Oe),dt=0;dt<Oe;dt++)Ue[dt]=arguments[dt+2];ye.children=Ue}if(V&&V.defaultProps)for(ge in Oe=V.defaultProps,Oe)ye[ge]===void 0&&(ye[ge]=Oe[ge]);return{$$typeof:s,type:V,key:Te,ref:Le,props:ye,_owner:ke.current}}function I(V,B){return{$$typeof:s,type:V.type,key:B,ref:V.ref,props:V.props,_owner:V._owner}}function P(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function x(V){var B={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return B[oe]})}var D=/\/+/g;function S(V,B){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):B.toString(36)}function Je(V,B,oe,ge,ye){var Te=typeof V;(Te==="undefined"||Te==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(Te){case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case s:case e:Le=!0}}if(Le)return Le=V,ye=ye(Le),V=ge===""?"."+S(Le,0):ge,Ee(ye)?(oe="",V!=null&&(oe=V.replace(D,"$&/")+"/"),Je(ye,B,oe,"",function(dt){return dt})):ye!=null&&(P(ye)&&(ye=I(ye,oe+(!ye.key||Le&&Le.key===ye.key?"":(""+ye.key).replace(D,"$&/")+"/")+V)),B.push(ye)),1;if(Le=0,ge=ge===""?".":ge+":",Ee(V))for(var Oe=0;Oe<V.length;Oe++){Te=V[Oe];var Ue=ge+S(Te,Oe);Le+=Je(Te,B,oe,Ue,ye)}else if(Ue=U(V),typeof Ue=="function")for(V=Ue.call(V),Oe=0;!(Te=V.next()).done;)Te=Te.value,Ue=ge+S(Te,Oe++),Le+=Je(Te,B,oe,Ue,ye);else if(Te==="object")throw B=String(V),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Le}function Ct(V,B,oe){if(V==null)return V;var ge=[],ye=0;return Je(V,ge,"","",function(Te){return B.call(oe,Te,ye++)}),ge}function At(V){if(V._status===-1){var B=V._result;B=B(),B.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=B)}if(V._status===1)return V._result.default;throw V._result}var Fe={current:null},G={transition:null},ae={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:G,ReactCurrentOwner:ke};function Z(){throw Error("act(...) is not supported in production builds of React.")}return ve.Children={map:Ct,forEach:function(V,B,oe){Ct(V,function(){B.apply(this,arguments)},oe)},count:function(V){var B=0;return Ct(V,function(){B++}),B},toArray:function(V){return Ct(V,function(B){return B})||[]},only:function(V){if(!P(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},ve.Component=K,ve.Fragment=r,ve.Profiler=l,ve.PureComponent=Pe,ve.StrictMode=o,ve.Suspense=v,ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,ve.act=Z,ve.cloneElement=function(V,B,oe){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ge=J({},V.props),ye=V.key,Te=V.ref,Le=V._owner;if(B!=null){if(B.ref!==void 0&&(Te=B.ref,Le=ke.current),B.key!==void 0&&(ye=""+B.key),V.type&&V.type.defaultProps)var Oe=V.type.defaultProps;for(Ue in B)Xe.call(B,Ue)&&!k.hasOwnProperty(Ue)&&(ge[Ue]=B[Ue]===void 0&&Oe!==void 0?Oe[Ue]:B[Ue])}var Ue=arguments.length-2;if(Ue===1)ge.children=oe;else if(1<Ue){Oe=Array(Ue);for(var dt=0;dt<Ue;dt++)Oe[dt]=arguments[dt+2];ge.children=Oe}return{$$typeof:s,type:V.type,key:ye,ref:Te,props:ge,_owner:Le}},ve.createContext=function(V){return V={$$typeof:p,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:c,_context:V},V.Consumer=V},ve.createElement=T,ve.createFactory=function(V){var B=T.bind(null,V);return B.type=V,B},ve.createRef=function(){return{current:null}},ve.forwardRef=function(V){return{$$typeof:g,render:V}},ve.isValidElement=P,ve.lazy=function(V){return{$$typeof:C,_payload:{_status:-1,_result:V},_init:At}},ve.memo=function(V,B){return{$$typeof:E,type:V,compare:B===void 0?null:B}},ve.startTransition=function(V){var B=G.transition;G.transition={};try{V()}finally{G.transition=B}},ve.unstable_act=Z,ve.useCallback=function(V,B){return Fe.current.useCallback(V,B)},ve.useContext=function(V){return Fe.current.useContext(V)},ve.useDebugValue=function(){},ve.useDeferredValue=function(V){return Fe.current.useDeferredValue(V)},ve.useEffect=function(V,B){return Fe.current.useEffect(V,B)},ve.useId=function(){return Fe.current.useId()},ve.useImperativeHandle=function(V,B,oe){return Fe.current.useImperativeHandle(V,B,oe)},ve.useInsertionEffect=function(V,B){return Fe.current.useInsertionEffect(V,B)},ve.useLayoutEffect=function(V,B){return Fe.current.useLayoutEffect(V,B)},ve.useMemo=function(V,B){return Fe.current.useMemo(V,B)},ve.useReducer=function(V,B,oe){return Fe.current.useReducer(V,B,oe)},ve.useRef=function(V){return Fe.current.useRef(V)},ve.useState=function(V){return Fe.current.useState(V)},ve.useSyncExternalStore=function(V,B,oe){return Fe.current.useSyncExternalStore(V,B,oe)},ve.useTransition=function(){return Fe.current.useTransition()},ve.version="18.3.1",ve}var Dd;function nh(){return Dd||(Dd=1,vc.exports=ty()),vc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd;function ny(){if(Nd)return Do;Nd=1;var s=nh(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function p(g,v,E){var C,O={},U=null,H=null;E!==void 0&&(U=""+E),v.key!==void 0&&(U=""+v.key),v.ref!==void 0&&(H=v.ref);for(C in v)o.call(v,C)&&!c.hasOwnProperty(C)&&(O[C]=v[C]);if(g&&g.defaultProps)for(C in v=g.defaultProps,v)O[C]===void 0&&(O[C]=v[C]);return{$$typeof:e,type:g,key:U,ref:H,props:O,_owner:l.current}}return Do.Fragment=r,Do.jsx=p,Do.jsxs=p,Do}var Ld;function ry(){return Ld||(Ld=1,yc.exports=ny()),yc.exports}var he=ry(),dn=nh(),hl={},_c={exports:{}},Qt={},Ec={exports:{}},wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od;function iy(){return Od||(Od=1,function(s){function e(G,ae){var Z=G.length;G.push(ae);e:for(;0<Z;){var V=Z-1>>>1,B=G[V];if(0<l(B,ae))G[V]=ae,G[Z]=B,Z=V;else break e}}function r(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var ae=G[0],Z=G.pop();if(Z!==ae){G[0]=Z;e:for(var V=0,B=G.length,oe=B>>>1;V<oe;){var ge=2*(V+1)-1,ye=G[ge],Te=ge+1,Le=G[Te];if(0>l(ye,Z))Te<B&&0>l(Le,ye)?(G[V]=Le,G[Te]=Z,V=Te):(G[V]=ye,G[ge]=Z,V=ge);else if(Te<B&&0>l(Le,Z))G[V]=Le,G[Te]=Z,V=Te;else break e}}return ae}function l(G,ae){var Z=G.sortIndex-ae.sortIndex;return Z!==0?Z:G.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();s.unstable_now=function(){return p.now()-g}}var v=[],E=[],C=1,O=null,U=3,H=!1,J=!1,ee=!1,K=typeof setTimeout=="function"?setTimeout:null,Ne=typeof clearTimeout=="function"?clearTimeout:null,Pe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _e(G){for(var ae=r(E);ae!==null;){if(ae.callback===null)o(E);else if(ae.startTime<=G)o(E),ae.sortIndex=ae.expirationTime,e(v,ae);else break;ae=r(E)}}function Ee(G){if(ee=!1,_e(G),!J)if(r(v)!==null)J=!0,At(Xe);else{var ae=r(E);ae!==null&&Fe(Ee,ae.startTime-G)}}function Xe(G,ae){J=!1,ee&&(ee=!1,Ne(T),T=-1),H=!0;var Z=U;try{for(_e(ae),O=r(v);O!==null&&(!(O.expirationTime>ae)||G&&!x());){var V=O.callback;if(typeof V=="function"){O.callback=null,U=O.priorityLevel;var B=V(O.expirationTime<=ae);ae=s.unstable_now(),typeof B=="function"?O.callback=B:O===r(v)&&o(v),_e(ae)}else o(v);O=r(v)}if(O!==null)var oe=!0;else{var ge=r(E);ge!==null&&Fe(Ee,ge.startTime-ae),oe=!1}return oe}finally{O=null,U=Z,H=!1}}var ke=!1,k=null,T=-1,I=5,P=-1;function x(){return!(s.unstable_now()-P<I)}function D(){if(k!==null){var G=s.unstable_now();P=G;var ae=!0;try{ae=k(!0,G)}finally{ae?S():(ke=!1,k=null)}}else ke=!1}var S;if(typeof Pe=="function")S=function(){Pe(D)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,Ct=Je.port2;Je.port1.onmessage=D,S=function(){Ct.postMessage(null)}}else S=function(){K(D,0)};function At(G){k=G,ke||(ke=!0,S())}function Fe(G,ae){T=K(function(){G(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_continueExecution=function(){J||H||(J=!0,At(Xe))},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return U},s.unstable_getFirstCallbackNode=function(){return r(v)},s.unstable_next=function(G){switch(U){case 1:case 2:case 3:var ae=3;break;default:ae=U}var Z=U;U=ae;try{return G()}finally{U=Z}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Z=U;U=G;try{return ae()}finally{U=Z}},s.unstable_scheduleCallback=function(G,ae,Z){var V=s.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?V+Z:V):Z=V,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Z+B,G={id:C++,callback:ae,priorityLevel:G,startTime:Z,expirationTime:B,sortIndex:-1},Z>V?(G.sortIndex=Z,e(E,G),r(v)===null&&G===r(E)&&(ee?(Ne(T),T=-1):ee=!0,Fe(Ee,Z-V))):(G.sortIndex=B,e(v,G),J||H||(J=!0,At(Xe))),G},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(G){var ae=U;return function(){var Z=U;U=ae;try{return G.apply(this,arguments)}finally{U=Z}}}}(wc)),wc}var Md;function sy(){return Md||(Md=1,Ec.exports=iy()),Ec.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd;function oy(){if(Fd)return Qt;Fd=1;var s=nh(),e=sy();function r(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(t,n){p(t,n),p(t+"Capture",n)}function p(t,n){for(l[t]=n,t=0;t<n.length;t++)o.add(n[t])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},O={};function U(t){return v.call(O,t)?!0:v.call(C,t)?!1:E.test(t)?O[t]=!0:(C[t]=!0,!1)}function H(t,n,i,u){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function J(t,n,i,u){if(n===null||typeof n>"u"||H(t,n,i,u))return!0;if(u)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function ee(t,n,i,u,h,d,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=t,this.type=n,this.sanitizeURL=d,this.removeEmptyString=y}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){K[t]=new ee(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];K[n]=new ee(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){K[t]=new ee(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){K[t]=new ee(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){K[t]=new ee(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){K[t]=new ee(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){K[t]=new ee(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){K[t]=new ee(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){K[t]=new ee(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ne=/[\-:]([a-z])/g;function Pe(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(Ne,Pe);K[n]=new ee(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(Ne,Pe);K[n]=new ee(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(Ne,Pe);K[n]=new ee(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){K[t]=new ee(t,1,!1,t.toLowerCase(),null,!1,!1)}),K.xlinkHref=new ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){K[t]=new ee(t,1,!1,t.toLowerCase(),null,!0,!0)});function _e(t,n,i,u){var h=K.hasOwnProperty(n)?K[n]:null;(h!==null?h.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(J(n,i,h,u)&&(i=null),u||h===null?U(n)&&(i===null?t.removeAttribute(n):t.setAttribute(n,""+i)):h.mustUseProperty?t[h.propertyName]=i===null?h.type===3?!1:"":i:(n=h.attributeName,u=h.attributeNamespace,i===null?t.removeAttribute(n):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,u?t.setAttributeNS(u,n,i):t.setAttribute(n,i))))}var Ee=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xe=Symbol.for("react.element"),ke=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),x=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),G=Symbol.iterator;function ae(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,V;function B(t){if(V===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);V=n&&n[1]||""}return`
`+V+t}var oe=!1;function ge(t,n){if(!t||oe)return"";oe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(F){var u=F}Reflect.construct(t,[],n)}else{try{n.call()}catch(F){u=F}t.call(n.prototype)}else{try{throw Error()}catch(F){u=F}t()}}catch(F){if(F&&u&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),d=u.stack.split(`
`),y=h.length-1,w=d.length-1;1<=y&&0<=w&&h[y]!==d[w];)w--;for(;1<=y&&0<=w;y--,w--)if(h[y]!==d[w]){if(y!==1||w!==1)do if(y--,w--,0>w||h[y]!==d[w]){var A=`
`+h[y].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=y&&0<=w);break}}}finally{oe=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?B(t):""}function ye(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=ge(t.type,!1),t;case 11:return t=ge(t.type.render,!1),t;case 1:return t=ge(t.type,!0),t;default:return""}}function Te(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case ke:return"Portal";case I:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case Je:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case D:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ct:return n=t.displayName||null,n!==null?n:Te(t.type)||"Memo";case At:n=t._payload,t=t._init;try{return Te(t(n))}catch{}}return null}function Le(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(n);case 8:return n===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Oe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ue(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dt(t){var n=Ue(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,d=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,d.call(this,y)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function bn(t){t._valueTracker||(t._valueTracker=dt(t))}function Ai(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),u="";return t&&(u=Ue(t)?t.checked?"true":"false":t.value),t=u,t!==i?(n.setValue(t),!0):!1}function cr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hr(t,n){var i=n.checked;return Z({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function Ri(t,n){var i=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;i=Oe(n.value!=null?n.value:i),t._wrapperState={initialChecked:u,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Fs(t,n){n=n.checked,n!=null&&_e(t,"checked",n,!1)}function zs(t,n){Fs(t,n);var i=Oe(n.value),u=n.type;if(i!=null)u==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Pi(t,n.type,i):n.hasOwnProperty("defaultValue")&&Pi(t,n.type,Oe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Yo(t,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,i||n===t.value||(t.value=n),t.defaultValue=n}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function Pi(t,n,i){(n!=="number"||cr(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var Hn=Array.isArray;function Qn(t,n,i,u){if(t=t.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=n.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&u&&(t[i].defaultSelected=!0)}else{for(i=""+Oe(i),n=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Us(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return Z({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ki(t,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(r(92));if(Hn(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}n==null&&(n=""),i=n}t._wrapperState={initialValue:Oe(i)}}function xi(t,n){var i=Oe(n.value),u=Oe(n.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),n.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),u!=null&&(t.defaultValue=""+u)}function Bs(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function ot(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?ot(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kn,js=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,u,h){MSApp.execUnsafeLocalFunction(function(){return t(n,i,u,h)})}:t}(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Kn=Kn||document.createElement("div"),Kn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Kn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function hr(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var Qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kr=["Webkit","ms","Moz","O"];Object.keys(Qr).forEach(function(t){Kr.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Qr[n]=Qr[t]})});function $s(t,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Qr.hasOwnProperty(t)&&Qr[t]?(""+n).trim():n+"px"}function qs(t,n){t=t.style;for(var i in n)if(n.hasOwnProperty(i)){var u=i.indexOf("--")===0,h=$s(i,n[i],u);i==="float"&&(i="cssFloat"),u?t.setProperty(i,h):t[i]=h}}var bs=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hs(t,n){if(n){if(bs[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Qs(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wr=null;function Vi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Di=null,nn=null,kn=null;function Ni(t){if(t=yo(t)){if(typeof Di!="function")throw Error(r(280));var n=t.stateNode;n&&(n=Aa(n),Di(t.stateNode,t.type,n))}}function xn(t){nn?kn?kn.push(t):kn=[t]:nn=t}function Ks(){if(nn){var t=nn,n=kn;if(kn=nn=null,Ni(t),n)for(t=0;t<n.length;t++)Ni(n[t])}}function Gr(t,n){return t(n)}function Ws(){}var Wn=!1;function Gs(t,n,i){if(Wn)return t(n,i);Wn=!0;try{return Gr(t,n,i)}finally{Wn=!1,(nn!==null||kn!==null)&&(Ws(),Ks())}}function Ze(t,n){var i=t.stateNode;if(i===null)return null;var u=Aa(i);if(u===null)return null;i=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(r(231,n,typeof i));return i}var Li=!1;if(g)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){Li=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{Li=!1}function Yr(t,n,i,u,h,d,y,w,A){var F=Array.prototype.slice.call(arguments,3);try{n.apply(i,F)}catch(q){this.onError(q)}}var Xr=!1,Oi=null,mn=!1,Ys=null,Hl={onError:function(t){Xr=!0,Oi=t}};function Mi(t,n,i,u,h,d,y,w,A){Xr=!1,Oi=null,Yr.apply(Hl,arguments)}function Xo(t,n,i,u,h,d,y,w,A){if(Mi.apply(this,arguments),Xr){if(Xr){var F=Oi;Xr=!1,Oi=null}else throw Error(r(198));mn||(mn=!0,Ys=F)}}function gn(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function Jr(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function yn(t){if(gn(t)!==t)throw Error(r(188))}function Jo(t){var n=t.alternate;if(!n){if(n=gn(t),n===null)throw Error(r(188));return n!==t?null:t}for(var i=t,u=n;;){var h=i.return;if(h===null)break;var d=h.alternate;if(d===null){if(u=h.return,u!==null){i=u;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===i)return yn(h),t;if(d===u)return yn(h),n;d=d.sibling}throw Error(r(188))}if(i.return!==u.return)i=h,u=d;else{for(var y=!1,w=h.child;w;){if(w===i){y=!0,i=h,u=d;break}if(w===u){y=!0,u=h,i=d;break}w=w.sibling}if(!y){for(w=d.child;w;){if(w===i){y=!0,i=d,u=h;break}if(w===u){y=!0,u=d,i=h;break}w=w.sibling}if(!y)throw Error(r(189))}}if(i.alternate!==u)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?t:n}function Xs(t){return t=Jo(t),t!==null?Fi(t):null}function Fi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Fi(t);if(n!==null)return n;t=t.sibling}return null}var zi=e.unstable_scheduleCallback,Js=e.unstable_cancelCallback,Zo=e.unstable_shouldYield,Ql=e.unstable_requestPaint,Be=e.unstable_now,ea=e.unstable_getCurrentPriorityLevel,Zr=e.unstable_ImmediatePriority,fr=e.unstable_UserBlockingPriority,rn=e.unstable_NormalPriority,Zs=e.unstable_LowPriority,ta=e.unstable_IdlePriority,ei=null,Gt=null;function na(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ei,t,void 0,(t.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:ia,eo=Math.log,ra=Math.LN2;function ia(t){return t>>>=0,t===0?32:31-(eo(t)/ra|0)|0}var Ui=64,Bi=4194304;function dr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ti(t,n){var i=t.pendingLanes;if(i===0)return 0;var u=0,h=t.suspendedLanes,d=t.pingedLanes,y=i&268435455;if(y!==0){var w=y&~h;w!==0?u=dr(w):(d&=y,d!==0&&(u=dr(d)))}else y=i&~h,y!==0?u=dr(y):d!==0&&(u=dr(d));if(u===0)return 0;if(n!==0&&n!==u&&(n&h)===0&&(h=u&-u,d=n&-n,h>=d||h===16&&(d&4194240)!==0))return n;if((u&4)!==0&&(u|=i&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=u;0<n;)i=31-Lt(n),h=1<<i,u|=t[i],n&=~h;return u}function Kl(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gn(t,n){for(var i=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes;0<d;){var y=31-Lt(d),w=1<<y,A=h[y];A===-1?((w&i)===0||(w&u)!==0)&&(h[y]=Kl(w,n)):A<=n&&(t.expiredLanes|=w),d&=~w}}function Yt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ni(){var t=Ui;return Ui<<=1,(Ui&4194240)===0&&(Ui=64),t}function pr(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function mr(t,n,i){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Lt(n),t[n]=i}function ze(t,n){var i=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<i;){var h=31-Lt(i),d=1<<h;n[h]=0,u[h]=-1,t[h]=-1,i&=~d}}function gr(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var u=31-Lt(i),h=1<<u;h&n|t[u]&n&&(t[u]|=n),i&=~h}}var we=0;function yr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var sa,ji,oa,aa,la,to=!1,Vn=[],_t=null,vn=null,_n=null,vr=new Map,sn=new Map,Dn=[],Wl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ua(t,n){switch(t){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":vr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":sn.delete(n.pointerId)}}function Ut(t,n,i,u,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:i,eventSystemFlags:u,nativeEvent:d,targetContainers:[h]},n!==null&&(n=yo(n),n!==null&&ji(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Gl(t,n,i,u,h){switch(n){case"focusin":return _t=Ut(_t,t,n,i,u,h),!0;case"dragenter":return vn=Ut(vn,t,n,i,u,h),!0;case"mouseover":return _n=Ut(_n,t,n,i,u,h),!0;case"pointerover":var d=h.pointerId;return vr.set(d,Ut(vr.get(d)||null,t,n,i,u,h)),!0;case"gotpointercapture":return d=h.pointerId,sn.set(d,Ut(sn.get(d)||null,t,n,i,u,h)),!0}return!1}function ca(t){var n=ai(t.target);if(n!==null){var i=gn(n);if(i!==null){if(n=i.tag,n===13){if(n=Jr(i),n!==null){t.blockedOn=n,la(t.priority,function(){oa(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yn(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=$i(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var u=new i.constructor(i.type,i);Wr=u,i.target.dispatchEvent(u),Wr=null}else return n=yo(i),n!==null&&ji(n),t.blockedOn=i,!1;n.shift()}return!0}function ri(t,n,i){Yn(t)&&i.delete(n)}function ha(){to=!1,_t!==null&&Yn(_t)&&(_t=null),vn!==null&&Yn(vn)&&(vn=null),_n!==null&&Yn(_n)&&(_n=null),vr.forEach(ri),sn.forEach(ri)}function En(t,n){t.blockedOn===n&&(t.blockedOn=null,to||(to=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ha)))}function wn(t){function n(h){return En(h,t)}if(0<Vn.length){En(Vn[0],t);for(var i=1;i<Vn.length;i++){var u=Vn[i];u.blockedOn===t&&(u.blockedOn=null)}}for(_t!==null&&En(_t,t),vn!==null&&En(vn,t),_n!==null&&En(_n,t),vr.forEach(n),sn.forEach(n),i=0;i<Dn.length;i++)u=Dn[i],u.blockedOn===t&&(u.blockedOn=null);for(;0<Dn.length&&(i=Dn[0],i.blockedOn===null);)ca(i),i.blockedOn===null&&Dn.shift()}var Xn=Ee.ReactCurrentBatchConfig,_r=!0;function be(t,n,i,u){var h=we,d=Xn.transition;Xn.transition=null;try{we=1,no(t,n,i,u)}finally{we=h,Xn.transition=d}}function Yl(t,n,i,u){var h=we,d=Xn.transition;Xn.transition=null;try{we=4,no(t,n,i,u)}finally{we=h,Xn.transition=d}}function no(t,n,i,u){if(_r){var h=$i(t,n,i,u);if(h===null)au(t,n,u,ii,i),ua(t,u);else if(Gl(h,t,n,i,u))u.stopPropagation();else if(ua(t,u),n&4&&-1<Wl.indexOf(t)){for(;h!==null;){var d=yo(h);if(d!==null&&sa(d),d=$i(t,n,i,u),d===null&&au(t,n,u,ii,i),d===h)break;h=d}h!==null&&u.stopPropagation()}else au(t,n,u,null,i)}}var ii=null;function $i(t,n,i,u){if(ii=null,t=Vi(u),t=ai(t),t!==null)if(n=gn(t),n===null)t=null;else if(i=n.tag,i===13){if(t=Jr(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return ii=t,null}function ro(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ea()){case Zr:return 1;case fr:return 4;case rn:case Zs:return 16;case ta:return 536870912;default:return 16}default:return 16}}var Xt=null,qi=null,Bt=null;function io(){if(Bt)return Bt;var t,n=qi,i=n.length,u,h="value"in Xt?Xt.value:Xt.textContent,d=h.length;for(t=0;t<i&&n[t]===h[t];t++);var y=i-t;for(u=1;u<=y&&n[i-u]===h[d-u];u++);return Bt=h.slice(t,1<u?1-u:void 0)}function bi(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Nn(){return!0}function so(){return!1}function Et(t){function n(i,u,h,d,y){this._reactName=i,this._targetInst=h,this.type=u,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(i=t[w],this[w]=i?i(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Nn:so,this.isPropagationStopped=so,this}return Z(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Nn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Nn)},persist:function(){},isPersistent:Nn}),n}var Tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=Et(Tn),Ln=Z({},Tn,{view:0,detail:0}),Xl=Et(Ln),Qi,Jn,Er,si=Z({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Er&&(Er&&t.type==="mousemove"?(Qi=t.screenX-Er.screenX,Jn=t.screenY-Er.screenY):Jn=Qi=0,Er=t),Qi)},movementY:function(t){return"movementY"in t?t.movementY:Jn}}),Ki=Et(si),oo=Z({},si,{dataTransfer:0}),fa=Et(oo),Wi=Z({},Ln,{relatedTarget:0}),Gi=Et(Wi),da=Z({},Tn,{animationName:0,elapsedTime:0,pseudoElement:0}),Zn=Et(da),pa=Z({},Tn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ma=Et(pa),ga=Z({},Tn,{data:0}),ao=Et(ga),Yi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ot={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ya={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function va(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ya[t])?!!n[t]:!1}function On(){return va}var a=Z({},Ln,{key:function(t){if(t.key){var n=Yi[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=bi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ot[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(t){return t.type==="keypress"?bi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f=Et(a),m=Z({},si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_=Et(m),N=Z({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On}),z=Et(N),W=Z({},Tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Me=Et(W),lt=Z({},si,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Se=Et(lt),pt=[9,13,27,32],rt=g&&"CompositionEvent"in window,on=null;g&&"documentMode"in document&&(on=document.documentMode);var Jt=g&&"TextEvent"in window&&!on,oi=g&&(!rt||on&&8<on&&11>=on),Xi=" ",Ih=!1;function Ch(t,n){switch(t){case"keyup":return pt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ah(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ji=!1;function Xm(t,n){switch(t){case"compositionend":return Ah(n);case"keypress":return n.which!==32?null:(Ih=!0,Xi);case"textInput":return t=n.data,t===Xi&&Ih?null:t;default:return null}}function Jm(t,n){if(Ji)return t==="compositionend"||!rt&&Ch(t,n)?(t=io(),Bt=qi=Xt=null,Ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return oi&&n.locale!=="ko"?null:n.data;default:return null}}var Zm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Zm[t.type]:n==="textarea"}function Ph(t,n,i,u){xn(u),n=Sa(n,"onChange"),0<n.length&&(i=new Hi("onChange","change",null,i,u),t.push({event:i,listeners:n}))}var lo=null,uo=null;function eg(t){Qh(t,0)}function _a(t){var n=rs(t);if(Ai(n))return t}function tg(t,n){if(t==="change")return n}var kh=!1;if(g){var Jl;if(g){var Zl="oninput"in document;if(!Zl){var xh=document.createElement("div");xh.setAttribute("oninput","return;"),Zl=typeof xh.oninput=="function"}Jl=Zl}else Jl=!1;kh=Jl&&(!document.documentMode||9<document.documentMode)}function Vh(){lo&&(lo.detachEvent("onpropertychange",Dh),uo=lo=null)}function Dh(t){if(t.propertyName==="value"&&_a(uo)){var n=[];Ph(n,uo,t,Vi(t)),Gs(eg,n)}}function ng(t,n,i){t==="focusin"?(Vh(),lo=n,uo=i,lo.attachEvent("onpropertychange",Dh)):t==="focusout"&&Vh()}function rg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _a(uo)}function ig(t,n){if(t==="click")return _a(n)}function sg(t,n){if(t==="input"||t==="change")return _a(n)}function og(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Sn=typeof Object.is=="function"?Object.is:og;function co(t,n){if(Sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),u=Object.keys(n);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var h=i[u];if(!v.call(n,h)||!Sn(t[h],n[h]))return!1}return!0}function Nh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lh(t,n){var i=Nh(t);t=0;for(var u;i;){if(i.nodeType===3){if(u=t+i.textContent.length,t<=n&&u>=n)return{node:i,offset:n-t};t=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Nh(i)}}function Oh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Oh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Mh(){for(var t=window,n=cr();n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=cr(t.document)}return n}function eu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function ag(t){var n=Mh(),i=t.focusedElem,u=t.selectionRange;if(n!==i&&i&&i.ownerDocument&&Oh(i.ownerDocument.documentElement,i)){if(u!==null&&eu(i)){if(n=u.start,t=u.end,t===void 0&&(t=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(t,i.value.length);else if(t=(n=i.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var h=i.textContent.length,d=Math.min(u.start,h);u=u.end===void 0?d:Math.min(u.end,h),!t.extend&&d>u&&(h=u,u=d,d=h),h=Lh(i,d);var y=Lh(i,u);h&&y&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),t.removeAllRanges(),d>u?(t.addRange(n),t.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),t.addRange(n)))}}for(n=[],t=i;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)t=n[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lg=g&&"documentMode"in document&&11>=document.documentMode,Zi=null,tu=null,ho=null,nu=!1;function Fh(t,n,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;nu||Zi==null||Zi!==cr(u)||(u=Zi,"selectionStart"in u&&eu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ho&&co(ho,u)||(ho=u,u=Sa(tu,"onSelect"),0<u.length&&(n=new Hi("onSelect","select",null,n,i),t.push({event:n,listeners:u}),n.target=Zi)))}function Ea(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var es={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionend:Ea("Transition","TransitionEnd")},ru={},zh={};g&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function wa(t){if(ru[t])return ru[t];if(!es[t])return t;var n=es[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in zh)return ru[t]=n[i];return t}var Uh=wa("animationend"),Bh=wa("animationiteration"),jh=wa("animationstart"),$h=wa("transitionend"),qh=new Map,bh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(t,n){qh.set(t,n),c(n,[t])}for(var iu=0;iu<bh.length;iu++){var su=bh[iu],ug=su.toLowerCase(),cg=su[0].toUpperCase()+su.slice(1);wr(ug,"on"+cg)}wr(Uh,"onAnimationEnd"),wr(Bh,"onAnimationIteration"),wr(jh,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr($h,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hg=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function Hh(t,n,i){var u=t.type||"unknown-event";t.currentTarget=i,Xo(u,n,void 0,t),t.currentTarget=null}function Qh(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var u=t[i],h=u.event;u=u.listeners;e:{var d=void 0;if(n)for(var y=u.length-1;0<=y;y--){var w=u[y],A=w.instance,F=w.currentTarget;if(w=w.listener,A!==d&&h.isPropagationStopped())break e;Hh(h,w,F),d=A}else for(y=0;y<u.length;y++){if(w=u[y],A=w.instance,F=w.currentTarget,w=w.listener,A!==d&&h.isPropagationStopped())break e;Hh(h,w,F),d=A}}}if(mn)throw t=Ys,mn=!1,Ys=null,t}function $e(t,n){var i=n[du];i===void 0&&(i=n[du]=new Set);var u=t+"__bubble";i.has(u)||(Kh(n,t,2,!1),i.add(u))}function ou(t,n,i){var u=0;n&&(u|=4),Kh(i,t,u,n)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function po(t){if(!t[Ta]){t[Ta]=!0,o.forEach(function(i){i!=="selectionchange"&&(hg.has(i)||ou(i,!1,t),ou(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ta]||(n[Ta]=!0,ou("selectionchange",!1,n))}}function Kh(t,n,i,u){switch(ro(n)){case 1:var h=be;break;case 4:h=Yl;break;default:h=no}i=h.bind(null,n,i,t),h=void 0,!Li||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(n,i,{capture:!0,passive:h}):t.addEventListener(n,i,!0):h!==void 0?t.addEventListener(n,i,{passive:h}):t.addEventListener(n,i,!1)}function au(t,n,i,u,h){var d=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var A=y.tag;if((A===3||A===4)&&(A=y.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;y=y.return}for(;w!==null;){if(y=ai(w),y===null)return;if(A=y.tag,A===5||A===6){u=d=y;continue e}w=w.parentNode}}u=u.return}Gs(function(){var F=d,q=Vi(i),b=[];e:{var $=qh.get(t);if($!==void 0){var X=Hi,re=t;switch(t){case"keypress":if(bi(i)===0)break e;case"keydown":case"keyup":X=f;break;case"focusin":re="focus",X=Gi;break;case"focusout":re="blur",X=Gi;break;case"beforeblur":case"afterblur":X=Gi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Ki;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=fa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=z;break;case Uh:case Bh:case jh:X=Zn;break;case $h:X=Me;break;case"scroll":X=Xl;break;case"wheel":X=Se;break;case"copy":case"cut":case"paste":X=ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=_}var ie=(n&4)!==0,et=!ie&&t==="scroll",L=ie?$!==null?$+"Capture":null:$;ie=[];for(var R=F,M;R!==null;){M=R;var Q=M.stateNode;if(M.tag===5&&Q!==null&&(M=Q,L!==null&&(Q=Ze(R,L),Q!=null&&ie.push(mo(R,Q,M)))),et)break;R=R.return}0<ie.length&&($=new X($,re,null,i,q),b.push({event:$,listeners:ie}))}}if((n&7)===0){e:{if($=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",$&&i!==Wr&&(re=i.relatedTarget||i.fromElement)&&(ai(re)||re[er]))break e;if((X||$)&&($=q.window===q?q:($=q.ownerDocument)?$.defaultView||$.parentWindow:window,X?(re=i.relatedTarget||i.toElement,X=F,re=re?ai(re):null,re!==null&&(et=gn(re),re!==et||re.tag!==5&&re.tag!==6)&&(re=null)):(X=null,re=F),X!==re)){if(ie=Ki,Q="onMouseLeave",L="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(ie=_,Q="onPointerLeave",L="onPointerEnter",R="pointer"),et=X==null?$:rs(X),M=re==null?$:rs(re),$=new ie(Q,R+"leave",X,i,q),$.target=et,$.relatedTarget=M,Q=null,ai(q)===F&&(ie=new ie(L,R+"enter",re,i,q),ie.target=M,ie.relatedTarget=et,Q=ie),et=Q,X&&re)t:{for(ie=X,L=re,R=0,M=ie;M;M=ts(M))R++;for(M=0,Q=L;Q;Q=ts(Q))M++;for(;0<R-M;)ie=ts(ie),R--;for(;0<M-R;)L=ts(L),M--;for(;R--;){if(ie===L||L!==null&&ie===L.alternate)break t;ie=ts(ie),L=ts(L)}ie=null}else ie=null;X!==null&&Wh(b,$,X,ie,!1),re!==null&&et!==null&&Wh(b,et,re,ie,!0)}}e:{if($=F?rs(F):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var se=tg;else if(Rh($))if(kh)se=sg;else{se=rg;var le=ng}else(X=$.nodeName)&&X.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(se=ig);if(se&&(se=se(t,F))){Ph(b,se,i,q);break e}le&&le(t,$,F),t==="focusout"&&(le=$._wrapperState)&&le.controlled&&$.type==="number"&&Pi($,"number",$.value)}switch(le=F?rs(F):window,t){case"focusin":(Rh(le)||le.contentEditable==="true")&&(Zi=le,tu=F,ho=null);break;case"focusout":ho=tu=Zi=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,Fh(b,i,q);break;case"selectionchange":if(lg)break;case"keydown":case"keyup":Fh(b,i,q)}var ue;if(rt)e:{switch(t){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Ji?Ch(t,i)&&(de="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(de="onCompositionStart");de&&(oi&&i.locale!=="ko"&&(Ji||de!=="onCompositionStart"?de==="onCompositionEnd"&&Ji&&(ue=io()):(Xt=q,qi="value"in Xt?Xt.value:Xt.textContent,Ji=!0)),le=Sa(F,de),0<le.length&&(de=new ao(de,t,null,i,q),b.push({event:de,listeners:le}),ue?de.data=ue:(ue=Ah(i),ue!==null&&(de.data=ue)))),(ue=Jt?Xm(t,i):Jm(t,i))&&(F=Sa(F,"onBeforeInput"),0<F.length&&(q=new ao("onBeforeInput","beforeinput",null,i,q),b.push({event:q,listeners:F}),q.data=ue))}Qh(b,n)})}function mo(t,n,i){return{instance:t,listener:n,currentTarget:i}}function Sa(t,n){for(var i=n+"Capture",u=[];t!==null;){var h=t,d=h.stateNode;h.tag===5&&d!==null&&(h=d,d=Ze(t,i),d!=null&&u.unshift(mo(t,d,h)),d=Ze(t,n),d!=null&&u.push(mo(t,d,h))),t=t.return}return u}function ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wh(t,n,i,u,h){for(var d=n._reactName,y=[];i!==null&&i!==u;){var w=i,A=w.alternate,F=w.stateNode;if(A!==null&&A===u)break;w.tag===5&&F!==null&&(w=F,h?(A=Ze(i,d),A!=null&&y.unshift(mo(i,A,w))):h||(A=Ze(i,d),A!=null&&y.push(mo(i,A,w)))),i=i.return}y.length!==0&&t.push({event:n,listeners:y})}var fg=/\r\n?/g,dg=/\u0000|\uFFFD/g;function Gh(t){return(typeof t=="string"?t:""+t).replace(fg,`
`).replace(dg,"")}function Ia(t,n,i){if(n=Gh(n),Gh(t)!==n&&i)throw Error(r(425))}function Ca(){}var lu=null,uu=null;function cu(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hu=typeof setTimeout=="function"?setTimeout:void 0,pg=typeof clearTimeout=="function"?clearTimeout:void 0,Yh=typeof Promise=="function"?Promise:void 0,mg=typeof queueMicrotask=="function"?queueMicrotask:typeof Yh<"u"?function(t){return Yh.resolve(null).then(t).catch(gg)}:hu;function gg(t){setTimeout(function(){throw t})}function fu(t,n){var i=n,u=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(u===0){t.removeChild(h),wn(n);return}u--}else i!=="$"&&i!=="$?"&&i!=="$!"||u++;i=h}while(i);wn(n)}function Tr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Xh(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return t;n--}else i==="/$"&&n++}t=t.previousSibling}return null}var ns=Math.random().toString(36).slice(2),Mn="__reactFiber$"+ns,go="__reactProps$"+ns,er="__reactContainer$"+ns,du="__reactEvents$"+ns,yg="__reactListeners$"+ns,vg="__reactHandles$"+ns;function ai(t){var n=t[Mn];if(n)return n;for(var i=t.parentNode;i;){if(n=i[er]||i[Mn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=Xh(t);t!==null;){if(i=t[Mn])return i;t=Xh(t)}return n}t=i,i=t.parentNode}return null}function yo(t){return t=t[Mn]||t[er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function Aa(t){return t[go]||null}var pu=[],is=-1;function Sr(t){return{current:t}}function qe(t){0>is||(t.current=pu[is],pu[is]=null,is--)}function je(t,n){is++,pu[is]=t.current,t.current=n}var Ir={},Rt=Sr(Ir),jt=Sr(!1),li=Ir;function ss(t,n){var i=t.type.contextTypes;if(!i)return Ir;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var h={},d;for(d in i)h[d]=n[d];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=h),h}function $t(t){return t=t.childContextTypes,t!=null}function Ra(){qe(jt),qe(Rt)}function Jh(t,n,i){if(Rt.current!==Ir)throw Error(r(168));je(Rt,n),je(jt,i)}function Zh(t,n,i){var u=t.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return i;u=u.getChildContext();for(var h in u)if(!(h in n))throw Error(r(108,Le(t)||"Unknown",h));return Z({},i,u)}function Pa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ir,li=Rt.current,je(Rt,t),je(jt,jt.current),!0}function ef(t,n,i){var u=t.stateNode;if(!u)throw Error(r(169));i?(t=Zh(t,n,li),u.__reactInternalMemoizedMergedChildContext=t,qe(jt),qe(Rt),je(Rt,t)):qe(jt),je(jt,i)}var tr=null,ka=!1,mu=!1;function tf(t){tr===null?tr=[t]:tr.push(t)}function _g(t){ka=!0,tf(t)}function Cr(){if(!mu&&tr!==null){mu=!0;var t=0,n=we;try{var i=tr;for(we=1;t<i.length;t++){var u=i[t];do u=u(!0);while(u!==null)}tr=null,ka=!1}catch(h){throw tr!==null&&(tr=tr.slice(t+1)),zi(Zr,Cr),h}finally{we=n,mu=!1}}return null}var os=[],as=0,xa=null,Va=0,an=[],ln=0,ui=null,nr=1,rr="";function ci(t,n){os[as++]=Va,os[as++]=xa,xa=t,Va=n}function nf(t,n,i){an[ln++]=nr,an[ln++]=rr,an[ln++]=ui,ui=t;var u=nr;t=rr;var h=32-Lt(u)-1;u&=~(1<<h),i+=1;var d=32-Lt(n)+h;if(30<d){var y=h-h%5;d=(u&(1<<y)-1).toString(32),u>>=y,h-=y,nr=1<<32-Lt(n)+h|i<<h|u,rr=d+t}else nr=1<<d|i<<h|u,rr=t}function gu(t){t.return!==null&&(ci(t,1),nf(t,1,0))}function yu(t){for(;t===xa;)xa=os[--as],os[as]=null,Va=os[--as],os[as]=null;for(;t===ui;)ui=an[--ln],an[ln]=null,rr=an[--ln],an[ln]=null,nr=an[--ln],an[ln]=null}var Zt=null,en=null,He=!1,In=null;function rf(t,n){var i=fn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=t,n=t.deletions,n===null?(t.deletions=[i],t.flags|=16):n.push(i)}function sf(t,n){switch(t.tag){case 5:var i=t.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,Zt=t,en=Tr(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,Zt=t,en=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=ui!==null?{id:nr,overflow:rr}:null,t.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=fn(18,null,null,0),i.stateNode=n,i.return=t,t.child=i,Zt=t,en=null,!0):!1;default:return!1}}function vu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _u(t){if(He){var n=en;if(n){var i=n;if(!sf(t,n)){if(vu(t))throw Error(r(418));n=Tr(i.nextSibling);var u=Zt;n&&sf(t,n)?rf(u,i):(t.flags=t.flags&-4097|2,He=!1,Zt=t)}}else{if(vu(t))throw Error(r(418));t.flags=t.flags&-4097|2,He=!1,Zt=t}}}function of(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function Da(t){if(t!==Zt)return!1;if(!He)return of(t),He=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!cu(t.type,t.memoizedProps)),n&&(n=en)){if(vu(t))throw af(),Error(r(418));for(;n;)rf(t,n),n=Tr(n.nextSibling)}if(of(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(n===0){en=Tr(t.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}t=t.nextSibling}en=null}}else en=Zt?Tr(t.stateNode.nextSibling):null;return!0}function af(){for(var t=en;t;)t=Tr(t.nextSibling)}function ls(){en=Zt=null,He=!1}function Eu(t){In===null?In=[t]:In.push(t)}var Eg=Ee.ReactCurrentBatchConfig;function vo(t,n,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(r(309));var u=i.stateNode}if(!u)throw Error(r(147,t));var h=u,d=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(y){var w=h.refs;y===null?delete w[d]:w[d]=y},n._stringRef=d,n)}if(typeof t!="string")throw Error(r(284));if(!i._owner)throw Error(r(290,t))}return t}function Na(t,n){throw t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function lf(t){var n=t._init;return n(t._payload)}function uf(t){function n(L,R){if(t){var M=L.deletions;M===null?(L.deletions=[R],L.flags|=16):M.push(R)}}function i(L,R){if(!t)return null;for(;R!==null;)n(L,R),R=R.sibling;return null}function u(L,R){for(L=new Map;R!==null;)R.key!==null?L.set(R.key,R):L.set(R.index,R),R=R.sibling;return L}function h(L,R){return L=Nr(L,R),L.index=0,L.sibling=null,L}function d(L,R,M){return L.index=M,t?(M=L.alternate,M!==null?(M=M.index,M<R?(L.flags|=2,R):M):(L.flags|=2,R)):(L.flags|=1048576,R)}function y(L){return t&&L.alternate===null&&(L.flags|=2),L}function w(L,R,M,Q){return R===null||R.tag!==6?(R=hc(M,L.mode,Q),R.return=L,R):(R=h(R,M),R.return=L,R)}function A(L,R,M,Q){var se=M.type;return se===k?q(L,R,M.props.children,Q,M.key):R!==null&&(R.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===At&&lf(se)===R.type)?(Q=h(R,M.props),Q.ref=vo(L,R,M),Q.return=L,Q):(Q=rl(M.type,M.key,M.props,null,L.mode,Q),Q.ref=vo(L,R,M),Q.return=L,Q)}function F(L,R,M,Q){return R===null||R.tag!==4||R.stateNode.containerInfo!==M.containerInfo||R.stateNode.implementation!==M.implementation?(R=fc(M,L.mode,Q),R.return=L,R):(R=h(R,M.children||[]),R.return=L,R)}function q(L,R,M,Q,se){return R===null||R.tag!==7?(R=vi(M,L.mode,Q,se),R.return=L,R):(R=h(R,M),R.return=L,R)}function b(L,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return R=hc(""+R,L.mode,M),R.return=L,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Xe:return M=rl(R.type,R.key,R.props,null,L.mode,M),M.ref=vo(L,null,R),M.return=L,M;case ke:return R=fc(R,L.mode,M),R.return=L,R;case At:var Q=R._init;return b(L,Q(R._payload),M)}if(Hn(R)||ae(R))return R=vi(R,L.mode,M,null),R.return=L,R;Na(L,R)}return null}function $(L,R,M,Q){var se=R!==null?R.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return se!==null?null:w(L,R,""+M,Q);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Xe:return M.key===se?A(L,R,M,Q):null;case ke:return M.key===se?F(L,R,M,Q):null;case At:return se=M._init,$(L,R,se(M._payload),Q)}if(Hn(M)||ae(M))return se!==null?null:q(L,R,M,Q,null);Na(L,M)}return null}function X(L,R,M,Q,se){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return L=L.get(M)||null,w(R,L,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Xe:return L=L.get(Q.key===null?M:Q.key)||null,A(R,L,Q,se);case ke:return L=L.get(Q.key===null?M:Q.key)||null,F(R,L,Q,se);case At:var le=Q._init;return X(L,R,M,le(Q._payload),se)}if(Hn(Q)||ae(Q))return L=L.get(M)||null,q(R,L,Q,se,null);Na(R,Q)}return null}function re(L,R,M,Q){for(var se=null,le=null,ue=R,de=R=0,yt=null;ue!==null&&de<M.length;de++){ue.index>de?(yt=ue,ue=null):yt=ue.sibling;var De=$(L,ue,M[de],Q);if(De===null){ue===null&&(ue=yt);break}t&&ue&&De.alternate===null&&n(L,ue),R=d(De,R,de),le===null?se=De:le.sibling=De,le=De,ue=yt}if(de===M.length)return i(L,ue),He&&ci(L,de),se;if(ue===null){for(;de<M.length;de++)ue=b(L,M[de],Q),ue!==null&&(R=d(ue,R,de),le===null?se=ue:le.sibling=ue,le=ue);return He&&ci(L,de),se}for(ue=u(L,ue);de<M.length;de++)yt=X(ue,L,de,M[de],Q),yt!==null&&(t&&yt.alternate!==null&&ue.delete(yt.key===null?de:yt.key),R=d(yt,R,de),le===null?se=yt:le.sibling=yt,le=yt);return t&&ue.forEach(function(Lr){return n(L,Lr)}),He&&ci(L,de),se}function ie(L,R,M,Q){var se=ae(M);if(typeof se!="function")throw Error(r(150));if(M=se.call(M),M==null)throw Error(r(151));for(var le=se=null,ue=R,de=R=0,yt=null,De=M.next();ue!==null&&!De.done;de++,De=M.next()){ue.index>de?(yt=ue,ue=null):yt=ue.sibling;var Lr=$(L,ue,De.value,Q);if(Lr===null){ue===null&&(ue=yt);break}t&&ue&&Lr.alternate===null&&n(L,ue),R=d(Lr,R,de),le===null?se=Lr:le.sibling=Lr,le=Lr,ue=yt}if(De.done)return i(L,ue),He&&ci(L,de),se;if(ue===null){for(;!De.done;de++,De=M.next())De=b(L,De.value,Q),De!==null&&(R=d(De,R,de),le===null?se=De:le.sibling=De,le=De);return He&&ci(L,de),se}for(ue=u(L,ue);!De.done;de++,De=M.next())De=X(ue,L,de,De.value,Q),De!==null&&(t&&De.alternate!==null&&ue.delete(De.key===null?de:De.key),R=d(De,R,de),le===null?se=De:le.sibling=De,le=De);return t&&ue.forEach(function(Zg){return n(L,Zg)}),He&&ci(L,de),se}function et(L,R,M,Q){if(typeof M=="object"&&M!==null&&M.type===k&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Xe:e:{for(var se=M.key,le=R;le!==null;){if(le.key===se){if(se=M.type,se===k){if(le.tag===7){i(L,le.sibling),R=h(le,M.props.children),R.return=L,L=R;break e}}else if(le.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===At&&lf(se)===le.type){i(L,le.sibling),R=h(le,M.props),R.ref=vo(L,le,M),R.return=L,L=R;break e}i(L,le);break}else n(L,le);le=le.sibling}M.type===k?(R=vi(M.props.children,L.mode,Q,M.key),R.return=L,L=R):(Q=rl(M.type,M.key,M.props,null,L.mode,Q),Q.ref=vo(L,R,M),Q.return=L,L=Q)}return y(L);case ke:e:{for(le=M.key;R!==null;){if(R.key===le)if(R.tag===4&&R.stateNode.containerInfo===M.containerInfo&&R.stateNode.implementation===M.implementation){i(L,R.sibling),R=h(R,M.children||[]),R.return=L,L=R;break e}else{i(L,R);break}else n(L,R);R=R.sibling}R=fc(M,L.mode,Q),R.return=L,L=R}return y(L);case At:return le=M._init,et(L,R,le(M._payload),Q)}if(Hn(M))return re(L,R,M,Q);if(ae(M))return ie(L,R,M,Q);Na(L,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,R!==null&&R.tag===6?(i(L,R.sibling),R=h(R,M),R.return=L,L=R):(i(L,R),R=hc(M,L.mode,Q),R.return=L,L=R),y(L)):i(L,R)}return et}var us=uf(!0),cf=uf(!1),La=Sr(null),Oa=null,cs=null,wu=null;function Tu(){wu=cs=Oa=null}function Su(t){var n=La.current;qe(La),t._currentValue=n}function Iu(t,n,i){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===i)break;t=t.return}}function hs(t,n){Oa=t,wu=cs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(qt=!0),t.firstContext=null)}function un(t){var n=t._currentValue;if(wu!==t)if(t={context:t,memoizedValue:n,next:null},cs===null){if(Oa===null)throw Error(r(308));cs=t,Oa.dependencies={lanes:0,firstContext:t}}else cs=cs.next=t;return n}var hi=null;function Cu(t){hi===null?hi=[t]:hi.push(t)}function hf(t,n,i,u){var h=n.interleaved;return h===null?(i.next=i,Cu(n)):(i.next=h.next,h.next=i),n.interleaved=i,ir(t,u)}function ir(t,n){t.lanes|=n;var i=t.alternate;for(i!==null&&(i.lanes|=n),i=t,t=t.return;t!==null;)t.childLanes|=n,i=t.alternate,i!==null&&(i.childLanes|=n),i=t,t=t.return;return i.tag===3?i.stateNode:null}var Ar=!1;function Au(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ff(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sr(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Rr(t,n,i){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(xe&2)!==0){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,ir(t,i)}return h=u.interleaved,h===null?(n.next=n,Cu(u)):(n.next=h.next,h.next=n),u.interleaved=n,ir(t,i)}function Ma(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var u=n.lanes;u&=t.pendingLanes,i|=u,n.lanes=i,gr(t,i)}}function df(t,n){var i=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var h=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?h=d=y:d=d.next=y,i=i.next}while(i!==null);d===null?h=d=n:d=d.next=n}else h=d=n;i={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:u.shared,effects:u.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}function Fa(t,n,i,u){var h=t.updateQueue;Ar=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var A=w,F=A.next;A.next=null,y===null?d=F:y.next=F,y=A;var q=t.alternate;q!==null&&(q=q.updateQueue,w=q.lastBaseUpdate,w!==y&&(w===null?q.firstBaseUpdate=F:w.next=F,q.lastBaseUpdate=A))}if(d!==null){var b=h.baseState;y=0,q=F=A=null,w=d;do{var $=w.lane,X=w.eventTime;if((u&$)===$){q!==null&&(q=q.next={eventTime:X,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=t,ie=w;switch($=n,X=i,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){b=re.call(X,b,$);break e}b=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,$=typeof re=="function"?re.call(X,b,$):re,$==null)break e;b=Z({},b,$);break e;case 2:Ar=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,$=h.effects,$===null?h.effects=[w]:$.push(w))}else X={eventTime:X,lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},q===null?(F=q=X,A=b):q=q.next=X,y|=$;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;$=w,w=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);if(q===null&&(A=b),h.baseState=A,h.firstBaseUpdate=F,h.lastBaseUpdate=q,n=h.shared.interleaved,n!==null){h=n;do y|=h.lane,h=h.next;while(h!==n)}else d===null&&(h.shared.lanes=0);pi|=y,t.lanes=y,t.memoizedState=b}}function pf(t,n,i){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var u=t[n],h=u.callback;if(h!==null){if(u.callback=null,u=i,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var _o={},Fn=Sr(_o),Eo=Sr(_o),wo=Sr(_o);function fi(t){if(t===_o)throw Error(r(174));return t}function Ru(t,n){switch(je(wo,n),je(Eo,t),je(Fn,_o),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:at(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=at(n,t)}qe(Fn),je(Fn,n)}function fs(){qe(Fn),qe(Eo),qe(wo)}function mf(t){fi(wo.current);var n=fi(Fn.current),i=at(n,t.type);n!==i&&(je(Eo,t),je(Fn,i))}function Pu(t){Eo.current===t&&(qe(Fn),qe(Eo))}var Qe=Sr(0);function za(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ku=[];function xu(){for(var t=0;t<ku.length;t++)ku[t]._workInProgressVersionPrimary=null;ku.length=0}var Ua=Ee.ReactCurrentDispatcher,Vu=Ee.ReactCurrentBatchConfig,di=0,Ke=null,ut=null,mt=null,Ba=!1,To=!1,So=0,wg=0;function Pt(){throw Error(r(321))}function Du(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!Sn(t[i],n[i]))return!1;return!0}function Nu(t,n,i,u,h,d){if(di=d,Ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ua.current=t===null||t.memoizedState===null?Cg:Ag,t=i(u,h),To){d=0;do{if(To=!1,So=0,25<=d)throw Error(r(301));d+=1,mt=ut=null,n.updateQueue=null,Ua.current=Rg,t=i(u,h)}while(To)}if(Ua.current=qa,n=ut!==null&&ut.next!==null,di=0,mt=ut=Ke=null,Ba=!1,n)throw Error(r(300));return t}function Lu(){var t=So!==0;return So=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ke.memoizedState=mt=t:mt=mt.next=t,mt}function cn(){if(ut===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var n=mt===null?Ke.memoizedState:mt.next;if(n!==null)mt=n,ut=t;else{if(t===null)throw Error(r(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},mt===null?Ke.memoizedState=mt=t:mt=mt.next=t}return mt}function Io(t,n){return typeof n=="function"?n(t):n}function Ou(t){var n=cn(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var u=ut,h=u.baseQueue,d=i.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}u.baseQueue=h=d,i.pending=null}if(h!==null){d=h.next,u=u.baseState;var w=y=null,A=null,F=d;do{var q=F.lane;if((di&q)===q)A!==null&&(A=A.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),u=F.hasEagerState?F.eagerState:t(u,F.action);else{var b={lane:q,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};A===null?(w=A=b,y=u):A=A.next=b,Ke.lanes|=q,pi|=q}F=F.next}while(F!==null&&F!==d);A===null?y=u:A.next=w,Sn(u,n.memoizedState)||(qt=!0),n.memoizedState=u,n.baseState=y,n.baseQueue=A,i.lastRenderedState=u}if(t=i.interleaved,t!==null){h=t;do d=h.lane,Ke.lanes|=d,pi|=d,h=h.next;while(h!==t)}else h===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Mu(t){var n=cn(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var u=i.dispatch,h=i.pending,d=n.memoizedState;if(h!==null){i.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);Sn(d,n.memoizedState)||(qt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,u]}function gf(){}function yf(t,n){var i=Ke,u=cn(),h=n(),d=!Sn(u.memoizedState,h);if(d&&(u.memoizedState=h,qt=!0),u=u.queue,Fu(Ef.bind(null,i,u,t),[t]),u.getSnapshot!==n||d||mt!==null&&mt.memoizedState.tag&1){if(i.flags|=2048,Co(9,_f.bind(null,i,u,h,n),void 0,null),gt===null)throw Error(r(349));(di&30)!==0||vf(i,n,h)}return h}function vf(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=Ke.updateQueue,n===null?(n={lastEffect:null,stores:null},Ke.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function _f(t,n,i,u){n.value=i,n.getSnapshot=u,wf(n)&&Tf(t)}function Ef(t,n,i){return i(function(){wf(n)&&Tf(t)})}function wf(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!Sn(t,i)}catch{return!0}}function Tf(t){var n=ir(t,1);n!==null&&Pn(n,t,1,-1)}function Sf(t){var n=zn();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:t},n.queue=t,t=t.dispatch=Ig.bind(null,Ke,t),[n.memoizedState,t]}function Co(t,n,i,u){return t={tag:t,create:n,destroy:i,deps:u,next:null},n=Ke.updateQueue,n===null?(n={lastEffect:null,stores:null},Ke.updateQueue=n,n.lastEffect=t.next=t):(i=n.lastEffect,i===null?n.lastEffect=t.next=t:(u=i.next,i.next=t,t.next=u,n.lastEffect=t)),t}function If(){return cn().memoizedState}function ja(t,n,i,u){var h=zn();Ke.flags|=t,h.memoizedState=Co(1|n,i,void 0,u===void 0?null:u)}function $a(t,n,i,u){var h=cn();u=u===void 0?null:u;var d=void 0;if(ut!==null){var y=ut.memoizedState;if(d=y.destroy,u!==null&&Du(u,y.deps)){h.memoizedState=Co(n,i,d,u);return}}Ke.flags|=t,h.memoizedState=Co(1|n,i,d,u)}function Cf(t,n){return ja(8390656,8,t,n)}function Fu(t,n){return $a(2048,8,t,n)}function Af(t,n){return $a(4,2,t,n)}function Rf(t,n){return $a(4,4,t,n)}function Pf(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function kf(t,n,i){return i=i!=null?i.concat([t]):null,$a(4,4,Pf.bind(null,n,t),i)}function zu(){}function xf(t,n){var i=cn();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&Du(n,u[1])?u[0]:(i.memoizedState=[t,n],t)}function Vf(t,n){var i=cn();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&Du(n,u[1])?u[0]:(t=t(),i.memoizedState=[t,n],t)}function Df(t,n,i){return(di&21)===0?(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=i):(Sn(i,n)||(i=ni(),Ke.lanes|=i,pi|=i,t.baseState=!0),n)}function Tg(t,n){var i=we;we=i!==0&&4>i?i:4,t(!0);var u=Vu.transition;Vu.transition={};try{t(!1),n()}finally{we=i,Vu.transition=u}}function Nf(){return cn().memoizedState}function Sg(t,n,i){var u=Vr(t);if(i={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null},Lf(t))Of(n,i);else if(i=hf(t,n,i,u),i!==null){var h=Ft();Pn(i,t,u,h),Mf(i,n,u)}}function Ig(t,n,i){var u=Vr(t),h={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null};if(Lf(t))Of(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,w=d(y,i);if(h.hasEagerState=!0,h.eagerState=w,Sn(w,y)){var A=n.interleaved;A===null?(h.next=h,Cu(n)):(h.next=A.next,A.next=h),n.interleaved=h;return}}catch{}finally{}i=hf(t,n,h,u),i!==null&&(h=Ft(),Pn(i,t,u,h),Mf(i,n,u))}}function Lf(t){var n=t.alternate;return t===Ke||n!==null&&n===Ke}function Of(t,n){To=Ba=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function Mf(t,n,i){if((i&4194240)!==0){var u=n.lanes;u&=t.pendingLanes,i|=u,n.lanes=i,gr(t,i)}}var qa={readContext:un,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},Cg={readContext:un,useCallback:function(t,n){return zn().memoizedState=[t,n===void 0?null:n],t},useContext:un,useEffect:Cf,useImperativeHandle:function(t,n,i){return i=i!=null?i.concat([t]):null,ja(4194308,4,Pf.bind(null,n,t),i)},useLayoutEffect:function(t,n){return ja(4194308,4,t,n)},useInsertionEffect:function(t,n){return ja(4,2,t,n)},useMemo:function(t,n){var i=zn();return n=n===void 0?null:n,t=t(),i.memoizedState=[t,n],t},useReducer:function(t,n,i){var u=zn();return n=i!==void 0?i(n):n,u.memoizedState=u.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},u.queue=t,t=t.dispatch=Sg.bind(null,Ke,t),[u.memoizedState,t]},useRef:function(t){var n=zn();return t={current:t},n.memoizedState=t},useState:Sf,useDebugValue:zu,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=Sf(!1),n=t[0];return t=Tg.bind(null,t[1]),zn().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,i){var u=Ke,h=zn();if(He){if(i===void 0)throw Error(r(407));i=i()}else{if(i=n(),gt===null)throw Error(r(349));(di&30)!==0||vf(u,n,i)}h.memoizedState=i;var d={value:i,getSnapshot:n};return h.queue=d,Cf(Ef.bind(null,u,d,t),[t]),u.flags|=2048,Co(9,_f.bind(null,u,d,i,n),void 0,null),i},useId:function(){var t=zn(),n=gt.identifierPrefix;if(He){var i=rr,u=nr;i=(u&~(1<<32-Lt(u)-1)).toString(32)+i,n=":"+n+"R"+i,i=So++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=wg++,n=":"+n+"r"+i.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Ag={readContext:un,useCallback:xf,useContext:un,useEffect:Fu,useImperativeHandle:kf,useInsertionEffect:Af,useLayoutEffect:Rf,useMemo:Vf,useReducer:Ou,useRef:If,useState:function(){return Ou(Io)},useDebugValue:zu,useDeferredValue:function(t){var n=cn();return Df(n,ut.memoizedState,t)},useTransition:function(){var t=Ou(Io)[0],n=cn().memoizedState;return[t,n]},useMutableSource:gf,useSyncExternalStore:yf,useId:Nf,unstable_isNewReconciler:!1},Rg={readContext:un,useCallback:xf,useContext:un,useEffect:Fu,useImperativeHandle:kf,useInsertionEffect:Af,useLayoutEffect:Rf,useMemo:Vf,useReducer:Mu,useRef:If,useState:function(){return Mu(Io)},useDebugValue:zu,useDeferredValue:function(t){var n=cn();return ut===null?n.memoizedState=t:Df(n,ut.memoizedState,t)},useTransition:function(){var t=Mu(Io)[0],n=cn().memoizedState;return[t,n]},useMutableSource:gf,useSyncExternalStore:yf,useId:Nf,unstable_isNewReconciler:!1};function Cn(t,n){if(t&&t.defaultProps){n=Z({},n),t=t.defaultProps;for(var i in t)n[i]===void 0&&(n[i]=t[i]);return n}return n}function Uu(t,n,i,u){n=t.memoizedState,i=i(u,n),i=i==null?n:Z({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var ba={isMounted:function(t){return(t=t._reactInternals)?gn(t)===t:!1},enqueueSetState:function(t,n,i){t=t._reactInternals;var u=Ft(),h=Vr(t),d=sr(u,h);d.payload=n,i!=null&&(d.callback=i),n=Rr(t,d,h),n!==null&&(Pn(n,t,h,u),Ma(n,t,h))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var u=Ft(),h=Vr(t),d=sr(u,h);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Rr(t,d,h),n!==null&&(Pn(n,t,h,u),Ma(n,t,h))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=Ft(),u=Vr(t),h=sr(i,u);h.tag=2,n!=null&&(h.callback=n),n=Rr(t,h,u),n!==null&&(Pn(n,t,u,i),Ma(n,t,u))}};function Ff(t,n,i,u,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,d,y):n.prototype&&n.prototype.isPureReactComponent?!co(i,u)||!co(h,d):!0}function zf(t,n,i){var u=!1,h=Ir,d=n.contextType;return typeof d=="object"&&d!==null?d=un(d):(h=$t(n)?li:Rt.current,u=n.contextTypes,d=(u=u!=null)?ss(t,h):Ir),n=new n(i,d),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ba,t.stateNode=n,n._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=d),n}function Uf(t,n,i,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,u),n.state!==t&&ba.enqueueReplaceState(n,n.state,null)}function Bu(t,n,i,u){var h=t.stateNode;h.props=i,h.state=t.memoizedState,h.refs={},Au(t);var d=n.contextType;typeof d=="object"&&d!==null?h.context=un(d):(d=$t(n)?li:Rt.current,h.context=ss(t,d)),h.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Uu(t,n,d,i),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&ba.enqueueReplaceState(h,h.state,null),Fa(t,i,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function ds(t,n){try{var i="",u=n;do i+=ye(u),u=u.return;while(u);var h=i}catch(d){h=`
Error generating stack: `+d.message+`
`+d.stack}return{value:t,source:n,stack:h,digest:null}}function ju(t,n,i){return{value:t,source:null,stack:i??null,digest:n??null}}function $u(t,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Pg=typeof WeakMap=="function"?WeakMap:Map;function Bf(t,n,i){i=sr(-1,i),i.tag=3,i.payload={element:null};var u=n.value;return i.callback=function(){Xa||(Xa=!0,rc=u),$u(t,n)},i}function jf(t,n,i){i=sr(-1,i),i.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;i.payload=function(){return u(h)},i.callback=function(){$u(t,n)}}var d=t.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){$u(t,n),typeof u!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),i}function $f(t,n,i){var u=t.pingCache;if(u===null){u=t.pingCache=new Pg;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(i)||(h.add(i),t=$g.bind(null,t,n,i),n.then(t,t))}function qf(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function bf(t,n,i,u,h){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=sr(-1,1),n.tag=2,Rr(i,n,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var kg=Ee.ReactCurrentOwner,qt=!1;function Mt(t,n,i,u){n.child=t===null?cf(n,null,i,u):us(n,t.child,i,u)}function Hf(t,n,i,u,h){i=i.render;var d=n.ref;return hs(n,h),u=Nu(t,n,i,u,d,h),i=Lu(),t!==null&&!qt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,or(t,n,h)):(He&&i&&gu(n),n.flags|=1,Mt(t,n,u,h),n.child)}function Qf(t,n,i,u,h){if(t===null){var d=i.type;return typeof d=="function"&&!cc(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=d,Kf(t,n,d,u,h)):(t=rl(i.type,null,u,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,(t.lanes&h)===0){var y=d.memoizedProps;if(i=i.compare,i=i!==null?i:co,i(y,u)&&t.ref===n.ref)return or(t,n,h)}return n.flags|=1,t=Nr(d,u),t.ref=n.ref,t.return=n,n.child=t}function Kf(t,n,i,u,h){if(t!==null){var d=t.memoizedProps;if(co(d,u)&&t.ref===n.ref)if(qt=!1,n.pendingProps=u=d,(t.lanes&h)!==0)(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,or(t,n,h)}return qu(t,n,i,u,h)}function Wf(t,n,i){var u=n.pendingProps,h=u.children,d=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(ms,tn),tn|=i;else{if((i&1073741824)===0)return t=d!==null?d.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,je(ms,tn),tn|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=d!==null?d.baseLanes:i,je(ms,tn),tn|=u}else d!==null?(u=d.baseLanes|i,n.memoizedState=null):u=i,je(ms,tn),tn|=u;return Mt(t,n,h,i),n.child}function Gf(t,n){var i=n.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function qu(t,n,i,u,h){var d=$t(i)?li:Rt.current;return d=ss(n,d),hs(n,h),i=Nu(t,n,i,u,d,h),u=Lu(),t!==null&&!qt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,or(t,n,h)):(He&&u&&gu(n),n.flags|=1,Mt(t,n,i,h),n.child)}function Yf(t,n,i,u,h){if($t(i)){var d=!0;Pa(n)}else d=!1;if(hs(n,h),n.stateNode===null)Qa(t,n),zf(n,i,u),Bu(n,i,u,h),u=!0;else if(t===null){var y=n.stateNode,w=n.memoizedProps;y.props=w;var A=y.context,F=i.contextType;typeof F=="object"&&F!==null?F=un(F):(F=$t(i)?li:Rt.current,F=ss(n,F));var q=i.getDerivedStateFromProps,b=typeof q=="function"||typeof y.getSnapshotBeforeUpdate=="function";b||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==u||A!==F)&&Uf(n,y,u,F),Ar=!1;var $=n.memoizedState;y.state=$,Fa(n,u,y,h),A=n.memoizedState,w!==u||$!==A||jt.current||Ar?(typeof q=="function"&&(Uu(n,i,q,u),A=n.memoizedState),(w=Ar||Ff(n,i,w,u,$,A,F))?(b||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=A),y.props=u,y.state=A,y.context=F,u=w):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,ff(t,n),w=n.memoizedProps,F=n.type===n.elementType?w:Cn(n.type,w),y.props=F,b=n.pendingProps,$=y.context,A=i.contextType,typeof A=="object"&&A!==null?A=un(A):(A=$t(i)?li:Rt.current,A=ss(n,A));var X=i.getDerivedStateFromProps;(q=typeof X=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==b||$!==A)&&Uf(n,y,u,A),Ar=!1,$=n.memoizedState,y.state=$,Fa(n,u,y,h);var re=n.memoizedState;w!==b||$!==re||jt.current||Ar?(typeof X=="function"&&(Uu(n,i,X,u),re=n.memoizedState),(F=Ar||Ff(n,i,F,u,$,re,A)||!1)?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,A)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=re),y.props=u,y.state=re,y.context=A,u=F):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),u=!1)}return bu(t,n,i,u,d,h)}function bu(t,n,i,u,h,d){Gf(t,n);var y=(n.flags&128)!==0;if(!u&&!y)return h&&ef(n,i,!1),or(t,n,d);u=n.stateNode,kg.current=n;var w=y&&typeof i.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,t!==null&&y?(n.child=us(n,t.child,null,d),n.child=us(n,null,w,d)):Mt(t,n,w,d),n.memoizedState=u.state,h&&ef(n,i,!0),n.child}function Xf(t){var n=t.stateNode;n.pendingContext?Jh(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Jh(t,n.context,!1),Ru(t,n.containerInfo)}function Jf(t,n,i,u,h){return ls(),Eu(h),n.flags|=256,Mt(t,n,i,u),n.child}var Hu={dehydrated:null,treeContext:null,retryLane:0};function Qu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zf(t,n,i){var u=n.pendingProps,h=Qe.current,d=!1,y=(n.flags&128)!==0,w;if((w=y)||(w=t!==null&&t.memoizedState===null?!1:(h&2)!==0),w?(d=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),je(Qe,h&1),t===null)return _u(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(y=u.children,t=u.fallback,d?(u=n.mode,d=n.child,y={mode:"hidden",children:y},(u&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=y):d=il(y,u,0,null),t=vi(t,u,i,null),d.return=n,t.return=n,d.sibling=t,n.child=d,n.child.memoizedState=Qu(i),n.memoizedState=Hu,t):Ku(n,y));if(h=t.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return xg(t,n,y,u,w,h,i);if(d){d=u.fallback,y=n.mode,h=t.child,w=h.sibling;var A={mode:"hidden",children:u.children};return(y&1)===0&&n.child!==h?(u=n.child,u.childLanes=0,u.pendingProps=A,n.deletions=null):(u=Nr(h,A),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?d=Nr(w,d):(d=vi(d,y,i,null),d.flags|=2),d.return=n,u.return=n,u.sibling=d,n.child=u,u=d,d=n.child,y=t.child.memoizedState,y=y===null?Qu(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},d.memoizedState=y,d.childLanes=t.childLanes&~i,n.memoizedState=Hu,u}return d=t.child,t=d.sibling,u=Nr(d,{mode:"visible",children:u.children}),(n.mode&1)===0&&(u.lanes=i),u.return=n,u.sibling=null,t!==null&&(i=n.deletions,i===null?(n.deletions=[t],n.flags|=16):i.push(t)),n.child=u,n.memoizedState=null,u}function Ku(t,n){return n=il({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function Ha(t,n,i,u){return u!==null&&Eu(u),us(n,t.child,null,i),t=Ku(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function xg(t,n,i,u,h,d,y){if(i)return n.flags&256?(n.flags&=-257,u=ju(Error(r(422))),Ha(t,n,y,u)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(d=u.fallback,h=n.mode,u=il({mode:"visible",children:u.children},h,0,null),d=vi(d,h,y,null),d.flags|=2,u.return=n,d.return=n,u.sibling=d,n.child=u,(n.mode&1)!==0&&us(n,t.child,null,y),n.child.memoizedState=Qu(y),n.memoizedState=Hu,d);if((n.mode&1)===0)return Ha(t,n,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,d=Error(r(419)),u=ju(d,u,void 0),Ha(t,n,y,u)}if(w=(y&t.childLanes)!==0,qt||w){if(u=gt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|y))!==0?0:h,h!==0&&h!==d.retryLane&&(d.retryLane=h,ir(t,h),Pn(u,t,h,-1))}return uc(),u=ju(Error(r(421))),Ha(t,n,y,u)}return h.data==="$?"?(n.flags|=128,n.child=t.child,n=qg.bind(null,t),h._reactRetry=n,null):(t=d.treeContext,en=Tr(h.nextSibling),Zt=n,He=!0,In=null,t!==null&&(an[ln++]=nr,an[ln++]=rr,an[ln++]=ui,nr=t.id,rr=t.overflow,ui=n),n=Ku(n,u.children),n.flags|=4096,n)}function ed(t,n,i){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),Iu(t.return,n,i)}function Wu(t,n,i,u,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=i,d.tailMode=h)}function td(t,n,i){var u=n.pendingProps,h=u.revealOrder,d=u.tail;if(Mt(t,n,u.children,i),u=Qe.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ed(t,i,n);else if(t.tag===19)ed(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(je(Qe,u),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(i=n.child,h=null;i!==null;)t=i.alternate,t!==null&&za(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),Wu(n,!1,h,i,d);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&za(t)===null){n.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Wu(n,!0,i,null,d);break;case"together":Wu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Qa(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function or(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),pi|=n.lanes,(i&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,i=Nr(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=Nr(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function Vg(t,n,i){switch(n.tag){case 3:Xf(n),ls();break;case 5:mf(n);break;case 1:$t(n.type)&&Pa(n);break;case 4:Ru(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,h=n.memoizedProps.value;je(La,u._currentValue),u._currentValue=h;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(je(Qe,Qe.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?Zf(t,n,i):(je(Qe,Qe.current&1),t=or(t,n,i),t!==null?t.sibling:null);je(Qe,Qe.current&1);break;case 19:if(u=(i&n.childLanes)!==0,(t.flags&128)!==0){if(u)return td(t,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),je(Qe,Qe.current),u)break;return null;case 22:case 23:return n.lanes=0,Wf(t,n,i)}return or(t,n,i)}var nd,Gu,rd,id;nd=function(t,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Gu=function(){},rd=function(t,n,i,u){var h=t.memoizedProps;if(h!==u){t=n.stateNode,fi(Fn.current);var d=null;switch(i){case"input":h=Hr(t,h),u=Hr(t,u),d=[];break;case"select":h=Z({},h,{value:void 0}),u=Z({},u,{value:void 0}),d=[];break;case"textarea":h=Us(t,h),u=Us(t,u),d=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ca)}Hs(i,u);var y;i=null;for(F in h)if(!u.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var w=h[F];for(y in w)w.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(l.hasOwnProperty(F)?d||(d=[]):(d=d||[]).push(F,null));for(F in u){var A=u[F];if(w=h!=null?h[F]:void 0,u.hasOwnProperty(F)&&A!==w&&(A!=null||w!=null))if(F==="style")if(w){for(y in w)!w.hasOwnProperty(y)||A&&A.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in A)A.hasOwnProperty(y)&&w[y]!==A[y]&&(i||(i={}),i[y]=A[y])}else i||(d||(d=[]),d.push(F,i)),i=A;else F==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,w=w?w.__html:void 0,A!=null&&w!==A&&(d=d||[]).push(F,A)):F==="children"?typeof A!="string"&&typeof A!="number"||(d=d||[]).push(F,""+A):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(l.hasOwnProperty(F)?(A!=null&&F==="onScroll"&&$e("scroll",t),d||w===A||(d=[])):(d=d||[]).push(F,A))}i&&(d=d||[]).push("style",i);var F=d;(n.updateQueue=F)&&(n.flags|=4)}},id=function(t,n,i,u){i!==u&&(n.flags|=4)};function Ao(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function kt(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,u=0;if(n)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=i,n}function Dg(t,n,i){var u=n.pendingProps;switch(yu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(n),null;case 1:return $t(n.type)&&Ra(),kt(n),null;case 3:return u=n.stateNode,fs(),qe(jt),qe(Rt),xu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Da(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,In!==null&&(oc(In),In=null))),Gu(t,n),kt(n),null;case 5:Pu(n);var h=fi(wo.current);if(i=n.type,t!==null&&n.stateNode!=null)rd(t,n,i,u,h),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return kt(n),null}if(t=fi(Fn.current),Da(n)){u=n.stateNode,i=n.type;var d=n.memoizedProps;switch(u[Mn]=n,u[go]=d,t=(n.mode&1)!==0,i){case"dialog":$e("cancel",u),$e("close",u);break;case"iframe":case"object":case"embed":$e("load",u);break;case"video":case"audio":for(h=0;h<fo.length;h++)$e(fo[h],u);break;case"source":$e("error",u);break;case"img":case"image":case"link":$e("error",u),$e("load",u);break;case"details":$e("toggle",u);break;case"input":Ri(u,d),$e("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!d.multiple},$e("invalid",u);break;case"textarea":ki(u,d),$e("invalid",u)}Hs(i,d),h=null;for(var y in d)if(d.hasOwnProperty(y)){var w=d[y];y==="children"?typeof w=="string"?u.textContent!==w&&(d.suppressHydrationWarning!==!0&&Ia(u.textContent,w,t),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&Ia(u.textContent,w,t),h=["children",""+w]):l.hasOwnProperty(y)&&w!=null&&y==="onScroll"&&$e("scroll",u)}switch(i){case"input":bn(u),Yo(u,d,!0);break;case"textarea":bn(u),Bs(u);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(u.onclick=Ca)}u=h,n.updateQueue=u,u!==null&&(n.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ot(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(i,{is:u.is}):(t=y.createElement(i),i==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,i),t[Mn]=n,t[go]=u,nd(t,n,!1,!1),n.stateNode=t;e:{switch(y=Qs(i,u),i){case"dialog":$e("cancel",t),$e("close",t),h=u;break;case"iframe":case"object":case"embed":$e("load",t),h=u;break;case"video":case"audio":for(h=0;h<fo.length;h++)$e(fo[h],t);h=u;break;case"source":$e("error",t),h=u;break;case"img":case"image":case"link":$e("error",t),$e("load",t),h=u;break;case"details":$e("toggle",t),h=u;break;case"input":Ri(t,u),h=Hr(t,u),$e("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=Z({},u,{value:void 0}),$e("invalid",t);break;case"textarea":ki(t,u),h=Us(t,u),$e("invalid",t);break;default:h=u}Hs(i,h),w=h;for(d in w)if(w.hasOwnProperty(d)){var A=w[d];d==="style"?qs(t,A):d==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&js(t,A)):d==="children"?typeof A=="string"?(i!=="textarea"||A!=="")&&hr(t,A):typeof A=="number"&&hr(t,""+A):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?A!=null&&d==="onScroll"&&$e("scroll",t):A!=null&&_e(t,d,A,y))}switch(i){case"input":bn(t),Yo(t,u,!1);break;case"textarea":bn(t),Bs(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Oe(u.value));break;case"select":t.multiple=!!u.multiple,d=u.value,d!=null?Qn(t,!!u.multiple,d,!1):u.defaultValue!=null&&Qn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ca)}switch(i){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return kt(n),null;case 6:if(t&&n.stateNode!=null)id(t,n,t.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(i=fi(wo.current),fi(Fn.current),Da(n)){if(u=n.stateNode,i=n.memoizedProps,u[Mn]=n,(d=u.nodeValue!==i)&&(t=Zt,t!==null))switch(t.tag){case 3:Ia(u.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ia(u.nodeValue,i,(t.mode&1)!==0)}d&&(n.flags|=4)}else u=(i.nodeType===9?i:i.ownerDocument).createTextNode(u),u[Mn]=n,n.stateNode=u}return kt(n),null;case 13:if(qe(Qe),u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&en!==null&&(n.mode&1)!==0&&(n.flags&128)===0)af(),ls(),n.flags|=98560,d=!1;else if(d=Da(n),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Mn]=n}else ls(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;kt(n),d=!1}else In!==null&&(oc(In),In=null),d=!0;if(!d)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(Qe.current&1)!==0?ct===0&&(ct=3):uc())),n.updateQueue!==null&&(n.flags|=4),kt(n),null);case 4:return fs(),Gu(t,n),t===null&&po(n.stateNode.containerInfo),kt(n),null;case 10:return Su(n.type._context),kt(n),null;case 17:return $t(n.type)&&Ra(),kt(n),null;case 19:if(qe(Qe),d=n.memoizedState,d===null)return kt(n),null;if(u=(n.flags&128)!==0,y=d.rendering,y===null)if(u)Ao(d,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(y=za(t),y!==null){for(n.flags|=128,Ao(d,!1),u=y.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=i,i=n.child;i!==null;)d=i,t=u,d.flags&=14680066,y=d.alternate,y===null?(d.childLanes=0,d.lanes=t,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=y.childLanes,d.lanes=y.lanes,d.child=y.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=y.memoizedProps,d.memoizedState=y.memoizedState,d.updateQueue=y.updateQueue,d.type=y.type,t=y.dependencies,d.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return je(Qe,Qe.current&1|2),n.child}t=t.sibling}d.tail!==null&&Be()>gs&&(n.flags|=128,u=!0,Ao(d,!1),n.lanes=4194304)}else{if(!u)if(t=za(y),t!==null){if(n.flags|=128,u=!0,i=t.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),Ao(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!He)return kt(n),null}else 2*Be()-d.renderingStartTime>gs&&i!==1073741824&&(n.flags|=128,u=!0,Ao(d,!1),n.lanes=4194304);d.isBackwards?(y.sibling=n.child,n.child=y):(i=d.last,i!==null?i.sibling=y:n.child=y,d.last=y)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Be(),n.sibling=null,i=Qe.current,je(Qe,u?i&1|2:i&1),n):(kt(n),null);case 22:case 23:return lc(),u=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(n.flags|=8192),u&&(n.mode&1)!==0?(tn&1073741824)!==0&&(kt(n),n.subtreeFlags&6&&(n.flags|=8192)):kt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Ng(t,n){switch(yu(n),n.tag){case 1:return $t(n.type)&&Ra(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return fs(),qe(jt),qe(Rt),xu(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return Pu(n),null;case 13:if(qe(Qe),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ls()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return qe(Qe),null;case 4:return fs(),null;case 10:return Su(n.type._context),null;case 22:case 23:return lc(),null;case 24:return null;default:return null}}var Ka=!1,xt=!1,Lg=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ps(t,n){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(u){Ge(t,n,u)}else i.current=null}function Yu(t,n,i){try{i()}catch(u){Ge(t,n,u)}}var sd=!1;function Og(t,n){if(lu=_r,t=Mh(),eu(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var h=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var y=0,w=-1,A=-1,F=0,q=0,b=t,$=null;t:for(;;){for(var X;b!==i||h!==0&&b.nodeType!==3||(w=y+h),b!==d||u!==0&&b.nodeType!==3||(A=y+u),b.nodeType===3&&(y+=b.nodeValue.length),(X=b.firstChild)!==null;)$=b,b=X;for(;;){if(b===t)break t;if($===i&&++F===h&&(w=y),$===d&&++q===u&&(A=y),(X=b.nextSibling)!==null)break;b=$,$=b.parentNode}b=X}i=w===-1||A===-1?null:{start:w,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(uu={focusedElem:t,selectionRange:i},_r=!1,ne=n;ne!==null;)if(n=ne,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ne=t;else for(;ne!==null;){n=ne;try{var re=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,et=re.memoizedState,L=n.stateNode,R=L.getSnapshotBeforeUpdate(n.elementType===n.type?ie:Cn(n.type,ie),et);L.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var M=n.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Q){Ge(n,n.return,Q)}if(t=n.sibling,t!==null){t.return=n.return,ne=t;break}ne=n.return}return re=sd,sd=!1,re}function Ro(t,n,i){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var d=h.destroy;h.destroy=void 0,d!==void 0&&Yu(n,i,d)}h=h.next}while(h!==u)}}function Wa(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var u=i.create;i.destroy=u()}i=i.next}while(i!==n)}}function Xu(t){var n=t.ref;if(n!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof n=="function"?n(t):n.current=t}}function od(t){var n=t.alternate;n!==null&&(t.alternate=null,od(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Mn],delete n[go],delete n[du],delete n[yg],delete n[vg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ad(t){return t.tag===5||t.tag===3||t.tag===4}function ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ad(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ju(t,n,i){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(t,i)):(n=i,n.appendChild(t)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Ca));else if(u!==4&&(t=t.child,t!==null))for(Ju(t,n,i),t=t.sibling;t!==null;)Ju(t,n,i),t=t.sibling}function Zu(t,n,i){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Zu(t,n,i),t=t.sibling;t!==null;)Zu(t,n,i),t=t.sibling}var wt=null,An=!1;function Pr(t,n,i){for(i=i.child;i!==null;)ud(t,n,i),i=i.sibling}function ud(t,n,i){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ei,i)}catch{}switch(i.tag){case 5:xt||ps(i,n);case 6:var u=wt,h=An;wt=null,Pr(t,n,i),wt=u,An=h,wt!==null&&(An?(t=wt,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):wt.removeChild(i.stateNode));break;case 18:wt!==null&&(An?(t=wt,i=i.stateNode,t.nodeType===8?fu(t.parentNode,i):t.nodeType===1&&fu(t,i),wn(t)):fu(wt,i.stateNode));break;case 4:u=wt,h=An,wt=i.stateNode.containerInfo,An=!0,Pr(t,n,i),wt=u,An=h;break;case 0:case 11:case 14:case 15:if(!xt&&(u=i.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var d=h,y=d.destroy;d=d.tag,y!==void 0&&((d&2)!==0||(d&4)!==0)&&Yu(i,n,y),h=h.next}while(h!==u)}Pr(t,n,i);break;case 1:if(!xt&&(ps(i,n),u=i.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=i.memoizedProps,u.state=i.memoizedState,u.componentWillUnmount()}catch(w){Ge(i,n,w)}Pr(t,n,i);break;case 21:Pr(t,n,i);break;case 22:i.mode&1?(xt=(u=xt)||i.memoizedState!==null,Pr(t,n,i),xt=u):Pr(t,n,i);break;default:Pr(t,n,i)}}function cd(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new Lg),n.forEach(function(u){var h=bg.bind(null,t,u);i.has(u)||(i.add(u),u.then(h,h))})}}function Rn(t,n){var i=n.deletions;if(i!==null)for(var u=0;u<i.length;u++){var h=i[u];try{var d=t,y=n,w=y;e:for(;w!==null;){switch(w.tag){case 5:wt=w.stateNode,An=!1;break e;case 3:wt=w.stateNode.containerInfo,An=!0;break e;case 4:wt=w.stateNode.containerInfo,An=!0;break e}w=w.return}if(wt===null)throw Error(r(160));ud(d,y,h),wt=null,An=!1;var A=h.alternate;A!==null&&(A.return=null),h.return=null}catch(F){Ge(h,n,F)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)hd(n,t),n=n.sibling}function hd(t,n){var i=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rn(n,t),Un(t),u&4){try{Ro(3,t,t.return),Wa(3,t)}catch(ie){Ge(t,t.return,ie)}try{Ro(5,t,t.return)}catch(ie){Ge(t,t.return,ie)}}break;case 1:Rn(n,t),Un(t),u&512&&i!==null&&ps(i,i.return);break;case 5:if(Rn(n,t),Un(t),u&512&&i!==null&&ps(i,i.return),t.flags&32){var h=t.stateNode;try{hr(h,"")}catch(ie){Ge(t,t.return,ie)}}if(u&4&&(h=t.stateNode,h!=null)){var d=t.memoizedProps,y=i!==null?i.memoizedProps:d,w=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&Fs(h,d),Qs(w,y);var F=Qs(w,d);for(y=0;y<A.length;y+=2){var q=A[y],b=A[y+1];q==="style"?qs(h,b):q==="dangerouslySetInnerHTML"?js(h,b):q==="children"?hr(h,b):_e(h,q,b,F)}switch(w){case"input":zs(h,d);break;case"textarea":xi(h,d);break;case"select":var $=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!d.multiple;var X=d.value;X!=null?Qn(h,!!d.multiple,X,!1):$!==!!d.multiple&&(d.defaultValue!=null?Qn(h,!!d.multiple,d.defaultValue,!0):Qn(h,!!d.multiple,d.multiple?[]:"",!1))}h[go]=d}catch(ie){Ge(t,t.return,ie)}}break;case 6:if(Rn(n,t),Un(t),u&4){if(t.stateNode===null)throw Error(r(162));h=t.stateNode,d=t.memoizedProps;try{h.nodeValue=d}catch(ie){Ge(t,t.return,ie)}}break;case 3:if(Rn(n,t),Un(t),u&4&&i!==null&&i.memoizedState.isDehydrated)try{wn(n.containerInfo)}catch(ie){Ge(t,t.return,ie)}break;case 4:Rn(n,t),Un(t);break;case 13:Rn(n,t),Un(t),h=t.child,h.flags&8192&&(d=h.memoizedState!==null,h.stateNode.isHidden=d,!d||h.alternate!==null&&h.alternate.memoizedState!==null||(nc=Be())),u&4&&cd(t);break;case 22:if(q=i!==null&&i.memoizedState!==null,t.mode&1?(xt=(F=xt)||q,Rn(n,t),xt=F):Rn(n,t),Un(t),u&8192){if(F=t.memoizedState!==null,(t.stateNode.isHidden=F)&&!q&&(t.mode&1)!==0)for(ne=t,q=t.child;q!==null;){for(b=ne=q;ne!==null;){switch($=ne,X=$.child,$.tag){case 0:case 11:case 14:case 15:Ro(4,$,$.return);break;case 1:ps($,$.return);var re=$.stateNode;if(typeof re.componentWillUnmount=="function"){u=$,i=$.return;try{n=u,re.props=n.memoizedProps,re.state=n.memoizedState,re.componentWillUnmount()}catch(ie){Ge(u,i,ie)}}break;case 5:ps($,$.return);break;case 22:if($.memoizedState!==null){pd(b);continue}}X!==null?(X.return=$,ne=X):pd(b)}q=q.sibling}e:for(q=null,b=t;;){if(b.tag===5){if(q===null){q=b;try{h=b.stateNode,F?(d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=b.stateNode,A=b.memoizedProps.style,y=A!=null&&A.hasOwnProperty("display")?A.display:null,w.style.display=$s("display",y))}catch(ie){Ge(t,t.return,ie)}}}else if(b.tag===6){if(q===null)try{b.stateNode.nodeValue=F?"":b.memoizedProps}catch(ie){Ge(t,t.return,ie)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===t)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===t)break e;for(;b.sibling===null;){if(b.return===null||b.return===t)break e;q===b&&(q=null),b=b.return}q===b&&(q=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:Rn(n,t),Un(t),u&4&&cd(t);break;case 21:break;default:Rn(n,t),Un(t)}}function Un(t){var n=t.flags;if(n&2){try{e:{for(var i=t.return;i!==null;){if(ad(i)){var u=i;break e}i=i.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(hr(h,""),u.flags&=-33);var d=ld(t);Zu(t,d,h);break;case 3:case 4:var y=u.stateNode.containerInfo,w=ld(t);Ju(t,w,y);break;default:throw Error(r(161))}}catch(A){Ge(t,t.return,A)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Mg(t,n,i){ne=t,fd(t)}function fd(t,n,i){for(var u=(t.mode&1)!==0;ne!==null;){var h=ne,d=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||Ka;if(!y){var w=h.alternate,A=w!==null&&w.memoizedState!==null||xt;w=Ka;var F=xt;if(Ka=y,(xt=A)&&!F)for(ne=h;ne!==null;)y=ne,A=y.child,y.tag===22&&y.memoizedState!==null?md(h):A!==null?(A.return=y,ne=A):md(h);for(;d!==null;)ne=d,fd(d),d=d.sibling;ne=h,Ka=w,xt=F}dd(t)}else(h.subtreeFlags&8772)!==0&&d!==null?(d.return=h,ne=d):dd(t)}}function dd(t){for(;ne!==null;){var n=ne;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:xt||Wa(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!xt)if(i===null)u.componentDidMount();else{var h=n.elementType===n.type?i.memoizedProps:Cn(n.type,i.memoizedProps);u.componentDidUpdate(h,i.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&pf(n,d,u);break;case 3:var y=n.updateQueue;if(y!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}pf(n,y,i)}break;case 5:var w=n.stateNode;if(i===null&&n.flags&4){i=w;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&i.focus();break;case"img":A.src&&(i.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var F=n.alternate;if(F!==null){var q=F.memoizedState;if(q!==null){var b=q.dehydrated;b!==null&&wn(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}xt||n.flags&512&&Xu(n)}catch($){Ge(n,n.return,$)}}if(n===t){ne=null;break}if(i=n.sibling,i!==null){i.return=n.return,ne=i;break}ne=n.return}}function pd(t){for(;ne!==null;){var n=ne;if(n===t){ne=null;break}var i=n.sibling;if(i!==null){i.return=n.return,ne=i;break}ne=n.return}}function md(t){for(;ne!==null;){var n=ne;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Wa(4,n)}catch(A){Ge(n,i,A)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var h=n.return;try{u.componentDidMount()}catch(A){Ge(n,h,A)}}var d=n.return;try{Xu(n)}catch(A){Ge(n,d,A)}break;case 5:var y=n.return;try{Xu(n)}catch(A){Ge(n,y,A)}}}catch(A){Ge(n,n.return,A)}if(n===t){ne=null;break}var w=n.sibling;if(w!==null){w.return=n.return,ne=w;break}ne=n.return}}var Fg=Math.ceil,Ga=Ee.ReactCurrentDispatcher,ec=Ee.ReactCurrentOwner,hn=Ee.ReactCurrentBatchConfig,xe=0,gt=null,it=null,Tt=0,tn=0,ms=Sr(0),ct=0,Po=null,pi=0,Ya=0,tc=0,ko=null,bt=null,nc=0,gs=1/0,ar=null,Xa=!1,rc=null,kr=null,Ja=!1,xr=null,Za=0,xo=0,ic=null,el=-1,tl=0;function Ft(){return(xe&6)!==0?Be():el!==-1?el:el=Be()}function Vr(t){return(t.mode&1)===0?1:(xe&2)!==0&&Tt!==0?Tt&-Tt:Eg.transition!==null?(tl===0&&(tl=ni()),tl):(t=we,t!==0||(t=window.event,t=t===void 0?16:ro(t.type)),t)}function Pn(t,n,i,u){if(50<xo)throw xo=0,ic=null,Error(r(185));mr(t,i,u),((xe&2)===0||t!==gt)&&(t===gt&&((xe&2)===0&&(Ya|=i),ct===4&&Dr(t,Tt)),Ht(t,u),i===1&&xe===0&&(n.mode&1)===0&&(gs=Be()+500,ka&&Cr()))}function Ht(t,n){var i=t.callbackNode;Gn(t,n);var u=ti(t,t===gt?Tt:0);if(u===0)i!==null&&Js(i),t.callbackNode=null,t.callbackPriority=0;else if(n=u&-u,t.callbackPriority!==n){if(i!=null&&Js(i),n===1)t.tag===0?_g(yd.bind(null,t)):tf(yd.bind(null,t)),mg(function(){(xe&6)===0&&Cr()}),i=null;else{switch(yr(u)){case 1:i=Zr;break;case 4:i=fr;break;case 16:i=rn;break;case 536870912:i=ta;break;default:i=rn}i=Cd(i,gd.bind(null,t))}t.callbackPriority=n,t.callbackNode=i}}function gd(t,n){if(el=-1,tl=0,(xe&6)!==0)throw Error(r(327));var i=t.callbackNode;if(ys()&&t.callbackNode!==i)return null;var u=ti(t,t===gt?Tt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||n)n=nl(t,u);else{n=u;var h=xe;xe|=2;var d=_d();(gt!==t||Tt!==n)&&(ar=null,gs=Be()+500,gi(t,n));do try{Bg();break}catch(w){vd(t,w)}while(!0);Tu(),Ga.current=d,xe=h,it!==null?n=0:(gt=null,Tt=0,n=ct)}if(n!==0){if(n===2&&(h=Yt(t),h!==0&&(u=h,n=sc(t,h))),n===1)throw i=Po,gi(t,0),Dr(t,u),Ht(t,Be()),i;if(n===6)Dr(t,u);else{if(h=t.current.alternate,(u&30)===0&&!zg(h)&&(n=nl(t,u),n===2&&(d=Yt(t),d!==0&&(u=d,n=sc(t,d))),n===1))throw i=Po,gi(t,0),Dr(t,u),Ht(t,Be()),i;switch(t.finishedWork=h,t.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:yi(t,bt,ar);break;case 3:if(Dr(t,u),(u&130023424)===u&&(n=nc+500-Be(),10<n)){if(ti(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Ft(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=hu(yi.bind(null,t,bt,ar),n);break}yi(t,bt,ar);break;case 4:if(Dr(t,u),(u&4194240)===u)break;for(n=t.eventTimes,h=-1;0<u;){var y=31-Lt(u);d=1<<y,y=n[y],y>h&&(h=y),u&=~d}if(u=h,u=Be()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Fg(u/1960))-u,10<u){t.timeoutHandle=hu(yi.bind(null,t,bt,ar),u);break}yi(t,bt,ar);break;case 5:yi(t,bt,ar);break;default:throw Error(r(329))}}}return Ht(t,Be()),t.callbackNode===i?gd.bind(null,t):null}function sc(t,n){var i=ko;return t.current.memoizedState.isDehydrated&&(gi(t,n).flags|=256),t=nl(t,n),t!==2&&(n=bt,bt=i,n!==null&&oc(n)),t}function oc(t){bt===null?bt=t:bt.push.apply(bt,t)}function zg(t){for(var n=t;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var u=0;u<i.length;u++){var h=i[u],d=h.getSnapshot;h=h.value;try{if(!Sn(d(),h))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Dr(t,n){for(n&=~tc,n&=~Ya,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var i=31-Lt(n),u=1<<i;t[i]=-1,n&=~u}}function yd(t){if((xe&6)!==0)throw Error(r(327));ys();var n=ti(t,0);if((n&1)===0)return Ht(t,Be()),null;var i=nl(t,n);if(t.tag!==0&&i===2){var u=Yt(t);u!==0&&(n=u,i=sc(t,u))}if(i===1)throw i=Po,gi(t,0),Dr(t,n),Ht(t,Be()),i;if(i===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,yi(t,bt,ar),Ht(t,Be()),null}function ac(t,n){var i=xe;xe|=1;try{return t(n)}finally{xe=i,xe===0&&(gs=Be()+500,ka&&Cr())}}function mi(t){xr!==null&&xr.tag===0&&(xe&6)===0&&ys();var n=xe;xe|=1;var i=hn.transition,u=we;try{if(hn.transition=null,we=1,t)return t()}finally{we=u,hn.transition=i,xe=n,(xe&6)===0&&Cr()}}function lc(){tn=ms.current,qe(ms)}function gi(t,n){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,pg(i)),it!==null)for(i=it.return;i!==null;){var u=i;switch(yu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ra();break;case 3:fs(),qe(jt),qe(Rt),xu();break;case 5:Pu(u);break;case 4:fs();break;case 13:qe(Qe);break;case 19:qe(Qe);break;case 10:Su(u.type._context);break;case 22:case 23:lc()}i=i.return}if(gt=t,it=t=Nr(t.current,null),Tt=tn=n,ct=0,Po=null,tc=Ya=pi=0,bt=ko=null,hi!==null){for(n=0;n<hi.length;n++)if(i=hi[n],u=i.interleaved,u!==null){i.interleaved=null;var h=u.next,d=i.pending;if(d!==null){var y=d.next;d.next=h,u.next=y}i.pending=u}hi=null}return t}function vd(t,n){do{var i=it;try{if(Tu(),Ua.current=qa,Ba){for(var u=Ke.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Ba=!1}if(di=0,mt=ut=Ke=null,To=!1,So=0,ec.current=null,i===null||i.return===null){ct=1,Po=n,it=null;break}e:{var d=t,y=i.return,w=i,A=n;if(n=Tt,w.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=A,q=w,b=q.tag;if((q.mode&1)===0&&(b===0||b===11||b===15)){var $=q.alternate;$?(q.updateQueue=$.updateQueue,q.memoizedState=$.memoizedState,q.lanes=$.lanes):(q.updateQueue=null,q.memoizedState=null)}var X=qf(y);if(X!==null){X.flags&=-257,bf(X,y,w,d,n),X.mode&1&&$f(d,F,n),n=X,A=F;var re=n.updateQueue;if(re===null){var ie=new Set;ie.add(A),n.updateQueue=ie}else re.add(A);break e}else{if((n&1)===0){$f(d,F,n),uc();break e}A=Error(r(426))}}else if(He&&w.mode&1){var et=qf(y);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),bf(et,y,w,d,n),Eu(ds(A,w));break e}}d=A=ds(A,w),ct!==4&&(ct=2),ko===null?ko=[d]:ko.push(d),d=y;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var L=Bf(d,A,n);df(d,L);break e;case 1:w=A;var R=d.type,M=d.stateNode;if((d.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(kr===null||!kr.has(M)))){d.flags|=65536,n&=-n,d.lanes|=n;var Q=jf(d,w,n);df(d,Q);break e}}d=d.return}while(d!==null)}wd(i)}catch(se){n=se,it===i&&i!==null&&(it=i=i.return);continue}break}while(!0)}function _d(){var t=Ga.current;return Ga.current=qa,t===null?qa:t}function uc(){(ct===0||ct===3||ct===2)&&(ct=4),gt===null||(pi&268435455)===0&&(Ya&268435455)===0||Dr(gt,Tt)}function nl(t,n){var i=xe;xe|=2;var u=_d();(gt!==t||Tt!==n)&&(ar=null,gi(t,n));do try{Ug();break}catch(h){vd(t,h)}while(!0);if(Tu(),xe=i,Ga.current=u,it!==null)throw Error(r(261));return gt=null,Tt=0,ct}function Ug(){for(;it!==null;)Ed(it)}function Bg(){for(;it!==null&&!Zo();)Ed(it)}function Ed(t){var n=Id(t.alternate,t,tn);t.memoizedProps=t.pendingProps,n===null?wd(t):it=n,ec.current=null}function wd(t){var n=t;do{var i=n.alternate;if(t=n.return,(n.flags&32768)===0){if(i=Dg(i,n,tn),i!==null){it=i;return}}else{if(i=Ng(i,n),i!==null){i.flags&=32767,it=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,it=null;return}}if(n=n.sibling,n!==null){it=n;return}it=n=t}while(n!==null);ct===0&&(ct=5)}function yi(t,n,i){var u=we,h=hn.transition;try{hn.transition=null,we=1,jg(t,n,i,u)}finally{hn.transition=h,we=u}return null}function jg(t,n,i,u){do ys();while(xr!==null);if((xe&6)!==0)throw Error(r(327));i=t.finishedWork;var h=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var d=i.lanes|i.childLanes;if(ze(t,d),t===gt&&(it=gt=null,Tt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Ja||(Ja=!0,Cd(rn,function(){return ys(),null})),d=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||d){d=hn.transition,hn.transition=null;var y=we;we=1;var w=xe;xe|=4,ec.current=null,Og(t,i),hd(i,t),ag(uu),_r=!!lu,uu=lu=null,t.current=i,Mg(i),Ql(),xe=w,we=y,hn.transition=d}else t.current=i;if(Ja&&(Ja=!1,xr=t,Za=h),d=t.pendingLanes,d===0&&(kr=null),na(i.stateNode),Ht(t,Be()),n!==null)for(u=t.onRecoverableError,i=0;i<n.length;i++)h=n[i],u(h.value,{componentStack:h.stack,digest:h.digest});if(Xa)throw Xa=!1,t=rc,rc=null,t;return(Za&1)!==0&&t.tag!==0&&ys(),d=t.pendingLanes,(d&1)!==0?t===ic?xo++:(xo=0,ic=t):xo=0,Cr(),null}function ys(){if(xr!==null){var t=yr(Za),n=hn.transition,i=we;try{if(hn.transition=null,we=16>t?16:t,xr===null)var u=!1;else{if(t=xr,xr=null,Za=0,(xe&6)!==0)throw Error(r(331));var h=xe;for(xe|=4,ne=t.current;ne!==null;){var d=ne,y=d.child;if((ne.flags&16)!==0){var w=d.deletions;if(w!==null){for(var A=0;A<w.length;A++){var F=w[A];for(ne=F;ne!==null;){var q=ne;switch(q.tag){case 0:case 11:case 15:Ro(8,q,d)}var b=q.child;if(b!==null)b.return=q,ne=b;else for(;ne!==null;){q=ne;var $=q.sibling,X=q.return;if(od(q),q===F){ne=null;break}if($!==null){$.return=X,ne=$;break}ne=X}}}var re=d.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var et=ie.sibling;ie.sibling=null,ie=et}while(ie!==null)}}ne=d}}if((d.subtreeFlags&2064)!==0&&y!==null)y.return=d,ne=y;else e:for(;ne!==null;){if(d=ne,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Ro(9,d,d.return)}var L=d.sibling;if(L!==null){L.return=d.return,ne=L;break e}ne=d.return}}var R=t.current;for(ne=R;ne!==null;){y=ne;var M=y.child;if((y.subtreeFlags&2064)!==0&&M!==null)M.return=y,ne=M;else e:for(y=R;ne!==null;){if(w=ne,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:Wa(9,w)}}catch(se){Ge(w,w.return,se)}if(w===y){ne=null;break e}var Q=w.sibling;if(Q!==null){Q.return=w.return,ne=Q;break e}ne=w.return}}if(xe=h,Cr(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ei,t)}catch{}u=!0}return u}finally{we=i,hn.transition=n}}return!1}function Td(t,n,i){n=ds(i,n),n=Bf(t,n,1),t=Rr(t,n,1),n=Ft(),t!==null&&(mr(t,1,n),Ht(t,n))}function Ge(t,n,i){if(t.tag===3)Td(t,t,i);else for(;n!==null;){if(n.tag===3){Td(n,t,i);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(kr===null||!kr.has(u))){t=ds(i,t),t=jf(n,t,1),n=Rr(n,t,1),t=Ft(),n!==null&&(mr(n,1,t),Ht(n,t));break}}n=n.return}}function $g(t,n,i){var u=t.pingCache;u!==null&&u.delete(n),n=Ft(),t.pingedLanes|=t.suspendedLanes&i,gt===t&&(Tt&i)===i&&(ct===4||ct===3&&(Tt&130023424)===Tt&&500>Be()-nc?gi(t,0):tc|=i),Ht(t,n)}function Sd(t,n){n===0&&((t.mode&1)===0?n=1:(n=Bi,Bi<<=1,(Bi&130023424)===0&&(Bi=4194304)));var i=Ft();t=ir(t,n),t!==null&&(mr(t,n,i),Ht(t,i))}function qg(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),Sd(t,i)}function bg(t,n){var i=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),Sd(t,i)}var Id;Id=function(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps||jt.current)qt=!0;else{if((t.lanes&i)===0&&(n.flags&128)===0)return qt=!1,Vg(t,n,i);qt=(t.flags&131072)!==0}else qt=!1,He&&(n.flags&1048576)!==0&&nf(n,Va,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;Qa(t,n),t=n.pendingProps;var h=ss(n,Rt.current);hs(n,i),h=Nu(null,n,u,t,h,i);var d=Lu();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,$t(u)?(d=!0,Pa(n)):d=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Au(n),h.updater=ba,n.stateNode=h,h._reactInternals=n,Bu(n,u,t,i),n=bu(null,n,u,!0,d,i)):(n.tag=0,He&&d&&gu(n),Mt(null,n,h,i),n=n.child),n;case 16:u=n.elementType;e:{switch(Qa(t,n),t=n.pendingProps,h=u._init,u=h(u._payload),n.type=u,h=n.tag=Qg(u),t=Cn(u,t),h){case 0:n=qu(null,n,u,t,i);break e;case 1:n=Yf(null,n,u,t,i);break e;case 11:n=Hf(null,n,u,t,i);break e;case 14:n=Qf(null,n,u,Cn(u.type,t),i);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Cn(u,h),qu(t,n,u,h,i);case 1:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Cn(u,h),Yf(t,n,u,h,i);case 3:e:{if(Xf(n),t===null)throw Error(r(387));u=n.pendingProps,d=n.memoizedState,h=d.element,ff(t,n),Fa(n,u,null,i);var y=n.memoizedState;if(u=y.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){h=ds(Error(r(423)),n),n=Jf(t,n,u,i,h);break e}else if(u!==h){h=ds(Error(r(424)),n),n=Jf(t,n,u,i,h);break e}else for(en=Tr(n.stateNode.containerInfo.firstChild),Zt=n,He=!0,In=null,i=cf(n,null,u,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ls(),u===h){n=or(t,n,i);break e}Mt(t,n,u,i)}n=n.child}return n;case 5:return mf(n),t===null&&_u(n),u=n.type,h=n.pendingProps,d=t!==null?t.memoizedProps:null,y=h.children,cu(u,h)?y=null:d!==null&&cu(u,d)&&(n.flags|=32),Gf(t,n),Mt(t,n,y,i),n.child;case 6:return t===null&&_u(n),null;case 13:return Zf(t,n,i);case 4:return Ru(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=us(n,null,u,i):Mt(t,n,u,i),n.child;case 11:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Cn(u,h),Hf(t,n,u,h,i);case 7:return Mt(t,n,n.pendingProps,i),n.child;case 8:return Mt(t,n,n.pendingProps.children,i),n.child;case 12:return Mt(t,n,n.pendingProps.children,i),n.child;case 10:e:{if(u=n.type._context,h=n.pendingProps,d=n.memoizedProps,y=h.value,je(La,u._currentValue),u._currentValue=y,d!==null)if(Sn(d.value,y)){if(d.children===h.children&&!jt.current){n=or(t,n,i);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var w=d.dependencies;if(w!==null){y=d.child;for(var A=w.firstContext;A!==null;){if(A.context===u){if(d.tag===1){A=sr(-1,i&-i),A.tag=2;var F=d.updateQueue;if(F!==null){F=F.shared;var q=F.pending;q===null?A.next=A:(A.next=q.next,q.next=A),F.pending=A}}d.lanes|=i,A=d.alternate,A!==null&&(A.lanes|=i),Iu(d.return,i,n),w.lanes|=i;break}A=A.next}}else if(d.tag===10)y=d.type===n.type?null:d.child;else if(d.tag===18){if(y=d.return,y===null)throw Error(r(341));y.lanes|=i,w=y.alternate,w!==null&&(w.lanes|=i),Iu(y,i,n),y=d.sibling}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===n){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}Mt(t,n,h.children,i),n=n.child}return n;case 9:return h=n.type,u=n.pendingProps.children,hs(n,i),h=un(h),u=u(h),n.flags|=1,Mt(t,n,u,i),n.child;case 14:return u=n.type,h=Cn(u,n.pendingProps),h=Cn(u.type,h),Qf(t,n,u,h,i);case 15:return Kf(t,n,n.type,n.pendingProps,i);case 17:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Cn(u,h),Qa(t,n),n.tag=1,$t(u)?(t=!0,Pa(n)):t=!1,hs(n,i),zf(n,u,h),Bu(n,u,h,i),bu(null,n,u,!0,t,i);case 19:return td(t,n,i);case 22:return Wf(t,n,i)}throw Error(r(156,n.tag))};function Cd(t,n){return zi(t,n)}function Hg(t,n,i,u){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,i,u){return new Hg(t,n,i,u)}function cc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qg(t){if(typeof t=="function")return cc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===D)return 11;if(t===Ct)return 14}return 2}function Nr(t,n){var i=t.alternate;return i===null?(i=fn(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function rl(t,n,i,u,h,d){var y=2;if(u=t,typeof t=="function")cc(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case k:return vi(i.children,h,d,n);case T:y=8,h|=8;break;case I:return t=fn(12,i,n,h|2),t.elementType=I,t.lanes=d,t;case S:return t=fn(13,i,n,h),t.elementType=S,t.lanes=d,t;case Je:return t=fn(19,i,n,h),t.elementType=Je,t.lanes=d,t;case Fe:return il(i,h,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:y=10;break e;case x:y=9;break e;case D:y=11;break e;case Ct:y=14;break e;case At:y=16,u=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return n=fn(y,i,n,h),n.elementType=t,n.type=u,n.lanes=d,n}function vi(t,n,i,u){return t=fn(7,t,u,n),t.lanes=i,t}function il(t,n,i,u){return t=fn(22,t,u,n),t.elementType=Fe,t.lanes=i,t.stateNode={isHidden:!1},t}function hc(t,n,i){return t=fn(6,t,null,n),t.lanes=i,t}function fc(t,n,i){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Kg(t,n,i,u,h){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pr(0),this.expirationTimes=pr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function dc(t,n,i,u,h,d,y,w,A){return t=new Kg(t,n,i,w,A),n===1?(n=1,d===!0&&(n|=8)):n=0,d=fn(3,null,null,n),t.current=d,d.stateNode=t,d.memoizedState={element:u,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Au(d),t}function Wg(t,n,i){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ke,key:u==null?null:""+u,children:t,containerInfo:n,implementation:i}}function Ad(t){if(!t)return Ir;t=t._reactInternals;e:{if(gn(t)!==t||t.tag!==1)throw Error(r(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if($t(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(t.tag===1){var i=t.type;if($t(i))return Zh(t,i,n)}return n}function Rd(t,n,i,u,h,d,y,w,A){return t=dc(i,u,!0,t,h,d,y,w,A),t.context=Ad(null),i=t.current,u=Ft(),h=Vr(i),d=sr(u,h),d.callback=n??null,Rr(i,d,h),t.current.lanes=h,mr(t,h,u),Ht(t,u),t}function sl(t,n,i,u){var h=n.current,d=Ft(),y=Vr(h);return i=Ad(i),n.context===null?n.context=i:n.pendingContext=i,n=sr(d,y),n.payload={element:t},u=u===void 0?null:u,u!==null&&(n.callback=u),t=Rr(h,n,y),t!==null&&(Pn(t,h,y,d),Ma(t,h,y)),y}function ol(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pd(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function pc(t,n){Pd(t,n),(t=t.alternate)&&Pd(t,n)}function Gg(){return null}var kd=typeof reportError=="function"?reportError:function(t){console.error(t)};function mc(t){this._internalRoot=t}al.prototype.render=mc.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));sl(t,n,null,null)},al.prototype.unmount=mc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;mi(function(){sl(null,t,null,null)}),n[er]=null}};function al(t){this._internalRoot=t}al.prototype.unstable_scheduleHydration=function(t){if(t){var n=aa();t={blockedOn:null,target:t,priority:n};for(var i=0;i<Dn.length&&n!==0&&n<Dn[i].priority;i++);Dn.splice(i,0,t),i===0&&ca(t)}};function gc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ll(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xd(){}function Yg(t,n,i,u,h){if(h){if(typeof u=="function"){var d=u;u=function(){var F=ol(y);d.call(F)}}var y=Rd(n,u,t,0,null,!1,!1,"",xd);return t._reactRootContainer=y,t[er]=y.current,po(t.nodeType===8?t.parentNode:t),mi(),y}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var F=ol(A);w.call(F)}}var A=dc(t,0,!1,null,null,!1,!1,"",xd);return t._reactRootContainer=A,t[er]=A.current,po(t.nodeType===8?t.parentNode:t),mi(function(){sl(n,A,i,u)}),A}function ul(t,n,i,u,h){var d=i._reactRootContainer;if(d){var y=d;if(typeof h=="function"){var w=h;h=function(){var A=ol(y);w.call(A)}}sl(n,y,t,h)}else y=Yg(i,n,t,h,u);return ol(y)}sa=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var i=dr(n.pendingLanes);i!==0&&(gr(n,i|1),Ht(n,Be()),(xe&6)===0&&(gs=Be()+500,Cr()))}break;case 13:mi(function(){var u=ir(t,1);if(u!==null){var h=Ft();Pn(u,t,1,h)}}),pc(t,1)}},ji=function(t){if(t.tag===13){var n=ir(t,134217728);if(n!==null){var i=Ft();Pn(n,t,134217728,i)}pc(t,134217728)}},oa=function(t){if(t.tag===13){var n=Vr(t),i=ir(t,n);if(i!==null){var u=Ft();Pn(i,t,n,u)}pc(t,n)}},aa=function(){return we},la=function(t,n){var i=we;try{return we=t,n()}finally{we=i}},Di=function(t,n,i){switch(n){case"input":if(zs(t,i),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var u=i[n];if(u!==t&&u.form===t.form){var h=Aa(u);if(!h)throw Error(r(90));Ai(u),zs(u,h)}}}break;case"textarea":xi(t,i);break;case"select":n=i.value,n!=null&&Qn(t,!!i.multiple,n,!1)}},Gr=ac,Ws=mi;var Xg={usingClientEntryPoint:!1,Events:[yo,rs,Aa,xn,Ks,ac]},Vo={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jg={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xs(t),t===null?null:t.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||Gg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{ei=cl.inject(Jg),Gt=cl}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xg,Qt.createPortal=function(t,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gc(n))throw Error(r(200));return Wg(t,n,null,i)},Qt.createRoot=function(t,n){if(!gc(t))throw Error(r(299));var i=!1,u="",h=kd;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=dc(t,1,!1,null,null,i,!1,u,h),t[er]=n.current,po(t.nodeType===8?t.parentNode:t),new mc(n)},Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Xs(n),t=t===null?null:t.stateNode,t},Qt.flushSync=function(t){return mi(t)},Qt.hydrate=function(t,n,i){if(!ll(n))throw Error(r(200));return ul(null,t,n,!0,i)},Qt.hydrateRoot=function(t,n,i){if(!gc(t))throw Error(r(405));var u=i!=null&&i.hydratedSources||null,h=!1,d="",y=kd;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),n=Rd(n,null,t,1,i??null,h,!1,d,y),t[er]=n.current,po(t),u)for(t=0;t<u.length;t++)i=u[t],h=i._getVersion,h=h(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,h]:n.mutableSourceEagerHydrationData.push(i,h);return new al(n)},Qt.render=function(t,n,i){if(!ll(n))throw Error(r(200));return ul(null,t,n,!1,i)},Qt.unmountComponentAtNode=function(t){if(!ll(t))throw Error(r(40));return t._reactRootContainer?(mi(function(){ul(null,null,t,!1,function(){t._reactRootContainer=null,t[er]=null})}),!0):!1},Qt.unstable_batchedUpdates=ac,Qt.unstable_renderSubtreeIntoContainer=function(t,n,i,u){if(!ll(i))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return ul(t,n,i,!1,u)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var zd;function ay(){if(zd)return _c.exports;zd=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_c.exports=oy(),_c.exports}var Ud;function ly(){if(Ud)return hl;Ud=1;var s=ay();return hl.createRoot=s.createRoot,hl.hydrateRoot=s.hydrateRoot,hl}var uy=ly(),Bd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=function(s){const e=[];let r=0;for(let o=0;o<s.length;o++){let l=s.charCodeAt(o);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&o+1<s.length&&(s.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++o)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},cy=function(s){const e=[];let r=0,o=0;for(;r<s.length;){const l=s[r++];if(l<128)e[o++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[r++];e[o++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[r++],p=s[r++],g=s[r++],v=((l&7)<<18|(c&63)<<12|(p&63)<<6|g&63)-65536;e[o++]=String.fromCharCode(55296+(v>>10)),e[o++]=String.fromCharCode(56320+(v&1023))}else{const c=s[r++],p=s[r++];e[o++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return e.join("")},Bp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<s.length;l+=3){const c=s[l],p=l+1<s.length,g=p?s[l+1]:0,v=l+2<s.length,E=v?s[l+2]:0,C=c>>2,O=(c&3)<<4|g>>4;let U=(g&15)<<2|E>>6,H=E&63;v||(H=64,p||(U=64)),o.push(r[C],r[O],r[U],r[H])}return o.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Up(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):cy(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<s.length;){const c=r[s.charAt(l++)],g=l<s.length?r[s.charAt(l)]:0;++l;const E=l<s.length?r[s.charAt(l)]:64;++l;const O=l<s.length?r[s.charAt(l)]:64;if(++l,c==null||g==null||E==null||O==null)throw new hy;const U=c<<2|g>>4;if(o.push(U),E!==64){const H=g<<4&240|E>>2;if(o.push(H),O!==64){const J=E<<6&192|O;o.push(J)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class hy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fy=function(s){const e=Up(s);return Bp.encodeByteArray(e,!0)},Sl=function(s){return fy(s).replace(/\./g,"")},dy=function(s){try{return Bp.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=()=>py().__FIREBASE_DEFAULTS__,gy=()=>{if(typeof process>"u"||typeof Bd>"u")return;const s=Bd.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},yy=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&dy(s[1]);return e&&JSON.parse(e)},rh=()=>{try{return my()||gy()||yy()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},vy=s=>{var e,r;return(r=(e=rh())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[s]},_y=s=>{const e=vy(s);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),o]:[e.substring(0,r),o]},jp=()=>{var s;return(s=rh())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Sl(JSON.stringify(r)),Sl(JSON.stringify(p)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Sy(){var s;const e=(s=rh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Iy(){return!Sy()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cy(){try{return typeof indexedDB=="object"}catch{return!1}}function Ay(){return new Promise((s,e)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(o),s(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="FirebaseError";class Ds extends Error{constructor(e,r,o){super(r),this.code=e,this.customData=o,this.name=Ry,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$p.prototype.create)}}class $p{constructor(e,r,o){this.service=e,this.serviceName=r,this.errors=o}create(e,...r){const o=r[0]||{},l=`${this.service}/${e}`,c=this.errors[e],p=c?Py(c,o):"Error",g=`${this.serviceName}: ${p} (${l}).`;return new Ds(l,g,o)}}function Py(s,e){return s.replace(ky,(r,o)=>{const l=e[o];return l!=null?String(l):`<${o}?>`})}const ky=/\{\$([^}]+)}/g;function Lc(s,e){if(s===e)return!0;const r=Object.keys(s),o=Object.keys(e);for(const l of r){if(!o.includes(l))return!1;const c=s[l],p=e[l];if(jd(c)&&jd(p)){if(!Lc(c,p))return!1}else if(c!==p)return!1}for(const l of o)if(!r.includes(l))return!1;return!0}function jd(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(s){return s&&s._delegate?s._delegate:s}class Bo{constructor(e,r,o){this.name=e,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const o=new Ey;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ny(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});o.resolve(c)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,p]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);o===g&&p.resolve(l)}return l}onInit(e,r){var o;const l=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;c.add(e),this.onInitCallbacks.set(l,c);const p=this.instances.get(l);return p&&e(p,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,r){const o=this.onInitCallbacks.get(r);if(o)for(const l of o)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Dy(e),options:r}),this.instances.set(e,o),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Dy(s){return s===_i?void 0:s}function Ny(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Vy(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ce||(Ce={}));const Oy={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},My=Ce.INFO,Fy={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},zy=(s,e,...r)=>{if(e<s.logLevel)return;const o=new Date().toISOString(),l=Fy[e];if(l)console[l](`[${o}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qp{constructor(e){this.name=e,this._logLevel=My,this._logHandler=zy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Oy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const Uy=(s,e)=>e.some(r=>s instanceof r);let $d,qd;function By(){return $d||($d=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jy(){return qd||(qd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bp=new WeakMap,Oc=new WeakMap,Hp=new WeakMap,Tc=new WeakMap,ih=new WeakMap;function $y(s){const e=new Promise((r,o)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",p)},c=()=>{r(zr(s.result)),l()},p=()=>{o(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",p)});return e.then(r=>{r instanceof IDBCursor&&bp.set(r,s)}).catch(()=>{}),ih.set(e,s),e}function qy(s){if(Oc.has(s))return;const e=new Promise((r,o)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",p),s.removeEventListener("abort",p)},c=()=>{r(),l()},p=()=>{o(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",p),s.addEventListener("abort",p)});Oc.set(s,e)}let Mc={get(s,e,r){if(s instanceof IDBTransaction){if(e==="done")return Oc.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Hp.get(s);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return zr(s[e])},set(s,e,r){return s[e]=r,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function by(s){Mc=s(Mc)}function Hy(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const o=s.call(Sc(this),e,...r);return Hp.set(o,e.sort?e.sort():[e]),zr(o)}:jy().includes(s)?function(...e){return s.apply(Sc(this),e),zr(bp.get(this))}:function(...e){return zr(s.apply(Sc(this),e))}}function Qy(s){return typeof s=="function"?Hy(s):(s instanceof IDBTransaction&&qy(s),Uy(s,By())?new Proxy(s,Mc):s)}function zr(s){if(s instanceof IDBRequest)return $y(s);if(Tc.has(s))return Tc.get(s);const e=Qy(s);return e!==s&&(Tc.set(s,e),ih.set(e,s)),e}const Sc=s=>ih.get(s);function Ky(s,e,{blocked:r,upgrade:o,blocking:l,terminated:c}={}){const p=indexedDB.open(s,e),g=zr(p);return o&&p.addEventListener("upgradeneeded",v=>{o(zr(p.result),v.oldVersion,v.newVersion,zr(p.transaction),v)}),r&&p.addEventListener("blocked",v=>r(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const Wy=["get","getKey","getAll","getAllKeys","count"],Gy=["put","add","delete","clear"],Ic=new Map;function bd(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Ic.get(e))return Ic.get(e);const r=e.replace(/FromIndex$/,""),o=e!==r,l=Gy.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(l||Wy.includes(r)))return;const c=async function(p,...g){const v=this.transaction(p,l?"readwrite":"readonly");let E=v.store;return o&&(E=E.index(g.shift())),(await Promise.all([E[r](...g),l&&v.done]))[0]};return Ic.set(e,c),c}by(s=>({...s,get:(e,r,o)=>bd(e,r)||s.get(e,r,o),has:(e,r)=>!!bd(e,r)||s.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Xy(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Xy(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fc="@firebase/app",Hd="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new qp("@firebase/app"),Jy="@firebase/app-compat",Zy="@firebase/analytics-compat",ev="@firebase/analytics",tv="@firebase/app-check-compat",nv="@firebase/app-check",rv="@firebase/auth",iv="@firebase/auth-compat",sv="@firebase/database",ov="@firebase/data-connect",av="@firebase/database-compat",lv="@firebase/functions",uv="@firebase/functions-compat",cv="@firebase/installations",hv="@firebase/installations-compat",fv="@firebase/messaging",dv="@firebase/messaging-compat",pv="@firebase/performance",mv="@firebase/performance-compat",gv="@firebase/remote-config",yv="@firebase/remote-config-compat",vv="@firebase/storage",_v="@firebase/storage-compat",Ev="@firebase/firestore",wv="@firebase/vertexai",Tv="@firebase/firestore-compat",Sv="firebase",Iv="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc="[DEFAULT]",Cv={[Fc]:"fire-core",[Jy]:"fire-core-compat",[ev]:"fire-analytics",[Zy]:"fire-analytics-compat",[nv]:"fire-app-check",[tv]:"fire-app-check-compat",[rv]:"fire-auth",[iv]:"fire-auth-compat",[sv]:"fire-rtdb",[ov]:"fire-data-connect",[av]:"fire-rtdb-compat",[lv]:"fire-fn",[uv]:"fire-fn-compat",[cv]:"fire-iid",[hv]:"fire-iid-compat",[fv]:"fire-fcm",[dv]:"fire-fcm-compat",[pv]:"fire-perf",[mv]:"fire-perf-compat",[gv]:"fire-rc",[yv]:"fire-rc-compat",[vv]:"fire-gcs",[_v]:"fire-gcs-compat",[Ev]:"fire-fst",[Tv]:"fire-fst-compat",[wv]:"fire-vertex","fire-js":"fire-js",[Sv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Map,Av=new Map,Uc=new Map;function Qd(s,e){try{s.container.addComponent(e)}catch(r){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,r)}}function Cl(s){const e=s.name;if(Uc.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;Uc.set(e,s);for(const r of Il.values())Qd(r,s);for(const r of Av.values())Qd(r,s);return!0}function Rv(s,e){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new $p("app","Firebase",Pv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,r,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=Iv;function Qp(s,e={}){let r=s;typeof e!="object"&&(e={name:e});const o=Object.assign({name:zc,automaticDataCollectionEnabled:!1},e),l=o.name;if(typeof l!="string"||!l)throw Ur.create("bad-app-name",{appName:String(l)});if(r||(r=jp()),!r)throw Ur.create("no-options");const c=Il.get(l);if(c){if(Lc(r,c.options)&&Lc(o,c.config))return c;throw Ur.create("duplicate-app",{appName:l})}const p=new Ly(l);for(const v of Uc.values())p.addComponent(v);const g=new kv(r,o,p);return Il.set(l,g),g}function Vv(s=zc){const e=Il.get(s);if(!e&&s===zc&&jp())return Qp();if(!e)throw Ur.create("no-app",{appName:s});return e}function Ts(s,e,r){var o;let l=(o=Cv[s])!==null&&o!==void 0?o:s;r&&(l+=`-${r}`);const c=l.match(/\s|\//),p=e.match(/\s|\//);if(c||p){const g=[`Unable to register library "${l}" with version "${e}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&p&&g.push("and"),p&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(g.join(" "));return}Cl(new Bo(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="firebase-heartbeat-database",Nv=1,jo="firebase-heartbeat-store";let Cc=null;function Kp(){return Cc||(Cc=Ky(Dv,Nv,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(jo)}catch(r){console.warn(r)}}}}).catch(s=>{throw Ur.create("idb-open",{originalErrorMessage:s.message})})),Cc}async function Lv(s){try{const r=(await Kp()).transaction(jo),o=await r.objectStore(jo).get(Wp(s));return await r.done,o}catch(e){if(e instanceof Ds)lr.warn(e.message);else{const r=Ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lr.warn(r.message)}}}async function Kd(s,e){try{const o=(await Kp()).transaction(jo,"readwrite");await o.objectStore(jo).put(e,Wp(s)),await o.done}catch(r){if(r instanceof Ds)lr.warn(r.message);else{const o=Ur.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});lr.warn(o.message)}}}function Wp(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=1024,Mv=30*24*60*60*1e3;class Fv{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Uv(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Wd();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(p=>p.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(p=>{const g=new Date(p.date).valueOf();return Date.now()-g<=Mv}),this._storage.overwrite(this._heartbeatsCache))}catch(o){lr.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Wd(),{heartbeatsToSend:o,unsentEntries:l}=zv(this._heartbeatsCache.heartbeats),c=Sl(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return lr.warn(r),""}}}function Wd(){return new Date().toISOString().substring(0,10)}function zv(s,e=Ov){const r=[];let o=s.slice();for(const l of s){const c=r.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),Gd(r)>e){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),Gd(r)>e){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class Uv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cy()?Ay().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Lv(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Kd(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Kd(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Gd(s){return Sl(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(s){Cl(new Bo("platform-logger",e=>new Yy(e),"PRIVATE")),Cl(new Bo("heartbeat",e=>new Fv(e),"PRIVATE")),Ts(Fc,Hd,s),Ts(Fc,Hd,"esm2017"),Ts("fire-js","")}Bv("");var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wi,Gp;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function I(){}I.prototype=T.prototype,k.D=T.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(P,x,D){for(var S=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)S[Je-2]=arguments[Je];return T.prototype[x].apply(P,S)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(k,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var x=0;16>x;++x)P[x]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(x=0;16>x;++x)P[x]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=k.g[0],I=k.g[1],x=k.g[2];var D=k.g[3],S=T+(D^I&(x^D))+P[0]+3614090360&4294967295;T=I+(S<<7&4294967295|S>>>25),S=D+(x^T&(I^x))+P[1]+3905402710&4294967295,D=T+(S<<12&4294967295|S>>>20),S=x+(I^D&(T^I))+P[2]+606105819&4294967295,x=D+(S<<17&4294967295|S>>>15),S=I+(T^x&(D^T))+P[3]+3250441966&4294967295,I=x+(S<<22&4294967295|S>>>10),S=T+(D^I&(x^D))+P[4]+4118548399&4294967295,T=I+(S<<7&4294967295|S>>>25),S=D+(x^T&(I^x))+P[5]+1200080426&4294967295,D=T+(S<<12&4294967295|S>>>20),S=x+(I^D&(T^I))+P[6]+2821735955&4294967295,x=D+(S<<17&4294967295|S>>>15),S=I+(T^x&(D^T))+P[7]+4249261313&4294967295,I=x+(S<<22&4294967295|S>>>10),S=T+(D^I&(x^D))+P[8]+1770035416&4294967295,T=I+(S<<7&4294967295|S>>>25),S=D+(x^T&(I^x))+P[9]+2336552879&4294967295,D=T+(S<<12&4294967295|S>>>20),S=x+(I^D&(T^I))+P[10]+4294925233&4294967295,x=D+(S<<17&4294967295|S>>>15),S=I+(T^x&(D^T))+P[11]+2304563134&4294967295,I=x+(S<<22&4294967295|S>>>10),S=T+(D^I&(x^D))+P[12]+1804603682&4294967295,T=I+(S<<7&4294967295|S>>>25),S=D+(x^T&(I^x))+P[13]+4254626195&4294967295,D=T+(S<<12&4294967295|S>>>20),S=x+(I^D&(T^I))+P[14]+2792965006&4294967295,x=D+(S<<17&4294967295|S>>>15),S=I+(T^x&(D^T))+P[15]+1236535329&4294967295,I=x+(S<<22&4294967295|S>>>10),S=T+(x^D&(I^x))+P[1]+4129170786&4294967295,T=I+(S<<5&4294967295|S>>>27),S=D+(I^x&(T^I))+P[6]+3225465664&4294967295,D=T+(S<<9&4294967295|S>>>23),S=x+(T^I&(D^T))+P[11]+643717713&4294967295,x=D+(S<<14&4294967295|S>>>18),S=I+(D^T&(x^D))+P[0]+3921069994&4294967295,I=x+(S<<20&4294967295|S>>>12),S=T+(x^D&(I^x))+P[5]+3593408605&4294967295,T=I+(S<<5&4294967295|S>>>27),S=D+(I^x&(T^I))+P[10]+38016083&4294967295,D=T+(S<<9&4294967295|S>>>23),S=x+(T^I&(D^T))+P[15]+3634488961&4294967295,x=D+(S<<14&4294967295|S>>>18),S=I+(D^T&(x^D))+P[4]+3889429448&4294967295,I=x+(S<<20&4294967295|S>>>12),S=T+(x^D&(I^x))+P[9]+568446438&4294967295,T=I+(S<<5&4294967295|S>>>27),S=D+(I^x&(T^I))+P[14]+3275163606&4294967295,D=T+(S<<9&4294967295|S>>>23),S=x+(T^I&(D^T))+P[3]+4107603335&4294967295,x=D+(S<<14&4294967295|S>>>18),S=I+(D^T&(x^D))+P[8]+1163531501&4294967295,I=x+(S<<20&4294967295|S>>>12),S=T+(x^D&(I^x))+P[13]+2850285829&4294967295,T=I+(S<<5&4294967295|S>>>27),S=D+(I^x&(T^I))+P[2]+4243563512&4294967295,D=T+(S<<9&4294967295|S>>>23),S=x+(T^I&(D^T))+P[7]+1735328473&4294967295,x=D+(S<<14&4294967295|S>>>18),S=I+(D^T&(x^D))+P[12]+2368359562&4294967295,I=x+(S<<20&4294967295|S>>>12),S=T+(I^x^D)+P[5]+4294588738&4294967295,T=I+(S<<4&4294967295|S>>>28),S=D+(T^I^x)+P[8]+2272392833&4294967295,D=T+(S<<11&4294967295|S>>>21),S=x+(D^T^I)+P[11]+1839030562&4294967295,x=D+(S<<16&4294967295|S>>>16),S=I+(x^D^T)+P[14]+4259657740&4294967295,I=x+(S<<23&4294967295|S>>>9),S=T+(I^x^D)+P[1]+2763975236&4294967295,T=I+(S<<4&4294967295|S>>>28),S=D+(T^I^x)+P[4]+1272893353&4294967295,D=T+(S<<11&4294967295|S>>>21),S=x+(D^T^I)+P[7]+4139469664&4294967295,x=D+(S<<16&4294967295|S>>>16),S=I+(x^D^T)+P[10]+3200236656&4294967295,I=x+(S<<23&4294967295|S>>>9),S=T+(I^x^D)+P[13]+681279174&4294967295,T=I+(S<<4&4294967295|S>>>28),S=D+(T^I^x)+P[0]+3936430074&4294967295,D=T+(S<<11&4294967295|S>>>21),S=x+(D^T^I)+P[3]+3572445317&4294967295,x=D+(S<<16&4294967295|S>>>16),S=I+(x^D^T)+P[6]+76029189&4294967295,I=x+(S<<23&4294967295|S>>>9),S=T+(I^x^D)+P[9]+3654602809&4294967295,T=I+(S<<4&4294967295|S>>>28),S=D+(T^I^x)+P[12]+3873151461&4294967295,D=T+(S<<11&4294967295|S>>>21),S=x+(D^T^I)+P[15]+530742520&4294967295,x=D+(S<<16&4294967295|S>>>16),S=I+(x^D^T)+P[2]+3299628645&4294967295,I=x+(S<<23&4294967295|S>>>9),S=T+(x^(I|~D))+P[0]+4096336452&4294967295,T=I+(S<<6&4294967295|S>>>26),S=D+(I^(T|~x))+P[7]+1126891415&4294967295,D=T+(S<<10&4294967295|S>>>22),S=x+(T^(D|~I))+P[14]+2878612391&4294967295,x=D+(S<<15&4294967295|S>>>17),S=I+(D^(x|~T))+P[5]+4237533241&4294967295,I=x+(S<<21&4294967295|S>>>11),S=T+(x^(I|~D))+P[12]+1700485571&4294967295,T=I+(S<<6&4294967295|S>>>26),S=D+(I^(T|~x))+P[3]+2399980690&4294967295,D=T+(S<<10&4294967295|S>>>22),S=x+(T^(D|~I))+P[10]+4293915773&4294967295,x=D+(S<<15&4294967295|S>>>17),S=I+(D^(x|~T))+P[1]+2240044497&4294967295,I=x+(S<<21&4294967295|S>>>11),S=T+(x^(I|~D))+P[8]+1873313359&4294967295,T=I+(S<<6&4294967295|S>>>26),S=D+(I^(T|~x))+P[15]+4264355552&4294967295,D=T+(S<<10&4294967295|S>>>22),S=x+(T^(D|~I))+P[6]+2734768916&4294967295,x=D+(S<<15&4294967295|S>>>17),S=I+(D^(x|~T))+P[13]+1309151649&4294967295,I=x+(S<<21&4294967295|S>>>11),S=T+(x^(I|~D))+P[4]+4149444226&4294967295,T=I+(S<<6&4294967295|S>>>26),S=D+(I^(T|~x))+P[11]+3174756917&4294967295,D=T+(S<<10&4294967295|S>>>22),S=x+(T^(D|~I))+P[2]+718787259&4294967295,x=D+(S<<15&4294967295|S>>>17),S=I+(D^(x|~T))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(x+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+x&4294967295,k.g[3]=k.g[3]+D&4294967295}o.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var I=T-this.blockSize,P=this.B,x=this.h,D=0;D<T;){if(x==0)for(;D<=I;)l(this,k,D),D+=this.blockSize;if(typeof k=="string"){for(;D<T;)if(P[x++]=k.charCodeAt(D++),x==this.blockSize){l(this,P),x=0;break}}else for(;D<T;)if(P[x++]=k[D++],x==this.blockSize){l(this,P),x=0;break}}this.h=x,this.o+=T},o.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var I=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=I&255,I/=256;for(this.u(k),k=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)k[I++]=this.g[T]>>>P&255;return k};function c(k,T){var I=g;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=T(k)}function p(k,T){this.h=T;for(var I=[],P=!0,x=k.length-1;0<=x;x--){var D=k[x]|0;P&&D==T||(I[x]=D,P=!1)}this.g=I}var g={};function v(k){return-128<=k&&128>k?c(k,function(T){return new p([T|0],0>T?-1:0)}):new p([k|0],0>k?-1:0)}function E(k){if(isNaN(k)||!isFinite(k))return O;if(0>k)return K(E(-k));for(var T=[],I=1,P=0;k>=I;P++)T[P]=k/I|0,I*=4294967296;return new p(T,0)}function C(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return K(C(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=E(Math.pow(T,8)),P=O,x=0;x<k.length;x+=8){var D=Math.min(8,k.length-x),S=parseInt(k.substring(x,x+D),T);8>D?(D=E(Math.pow(T,D)),P=P.j(D).add(E(S))):(P=P.j(I),P=P.add(E(S)))}return P}var O=v(0),U=v(1),H=v(16777216);s=p.prototype,s.m=function(){if(ee(this))return-K(this).m();for(var k=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);k+=(0<=P?P:4294967296+P)*T,T*=4294967296}return k},s.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(J(this))return"0";if(ee(this))return"-"+K(this).toString(k);for(var T=E(Math.pow(k,6)),I=this,P="";;){var x=Ee(I,T).g;I=Ne(I,x.j(T));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=x,J(I))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},s.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function J(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function ee(k){return k.h==-1}s.l=function(k){return k=Ne(this,k),ee(k)?-1:J(k)?0:1};function K(k){for(var T=k.g.length,I=[],P=0;P<T;P++)I[P]=~k.g[P];return new p(I,~k.h).add(U)}s.abs=function(){return ee(this)?K(this):this},s.add=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0,x=0;x<=T;x++){var D=P+(this.i(x)&65535)+(k.i(x)&65535),S=(D>>>16)+(this.i(x)>>>16)+(k.i(x)>>>16);P=S>>>16,D&=65535,S&=65535,I[x]=S<<16|D}return new p(I,I[I.length-1]&-2147483648?-1:0)};function Ne(k,T){return k.add(K(T))}s.j=function(k){if(J(this)||J(k))return O;if(ee(this))return ee(k)?K(this).j(K(k)):K(K(this).j(k));if(ee(k))return K(this.j(K(k)));if(0>this.l(H)&&0>k.l(H))return E(this.m()*k.m());for(var T=this.g.length+k.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var x=0;x<k.g.length;x++){var D=this.i(P)>>>16,S=this.i(P)&65535,Je=k.i(x)>>>16,Ct=k.i(x)&65535;I[2*P+2*x]+=S*Ct,Pe(I,2*P+2*x),I[2*P+2*x+1]+=D*Ct,Pe(I,2*P+2*x+1),I[2*P+2*x+1]+=S*Je,Pe(I,2*P+2*x+1),I[2*P+2*x+2]+=D*Je,Pe(I,2*P+2*x+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new p(I,0)};function Pe(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function _e(k,T){this.g=k,this.h=T}function Ee(k,T){if(J(T))throw Error("division by zero");if(J(k))return new _e(O,O);if(ee(k))return T=Ee(K(k),T),new _e(K(T.g),K(T.h));if(ee(T))return T=Ee(k,K(T)),new _e(K(T.g),T.h);if(30<k.g.length){if(ee(k)||ee(T))throw Error("slowDivide_ only works with positive integers.");for(var I=U,P=T;0>=P.l(k);)I=Xe(I),P=Xe(P);var x=ke(I,1),D=ke(P,1);for(P=ke(P,2),I=ke(I,2);!J(P);){var S=D.add(P);0>=S.l(k)&&(x=x.add(I),D=S),P=ke(P,1),I=ke(I,1)}return T=Ne(k,x.j(T)),new _e(x,T)}for(x=O;0<=k.l(T);){for(I=Math.max(1,Math.floor(k.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=E(I),S=D.j(T);ee(S)||0<S.l(k);)I-=P,D=E(I),S=D.j(T);J(D)&&(D=U),x=x.add(D),k=Ne(k,S)}return new _e(x,k)}s.A=function(k){return Ee(this,k).h},s.and=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&k.i(P);return new p(I,this.h&k.h)},s.or=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|k.i(P);return new p(I,this.h|k.h)},s.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^k.i(P);return new p(I,this.h^k.h)};function Xe(k){for(var T=k.g.length+1,I=[],P=0;P<T;P++)I[P]=k.i(P)<<1|k.i(P-1)>>>31;return new p(I,k.h)}function ke(k,T){var I=T>>5;T%=32;for(var P=k.g.length-I,x=[],D=0;D<P;D++)x[D]=0<T?k.i(D+I)>>>T|k.i(D+I+1)<<32-T:k.i(D+I);return new p(x,k.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Gp=o,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.A,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=C,wi=p}).apply(typeof Yd<"u"?Yd:typeof self<"u"?self:typeof window<"u"?window:{});var fl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yp,No,Xp,vl,Bc,Jp,Zp,em;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,m){return a==Array.prototype||a==Object.prototype||(a[f]=m.value),a};function r(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof fl=="object"&&fl];for(var f=0;f<a.length;++f){var m=a[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var o=r(this);function l(a,f){if(f)e:{var m=o;a=a.split(".");for(var _=0;_<a.length-1;_++){var N=a[_];if(!(N in m))break e;m=m[N]}a=a[a.length-1],_=m[a],f=f(_),f!=_&&f!=null&&e(m,a,{configurable:!0,writable:!0,value:f})}}function c(a,f){a instanceof String&&(a+="");var m=0,_=!1,N={next:function(){if(!_&&m<a.length){var z=m++;return{value:f(z,a[z]),done:!1}}return _=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}l("Array.prototype.values",function(a){return a||function(){return c(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var p=p||{},g=this||self;function v(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function E(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function C(a,f,m){return a.call.apply(a.bind,arguments)}function O(a,f,m){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,_),a.apply(f,N)}}return function(){return a.apply(f,arguments)}}function U(a,f,m){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?C:O,U.apply(null,arguments)}function H(a,f){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function J(a,f){function m(){}m.prototype=f.prototype,a.aa=f.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(_,N,z){for(var W=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)W[Me-2]=arguments[Me];return f.prototype[N].apply(_,W)}}function ee(a){const f=a.length;if(0<f){const m=Array(f);for(let _=0;_<f;_++)m[_]=a[_];return m}return[]}function K(a,f){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(v(_)){const N=a.length||0,z=_.length||0;a.length=N+z;for(let W=0;W<z;W++)a[N+W]=_[W]}else a.push(_)}}class Ne{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function Pe(a){return/^[\s\xa0]*$/.test(a)}function _e(){var a=g.navigator;return a&&(a=a.userAgent)?a:""}function Ee(a){return Ee[" "](a),a}Ee[" "]=function(){};var Xe=_e().indexOf("Gecko")!=-1&&!(_e().toLowerCase().indexOf("webkit")!=-1&&_e().indexOf("Edge")==-1)&&!(_e().indexOf("Trident")!=-1||_e().indexOf("MSIE")!=-1)&&_e().indexOf("Edge")==-1;function ke(a,f,m){for(const _ in a)f.call(m,a[_],_,a)}function k(a,f){for(const m in a)f.call(void 0,a[m],m,a)}function T(a){const f={};for(const m in a)f[m]=a[m];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(a,f){let m,_;for(let N=1;N<arguments.length;N++){_=arguments[N];for(m in _)a[m]=_[m];for(let z=0;z<I.length;z++)m=I[z],Object.prototype.hasOwnProperty.call(_,m)&&(a[m]=_[m])}}function x(a){var f=1;a=a.split(":");const m=[];for(;0<f&&a.length;)m.push(a.shift()),f--;return a.length&&m.push(a.join(":")),m}function D(a){g.setTimeout(()=>{throw a},0)}function S(){var a=ae;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class Je{constructor(){this.h=this.g=null}add(f,m){const _=Ct.get();_.set(f,m),this.h?this.h.next=_:this.g=_,this.h=_}}var Ct=new Ne(()=>new At,a=>a.reset());class At{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,G=!1,ae=new Je,Z=()=>{const a=g.Promise.resolve(void 0);Fe=()=>{a.then(V)}};var V=()=>{for(var a;a=S();){try{a.h.call(a.g)}catch(m){D(m)}var f=Ct;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}G=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};g.addEventListener("test",m,f),g.removeEventListener("test",m,f)}catch{}return a}();function ye(a,f){if(oe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(Xe){e:{try{Ee(f.nodeName);var N=!0;break e}catch{}N=!1}N||(f=null)}}else m=="mouseover"?f=a.fromElement:m=="mouseout"&&(f=a.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Te[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ye.aa.h.call(this)}}J(ye,oe);var Te={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Ue(a,f,m,_,N){this.listener=a,this.proxy=null,this.src=f,this.type=m,this.capture=!!_,this.ha=N,this.key=++Oe,this.da=this.fa=!1}function dt(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function bn(a){this.src=a,this.g={},this.h=0}bn.prototype.add=function(a,f,m,_,N){var z=a.toString();a=this.g[z],a||(a=this.g[z]=[],this.h++);var W=cr(a,f,_,N);return-1<W?(f=a[W],m||(f.fa=!1)):(f=new Ue(f,this.src,z,!!_,N),f.fa=m,a.push(f)),f};function Ai(a,f){var m=f.type;if(m in a.g){var _=a.g[m],N=Array.prototype.indexOf.call(_,f,void 0),z;(z=0<=N)&&Array.prototype.splice.call(_,N,1),z&&(dt(f),a.g[m].length==0&&(delete a.g[m],a.h--))}}function cr(a,f,m,_){for(var N=0;N<a.length;++N){var z=a[N];if(!z.da&&z.listener==f&&z.capture==!!m&&z.ha==_)return N}return-1}var Hr="closure_lm_"+(1e6*Math.random()|0),Ri={};function Fs(a,f,m,_,N){if(Array.isArray(f)){for(var z=0;z<f.length;z++)Fs(a,f[z],m,_,N);return null}return m=Bs(m),a&&a[Le]?a.K(f,m,E(_)?!!_.capture:!1,N):zs(a,f,m,!1,_,N)}function zs(a,f,m,_,N,z){if(!f)throw Error("Invalid event type");var W=E(N)?!!N.capture:!!N,Me=ki(a);if(Me||(a[Hr]=Me=new bn(a)),m=Me.add(f,m,_,W,z),m.proxy)return m;if(_=Yo(),m.proxy=_,_.src=a,_.listener=m,a.addEventListener)ge||(N=W),N===void 0&&(N=!1),a.addEventListener(f.toString(),_,N);else if(a.attachEvent)a.attachEvent(Qn(f.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Yo(){function a(m){return f.call(a.src,a.listener,m)}const f=Us;return a}function Pi(a,f,m,_,N){if(Array.isArray(f))for(var z=0;z<f.length;z++)Pi(a,f[z],m,_,N);else _=E(_)?!!_.capture:!!_,m=Bs(m),a&&a[Le]?(a=a.i,f=String(f).toString(),f in a.g&&(z=a.g[f],m=cr(z,m,_,N),-1<m&&(dt(z[m]),Array.prototype.splice.call(z,m,1),z.length==0&&(delete a.g[f],a.h--)))):a&&(a=ki(a))&&(f=a.g[f.toString()],a=-1,f&&(a=cr(f,m,_,N)),(m=-1<a?f[a]:null)&&Hn(m))}function Hn(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[Le])Ai(f.i,a);else{var m=a.type,_=a.proxy;f.removeEventListener?f.removeEventListener(m,_,a.capture):f.detachEvent?f.detachEvent(Qn(m),_):f.addListener&&f.removeListener&&f.removeListener(_),(m=ki(f))?(Ai(m,a),m.h==0&&(m.src=null,f[Hr]=null)):dt(a)}}}function Qn(a){return a in Ri?Ri[a]:Ri[a]="on"+a}function Us(a,f){if(a.da)a=!0;else{f=new ye(f,this);var m=a.listener,_=a.ha||a.src;a.fa&&Hn(a),a=m.call(_,f)}return a}function ki(a){return a=a[Hr],a instanceof bn?a:null}var xi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bs(a){return typeof a=="function"?a:(a[xi]||(a[xi]=function(f){return a.handleEvent(f)}),a[xi])}function ot(){B.call(this),this.i=new bn(this),this.M=this,this.F=null}J(ot,B),ot.prototype[Le]=!0,ot.prototype.removeEventListener=function(a,f,m,_){Pi(this,a,f,m,_)};function at(a,f){var m,_=a.F;if(_)for(m=[];_;_=_.F)m.push(_);if(a=a.M,_=f.type||f,typeof f=="string")f=new oe(f,a);else if(f instanceof oe)f.target=f.target||a;else{var N=f;f=new oe(_,a),P(f,N)}if(N=!0,m)for(var z=m.length-1;0<=z;z--){var W=f.g=m[z];N=Kn(W,_,!0,f)&&N}if(W=f.g=a,N=Kn(W,_,!0,f)&&N,N=Kn(W,_,!1,f)&&N,m)for(z=0;z<m.length;z++)W=f.g=m[z],N=Kn(W,_,!1,f)&&N}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var m=a.g[f],_=0;_<m.length;_++)dt(m[_]);delete a.g[f],a.h--}}this.F=null},ot.prototype.K=function(a,f,m,_){return this.i.add(String(a),f,!1,m,_)},ot.prototype.L=function(a,f,m,_){return this.i.add(String(a),f,!0,m,_)};function Kn(a,f,m,_){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var N=!0,z=0;z<f.length;++z){var W=f[z];if(W&&!W.da&&W.capture==m){var Me=W.listener,lt=W.ha||W.src;W.fa&&Ai(a.i,W),N=Me.call(lt,_)!==!1&&N}}return N&&!_.defaultPrevented}function js(a,f,m){if(typeof a=="function")m&&(a=U(a,m));else if(a&&typeof a.handleEvent=="function")a=U(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:g.setTimeout(a,f||0)}function hr(a){a.g=js(()=>{a.g=null,a.i&&(a.i=!1,hr(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class Qr extends B{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:hr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(a){B.call(this),this.h=a,this.g={}}J(Kr,B);var $s=[];function qs(a){ke(a.g,function(f,m){this.g.hasOwnProperty(m)&&Hn(f)},a),a.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),qs(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bs=g.JSON.stringify,Hs=g.JSON.parse,Qs=class{stringify(a){return g.JSON.stringify(a,void 0)}parse(a){return g.JSON.parse(a,void 0)}};function Wr(){}Wr.prototype.h=null;function Vi(a){return a.h||(a.h=a.i())}function Di(){}var nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kn(){oe.call(this,"d")}J(kn,oe);function Ni(){oe.call(this,"c")}J(Ni,oe);var xn={},Ks=null;function Gr(){return Ks=Ks||new ot}xn.La="serverreachability";function Ws(a){oe.call(this,xn.La,a)}J(Ws,oe);function Wn(a){const f=Gr();at(f,new Ws(f))}xn.STAT_EVENT="statevent";function Gs(a,f){oe.call(this,xn.STAT_EVENT,a),this.stat=f}J(Gs,oe);function Ze(a){const f=Gr();at(f,new Gs(f,a))}xn.Ma="timingevent";function Li(a,f){oe.call(this,xn.Ma,a),this.size=f}J(Li,oe);function pn(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){a()},f)}function Yr(){this.g=!0}Yr.prototype.xa=function(){this.g=!1};function Xr(a,f,m,_,N,z){a.info(function(){if(a.g)if(z)for(var W="",Me=z.split("&"),lt=0;lt<Me.length;lt++){var Se=Me[lt].split("=");if(1<Se.length){var pt=Se[0];Se=Se[1];var rt=pt.split("_");W=2<=rt.length&&rt[1]=="type"?W+(pt+"="+Se+"&"):W+(pt+"=redacted&")}}else W=null;else W=z;return"XMLHTTP REQ ("+_+") [attempt "+N+"]: "+f+`
`+m+`
`+W})}function Oi(a,f,m,_,N,z,W){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+N+"]: "+f+`
`+m+`
`+z+" "+W})}function mn(a,f,m,_){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+Hl(a,m)+(_?" "+_:"")})}function Ys(a,f){a.info(function(){return"TIMEOUT: "+f})}Yr.prototype.info=function(){};function Hl(a,f){if(!a.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var _=m[a];if(!(2>_.length)){var N=_[1];if(Array.isArray(N)&&!(1>N.length)){var z=N[0];if(z!="noop"&&z!="stop"&&z!="close")for(var W=1;W<N.length;W++)N[W]=""}}}}return bs(m)}catch{return f}}var Mi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gn;function Jr(){}J(Jr,Wr),Jr.prototype.g=function(){return new XMLHttpRequest},Jr.prototype.i=function(){return{}},gn=new Jr;function yn(a,f,m,_){this.j=a,this.i=f,this.l=m,this.R=_||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jo}function Jo(){this.i=null,this.g="",this.h=!1}var Xs={},Fi={};function zi(a,f,m){a.L=1,a.v=gr(Yt(f)),a.m=m,a.P=!0,Js(a,null)}function Js(a,f){a.F=Date.now(),Be(a),a.A=Yt(a.v);var m=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),vr(m.i,"t",_),a.C=0,m=a.j.J,a.h=new Jo,a.g=ga(a.j,m?f:null,!a.m),0<a.O&&(a.M=new Qr(U(a.Y,a,a.g),a.O)),f=a.U,m=a.g,_=a.ca;var N="readystatechange";Array.isArray(N)||(N&&($s[0]=N.toString()),N=$s);for(var z=0;z<N.length;z++){var W=Fs(m,N[z],_||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=a.H?T(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),Wn(),Xr(a.i,a.u,a.A,a.l,a.R,a.m)}yn.prototype.ca=function(a){a=a.target;const f=this.M;f&&Bt(a)==3?f.j():this.Y(a)},yn.prototype.Y=function(a){try{if(a==this.g)e:{const rt=Bt(this.g);var f=this.g.Ba();const on=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||io(this.g)))){this.J||rt!=4||f==7||(f==8||0>=on?Wn(3):Wn(2)),Zr(this);var m=this.g.Z();this.X=m;t:if(Zo(this)){var _=io(this.g);a="";var N=_.length,z=Bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),fr(this);var W="";break t}this.h.i=new g.TextDecoder}for(f=0;f<N;f++)this.h.h=!0,a+=this.h.i.decode(_[f],{stream:!(z&&f==N-1)});_.length=0,this.h.g+=a,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=m==200,Oi(this.i,this.u,this.A,this.l,this.R,rt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,lt=this.g;if((Me=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pe(Me)){var Se=Me;break t}}Se=null}if(m=Se)mn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zs(this,m);else{this.o=!1,this.s=3,Ze(12),rn(this),fr(this);break e}}if(this.P){m=!0;let Jt;for(;!this.J&&this.C<W.length;)if(Jt=Ql(this,W),Jt==Fi){rt==4&&(this.s=4,Ze(14),m=!1),mn(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Xs){this.s=4,Ze(15),mn(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}else mn(this.i,this.l,Jt,null),Zs(this,Jt);if(Zo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||W.length!=0||this.h.h||(this.s=1,Ze(16),m=!1),this.o=this.o&&m,!m)mn(this.i,this.l,W,"[Invalid Chunked Response]"),rn(this),fr(this);else if(0<W.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),oo(pt),pt.M=!0,Ze(11))}}else mn(this.i,this.l,W,null),Zs(this,W);rt==4&&rn(this),this.o&&!this.J&&(rt==4?Gi(this.j,this):(this.o=!1,Be(this)))}else bi(this.g),m==400&&0<W.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),rn(this),fr(this)}}}catch{}finally{}};function Zo(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Ql(a,f){var m=a.C,_=f.indexOf(`
`,m);return _==-1?Fi:(m=Number(f.substring(m,_)),isNaN(m)?Xs:(_+=1,_+m>f.length?Fi:(f=f.slice(_,_+m),a.C=_+m,f)))}yn.prototype.cancel=function(){this.J=!0,rn(this)};function Be(a){a.S=Date.now()+a.I,ea(a,a.I)}function ea(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=pn(U(a.ba,a),f)}function Zr(a){a.B&&(g.clearTimeout(a.B),a.B=null)}yn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Ys(this.i,this.A),this.L!=2&&(Wn(),Ze(17)),rn(this),this.s=2,fr(this)):ea(this,this.S-a)};function fr(a){a.j.G==0||a.J||Gi(a.j,a)}function rn(a){Zr(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,qs(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function Zs(a,f){try{var m=a.j;if(m.G!=0&&(m.g==a||Lt(m.h,a))){if(!a.K&&Lt(m.h,a)&&m.G==3){try{var _=m.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var N=_;if(N[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)Wi(m),Tn(m);else break e;Ki(m),Ze(18)}}else m.za=N[1],0<m.za-m.T&&37500>N[2]&&m.F&&m.v==0&&!m.C&&(m.C=pn(U(m.Za,m),6e3));if(1>=na(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Zn(m,11)}else if((a.K||m.g==a)&&Wi(m),!Pe(f))for(N=m.Da.g.parse(f),f=0;f<N.length;f++){let Se=N[f];if(m.T=Se[0],Se=Se[1],m.G==2)if(Se[0]=="c"){m.K=Se[1],m.ia=Se[2];const pt=Se[3];pt!=null&&(m.la=pt,m.j.info("VER="+m.la));const rt=Se[4];rt!=null&&(m.Aa=rt,m.j.info("SVER="+m.Aa));const on=Se[5];on!=null&&typeof on=="number"&&0<on&&(_=1.5*on,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const Jt=a.g;if(Jt){const oi=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var z=_.h;z.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(eo(z,z.h),z.h=null))}if(_.D){const Xi=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Xi&&(_.ya=Xi,ze(_.I,_.D,Xi))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var W=a;if(_.qa=ma(_,_.J?_.ia:null,_.W),W.K){ra(_.h,W);var Me=W,lt=_.L;lt&&(Me.I=lt),Me.B&&(Zr(Me),Be(Me)),_.g=W}else si(_);0<m.i.length&&Ln(m)}else Se[0]!="stop"&&Se[0]!="close"||Zn(m,7);else m.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Zn(m,7):Et(m):Se[0]!="noop"&&m.l&&m.l.ta(Se),m.v=0)}}Wn(4)}catch{}}var ta=class{constructor(a,f){this.g=a,this.map=f}};function ei(a){this.l=a||10,g.PerformanceNavigationTiming?(a=g.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gt(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function na(a){return a.h?1:a.g?a.g.size:0}function Lt(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function eo(a,f){a.g?a.g.add(f):a.h=f}function ra(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}ei.prototype.cancel=function(){if(this.i=ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function ia(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const m of a.g.values())f=f.concat(m.D);return f}return ee(a.i)}function Ui(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(v(a)){for(var f=[],m=a.length,_=0;_<m;_++)f.push(a[_]);return f}f=[],m=0;for(_ in a)f[m++]=a[_];return f}function Bi(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(v(a)||typeof a=="string"){var f=[];a=a.length;for(var m=0;m<a;m++)f.push(m);return f}f=[],m=0;for(const _ in a)f[m++]=_;return f}}}function dr(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(v(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var m=Bi(a),_=Ui(a),N=_.length,z=0;z<N;z++)f.call(void 0,_[z],m&&m[z],a)}var ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kl(a,f){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var _=a[m].indexOf("="),N=null;if(0<=_){var z=a[m].substring(0,_);N=a[m].substring(_+1)}else z=a[m];f(z,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Gn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Gn){this.h=a.h,ni(this,a.j),this.o=a.o,this.g=a.g,pr(this,a.s),this.l=a.l;var f=a.i,m=new Vn;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),mr(this,m),this.m=a.m}else a&&(f=String(a).match(ti))?(this.h=!1,ni(this,f[1]||"",!0),this.o=we(f[2]||""),this.g=we(f[3]||"",!0),pr(this,f[4]),this.l=we(f[5]||"",!0),mr(this,f[6]||"",!0),this.m=we(f[7]||"")):(this.h=!1,this.i=new Vn(null,this.h))}Gn.prototype.toString=function(){var a=[],f=this.j;f&&a.push(yr(f,ji,!0),":");var m=this.g;return(m||f=="file")&&(a.push("//"),(f=this.o)&&a.push(yr(f,ji,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(yr(m,m.charAt(0)=="/"?aa:oa,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",yr(m,to)),a.join("")};function Yt(a){return new Gn(a)}function ni(a,f,m){a.j=m?we(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function pr(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function mr(a,f,m){f instanceof Vn?(a.i=f,Dn(a.i,a.h)):(m||(f=yr(f,la)),a.i=new Vn(f,a.h))}function ze(a,f,m){a.i.set(f,m)}function gr(a){return ze(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function we(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function yr(a,f,m){return typeof a=="string"?(a=encodeURI(a).replace(f,sa),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function sa(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ji=/[#\/\?@]/g,oa=/[#\?:]/g,aa=/[#\?]/g,la=/[#\?@]/g,to=/#/g;function Vn(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function _t(a){a.g||(a.g=new Map,a.h=0,a.i&&Kl(a.i,function(f,m){a.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}s=Vn.prototype,s.add=function(a,f){_t(this),this.i=null,a=sn(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(f),this.h+=1,this};function vn(a,f){_t(a),f=sn(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function _n(a,f){return _t(a),f=sn(a,f),a.g.has(f)}s.forEach=function(a,f){_t(this),this.g.forEach(function(m,_){m.forEach(function(N){a.call(f,N,_,this)},this)},this)},s.na=function(){_t(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let _=0;_<f.length;_++){const N=a[_];for(let z=0;z<N.length;z++)m.push(f[_])}return m},s.V=function(a){_t(this);let f=[];if(typeof a=="string")_n(this,a)&&(f=f.concat(this.g.get(sn(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)f=f.concat(a[m])}return f},s.set=function(a,f){return _t(this),this.i=null,a=sn(this,a),_n(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},s.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function vr(a,f,m){vn(a,f),0<m.length&&(a.i=null,a.g.set(sn(a,f),ee(m)),a.h+=m.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var _=f[m];const z=encodeURIComponent(String(_)),W=this.V(_);for(_=0;_<W.length;_++){var N=z;W[_]!==""&&(N+="="+encodeURIComponent(String(W[_]))),a.push(N)}}return this.i=a.join("&")};function sn(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function Dn(a,f){f&&!a.j&&(_t(a),a.i=null,a.g.forEach(function(m,_){var N=_.toLowerCase();_!=N&&(vn(this,_),vr(this,N,m))},a)),a.j=f}function Wl(a,f){const m=new Yr;if(g.Image){const _=new Image;_.onload=H(Ut,m,"TestLoadImage: loaded",!0,f,_),_.onerror=H(Ut,m,"TestLoadImage: error",!1,f,_),_.onabort=H(Ut,m,"TestLoadImage: abort",!1,f,_),_.ontimeout=H(Ut,m,"TestLoadImage: timeout",!1,f,_),g.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else f(!1)}function ua(a,f){const m=new Yr,_=new AbortController,N=setTimeout(()=>{_.abort(),Ut(m,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:_.signal}).then(z=>{clearTimeout(N),z.ok?Ut(m,"TestPingServer: ok",!0,f):Ut(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(N),Ut(m,"TestPingServer: error",!1,f)})}function Ut(a,f,m,_,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),_(m)}catch{}}function Gl(){this.g=new Qs}function ca(a,f,m){const _=m||"";try{dr(a,function(N,z){let W=N;E(N)&&(W=bs(N)),f.push(_+z+"="+encodeURIComponent(W))})}catch(N){throw f.push(_+"type="+encodeURIComponent("_badmap")),N}}function Yn(a){this.l=a.Ub||null,this.j=a.eb||!1}J(Yn,Wr),Yn.prototype.g=function(){return new ri(this.l,this.j)},Yn.prototype.i=function(a){return function(){return a}}({});function ri(a,f){ot.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(ri,ot),s=ri.prototype,s.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,wn(this)},s.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||g).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,En(this)),this.readyState=0},s.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,wn(this)),this.g&&(this.readyState=3,wn(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ha(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ha(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}s.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?En(this):wn(this),this.readyState==3&&ha(this)}},s.Ra=function(a){this.g&&(this.response=this.responseText=a,En(this))},s.Qa=function(a){this.g&&(this.response=a,En(this))},s.ga=function(){this.g&&En(this)};function En(a){a.readyState=4,a.l=null,a.j=null,a.v=null,wn(a)}s.setRequestHeader=function(a,f){this.u.append(a,f)},s.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=f.next();return a.join(`\r
`)};function wn(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Xn(a){let f="";return ke(a,function(m,_){f+=_,f+=":",f+=m,f+=`\r
`}),f}function _r(a,f,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=Xn(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):ze(a,f,m))}function be(a){ot.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(be,ot);var Yl=/^https?$/i,no=["POST","PUT"];s=be.prototype,s.Ha=function(a){this.J=a},s.ea=function(a,f,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gn.g(),this.v=this.o?Vi(this.o):Vi(gn),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(z){ii(this,z);return}if(a=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var N in _)m.set(N,_[N]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const z of _.keys())m.set(z,_.get(z));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(z=>z.toLowerCase()=="content-type"),N=g.FormData&&a instanceof g.FormData,!(0<=Array.prototype.indexOf.call(no,f,void 0))||_||N||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,W]of m)this.g.setRequestHeader(z,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qi(this),this.u=!0,this.g.send(a),this.u=!1}catch(z){ii(this,z)}};function ii(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,$i(a),Xt(a)}function $i(a){a.A||(a.A=!0,at(a,"complete"),at(a,"error"))}s.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,at(this,"complete"),at(this,"abort"),Xt(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),be.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ro(this):this.bb())},s.bb=function(){ro(this)};function ro(a){if(a.h&&typeof p<"u"&&(!a.v[1]||Bt(a)!=4||a.Z()!=2)){if(a.u&&Bt(a)==4)js(a.Ea,0,a);else if(at(a,"readystatechange"),Bt(a)==4){a.h=!1;try{const W=a.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var _;if(_=W===0){var N=String(a.D).match(ti)[1]||null;!N&&g.self&&g.self.location&&(N=g.self.location.protocol.slice(0,-1)),_=!Yl.test(N?N.toLowerCase():"")}m=_}if(m)at(a,"complete"),at(a,"success");else{a.m=6;try{var z=2<Bt(a)?a.g.statusText:""}catch{z=""}a.l=z+" ["+a.Z()+"]",$i(a)}}finally{Xt(a)}}}}function Xt(a,f){if(a.g){qi(a);const m=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||at(a,"ready");try{m.onreadystatechange=_}catch{}}}function qi(a){a.I&&(g.clearTimeout(a.I),a.I=null)}s.isActive=function(){return!!this.g};function Bt(a){return a.g?a.g.readyState:0}s.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),Hs(f)}};function io(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function bi(a){const f={};a=(a.g&&2<=Bt(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(Pe(a[_]))continue;var m=x(a[_]);const N=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const z=f[N]||[];f[N]=z,z.push(m)}k(f,function(_){return _.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nn(a,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||f}function so(a){this.Aa=0,this.i=[],this.j=new Yr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nn("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nn("baseRetryDelayMs",5e3,a),this.cb=Nn("retryDelaySeedMs",1e4,a),this.Wa=Nn("forwardChannelMaxRetries",2,a),this.wa=Nn("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ei(a&&a.concurrentRequestLimit),this.Da=new Gl,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=so.prototype,s.la=8,s.G=1,s.connect=function(a,f,m,_){Ze(0),this.W=a,this.H=f||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=ma(this,null,this.W),Ln(this)};function Et(a){if(Hi(a),a.G==3){var f=a.U++,m=Yt(a.I);if(ze(m,"SID",a.K),ze(m,"RID",f),ze(m,"TYPE","terminate"),Jn(a,m),f=new yn(a,a.j,f),f.L=2,f.v=gr(Yt(m)),m=!1,g.navigator&&g.navigator.sendBeacon)try{m=g.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&g.Image&&(new Image().src=f.v,m=!0),m||(f.g=ga(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Be(f)}pa(a)}function Tn(a){a.g&&(oo(a),a.g.cancel(),a.g=null)}function Hi(a){Tn(a),a.u&&(g.clearTimeout(a.u),a.u=null),Wi(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&g.clearTimeout(a.s),a.s=null)}function Ln(a){if(!Gt(a.h)&&!a.s){a.s=!0;var f=a.Ga;Fe||Z(),G||(Fe(),G=!0),ae.add(f,a),a.B=0}}function Xl(a,f){return na(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=pn(U(a.Ga,a,f),da(a,a.B)),a.B++,!0)}s.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const N=new yn(this,this.j,a);let z=this.o;if(this.S&&(z?(z=T(z),P(z,this.S)):z=this.S),this.m!==null||this.O||(N.H=z,z=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Er(this,N,f),m=Yt(this.I),ze(m,"RID",a),ze(m,"CVER",22),this.D&&ze(m,"X-HTTP-Session-Id",this.D),Jn(this,m),z&&(this.O?f="headers="+encodeURIComponent(String(Xn(z)))+"&"+f:this.m&&_r(m,this.m,z)),eo(this.h,N),this.Ua&&ze(m,"TYPE","init"),this.P?(ze(m,"$req",f),ze(m,"SID","null"),N.T=!0,zi(N,m,null)):zi(N,m,f),this.G=2}}else this.G==3&&(a?Qi(this,a):this.i.length==0||Gt(this.h)||Qi(this))};function Qi(a,f){var m;f?m=f.l:m=a.U++;const _=Yt(a.I);ze(_,"SID",a.K),ze(_,"RID",m),ze(_,"AID",a.T),Jn(a,_),a.m&&a.o&&_r(_,a.m,a.o),m=new yn(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),f&&(a.i=f.D.concat(a.i)),f=Er(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),eo(a.h,m),zi(m,_,f)}function Jn(a,f){a.H&&ke(a.H,function(m,_){ze(f,_,m)}),a.l&&dr({},function(m,_){ze(f,_,m)})}function Er(a,f,m){m=Math.min(a.i.length,m);var _=a.l?U(a.l.Na,a.l,a):null;e:{var N=a.i;let z=-1;for(;;){const W=["count="+m];z==-1?0<m?(z=N[0].g,W.push("ofs="+z)):z=0:W.push("ofs="+z);let Me=!0;for(let lt=0;lt<m;lt++){let Se=N[lt].g;const pt=N[lt].map;if(Se-=z,0>Se)z=Math.max(0,N[lt].g-100),Me=!1;else try{ca(pt,W,"req"+Se+"_")}catch{_&&_(pt)}}if(Me){_=W.join("&");break e}}}return a=a.i.splice(0,m),f.D=a,_}function si(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;Fe||Z(),G||(Fe(),G=!0),ae.add(f,a),a.v=0}}function Ki(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=pn(U(a.Fa,a),da(a,a.v)),a.v++,!0)}s.Fa=function(){if(this.u=null,fa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=pn(U(this.ab,this),a)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),Tn(this),fa(this))};function oo(a){a.A!=null&&(g.clearTimeout(a.A),a.A=null)}function fa(a){a.g=new yn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=Yt(a.qa);ze(f,"RID","rpc"),ze(f,"SID",a.K),ze(f,"AID",a.T),ze(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&ze(f,"TO",a.ja),ze(f,"TYPE","xmlhttp"),Jn(a,f),a.m&&a.o&&_r(f,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=gr(Yt(f)),m.m=null,m.P=!0,Js(m,a)}s.Za=function(){this.C!=null&&(this.C=null,Tn(this),Ki(this),Ze(19))};function Wi(a){a.C!=null&&(g.clearTimeout(a.C),a.C=null)}function Gi(a,f){var m=null;if(a.g==f){Wi(a),oo(a),a.g=null;var _=2}else if(Lt(a.h,f))m=f.D,ra(a.h,f),_=1;else return;if(a.G!=0){if(f.o)if(_==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var N=a.B;_=Gr(),at(_,new Li(_,m)),Ln(a)}else si(a);else if(N=f.s,N==3||N==0&&0<f.X||!(_==1&&Xl(a,f)||_==2&&Ki(a)))switch(m&&0<m.length&&(f=a.h,f.i=f.i.concat(m)),N){case 1:Zn(a,5);break;case 4:Zn(a,10);break;case 3:Zn(a,6);break;default:Zn(a,2)}}}function da(a,f){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*f}function Zn(a,f){if(a.j.info("Error code "+f),f==2){var m=U(a.fb,a),_=a.Xa;const N=!_;_=new Gn(_||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ni(_,"https"),gr(_),N?Wl(_.toString(),m):ua(_.toString(),m)}else Ze(2);a.G=0,a.l&&a.l.sa(f),pa(a),Hi(a)}s.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function pa(a){if(a.G=0,a.ka=[],a.l){const f=ia(a.h);(f.length!=0||a.i.length!=0)&&(K(a.ka,f),K(a.ka,a.i),a.h.i.length=0,ee(a.i),a.i.length=0),a.l.ra()}}function ma(a,f,m){var _=m instanceof Gn?Yt(m):new Gn(m);if(_.g!="")f&&(_.g=f+"."+_.g),pr(_,_.s);else{var N=g.location;_=N.protocol,f=f?f+"."+N.hostname:N.hostname,N=+N.port;var z=new Gn(null);_&&ni(z,_),f&&(z.g=f),N&&pr(z,N),m&&(z.l=m),_=z}return m=a.D,f=a.ya,m&&f&&ze(_,m,f),ze(_,"VER",a.la),Jn(a,_),_}function ga(a,f,m){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new be(new Yn({eb:m})):new be(a.pa),f.Ha(a.J),f}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ao(){}s=ao.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Yi(){}Yi.prototype.g=function(a,f){return new Ot(a,f)};function Ot(a,f){ot.call(this),this.g=new so(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!Pe(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!Pe(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new On(this)}J(Ot,ot),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){Et(this.g)},Ot.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=bs(a),a=m);f.i.push(new ta(f.Ya++,a)),f.G==3&&Ln(f)},Ot.prototype.N=function(){this.g.l=null,delete this.j,Et(this.g),delete this.g,Ot.aa.N.call(this)};function ya(a){kn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const m in f){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}J(ya,kn);function va(){Ni.call(this),this.status=1}J(va,Ni);function On(a){this.g=a}J(On,ao),On.prototype.ua=function(){at(this.g,"a")},On.prototype.ta=function(a){at(this.g,new ya(a))},On.prototype.sa=function(a){at(this.g,new va)},On.prototype.ra=function(){at(this.g,"b")},Yi.prototype.createWebChannel=Yi.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,em=function(){return new Yi},Zp=function(){return Gr()},Jp=xn,Bc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mi.NO_ERROR=0,Mi.TIMEOUT=8,Mi.HTTP_ERROR=6,vl=Mi,Xo.COMPLETE="complete",Xp=Xo,Di.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",ot.prototype.listen=ot.prototype.K,No=Di,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,Yp=be}).apply(typeof fl<"u"?fl:typeof self<"u"?self:typeof window<"u"?window:{});const Xd="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ns="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new qp("@firebase/firestore");function vs(){return Ii.logLevel}function te(s,...e){if(Ii.logLevel<=Ce.DEBUG){const r=e.map(sh);Ii.debug(`Firestore (${Ns}): ${s}`,...r)}}function ur(s,...e){if(Ii.logLevel<=Ce.ERROR){const r=e.map(sh);Ii.error(`Firestore (${Ns}): ${s}`,...r)}}function As(s,...e){if(Ii.logLevel<=Ce.WARN){const r=e.map(sh);Ii.warn(`Firestore (${Ns}): ${s}`,...r)}}function sh(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(s="Unexpected state"){const e=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: `+s;throw ur(e),new Error(e)}function We(s,e){s||me()}function Re(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ds{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Dt.UNAUTHENTICATED))}shutdown(){}}class $v{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class qv{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){We(this.o===void 0);let o=this.i;const l=v=>this.i!==o?(o=this.i,r(v)):Promise.resolve();let c=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ti,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const v=c;e.enqueueRetryable(async()=>{await v.promise,await l(this.currentUser)})},g=v=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ti)}},0),p()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(We(typeof o.accessToken=="string"),new tm(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new Dt(e)}}class bv{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Hv{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new bv(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kv{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){We(this.o===void 0);const o=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.R;return this.R=c.token,te("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>o(c))};const l=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(We(typeof r.token=="string"),this.R=r.token,new Qv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let o=0;o<s;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=Wv(40);for(let c=0;c<l.length;++c)o.length<20&&l[c]<r&&(o+=e.charAt(l[c]%e.length))}return o}}function Ae(s,e){return s<e?-1:s>e?1:0}function Rs(s,e,r){return s.length===e.length&&s.every((o,l)=>r(o,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Wt(r,o)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new Wt(0,0))}static max(){return new pe(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,r,o){r===void 0?r=0:r>e.length&&me(),o===void 0?o=e.length-r:o>e.length-r&&me(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return $o.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof $o?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let l=0;l<o;l++){const c=e.get(l),p=r.get(l);if(c<p)return-1;if(c>p)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Ye extends $o{construct(e,r,o){return new Ye(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new ce(Y.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(l=>l.length>0))}return new Ye(r)}static emptyPath(){return new Ye([])}}const Yv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends $o{construct(e,r,o){return new zt(e,r,o)}static isValidIdentifier(e){return Yv.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const r=[];let o="",l=0;const c=()=>{if(o.length===0)throw new ce(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let p=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ce(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ce(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=v,l+=2}else g==="`"?(p=!p,l++):g!=="."||p?(o+=g,l++):(c(),l++)}if(c(),p)throw new ce(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(r)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Ye.fromString(e))}static fromName(e){return new fe(Ye.fromString(e).popFirst(5))}static empty(){return new fe(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ye.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Ye(e.slice()))}}function Xv(s,e){const r=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,l=pe.fromTimestamp(o===1e9?new Wt(r+1,0):new Wt(r,o));return new Br(l,fe.empty(),e)}function Jv(s){return new Br(s.readTime,s.key,-1)}class Br{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new Br(pe.min(),fe.empty(),-1)}static max(){return new Br(pe.max(),fe.empty(),-1)}}function Zv(s,e){let r=s.readTime.compareTo(e.readTime);return r!==0?r:(r=fe.comparator(s.documentKey,e.documentKey),r!==0?r:Ae(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==e_)throw s;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new j((o,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(o,l)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof j?r:j.resolve(r)}catch(r){return j.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):j.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):j.reject(r)}static resolve(e){return new j((r,o)=>{r(e)})}static reject(e){return new j((r,o)=>{o(e)})}static waitFor(e){return new j((r,o)=>{let l=0,c=0,p=!1;e.forEach(g=>{++l,g.next(()=>{++c,p&&c===l&&r()},v=>o(v))}),p=!0,c===l&&r()})}static or(e){let r=j.resolve(!1);for(const o of e)r=r.next(l=>l?j.resolve(l):o());return r}static forEach(e,r){const o=[];return e.forEach((l,c)=>{o.push(r.call(this,l,c))}),this.waitFor(o)}static mapArray(e,r){return new j((o,l)=>{const c=e.length,p=new Array(c);let g=0;for(let v=0;v<c;v++){const E=v;r(e[E]).next(C=>{p[E]=C,++g,g===c&&o(p)},C=>l(C))}})}static doWhile(e,r){return new j((o,l)=>{const c=()=>{e()===!0?r().next(()=>{c()},l):o()};c()})}}function n_(s){const e=s.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ls(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.ie(o),this.se=o=>r.writeSequenceNumber(o))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ll.oe=-1;function Ol(s){return s==null}function jc(s){return s===0&&1/s==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(s){let e="";for(let r=0;r<s.length;r++)e.length>0&&(e=Jd(e)),e=i_(s.get(r),e);return Jd(e)}function i_(s,e){let r=e;const o=s.length;for(let l=0;l<o;l++){const c=s.charAt(l);switch(c){case"\0":r+="";break;case"":r+="";break;default:r+=c}}return r}function Jd(s){return s+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(s){let e=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e++;return e}function Qo(s,e){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e(r,s[r])}function s_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,r){this.comparator=e,this.root=r||St.EMPTY}insert(e,r){return new nt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(l===0)return r+o.left.size;l<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dl(this.root,e,this.comparator,!1)}getReverseIterator(){return new dl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dl(this.root,e,this.comparator,!0)}}class dl{constructor(e,r,o,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?o(e.key,r):1,r&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,r,o,l,c){this.key=e,this.value=r,this.color=o??St.RED,this.left=l??St.EMPTY,this.right=c??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,l,c){return new St(e??this.key,r??this.value,o??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let l=this;const c=o(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,r,o),null):c===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(e,l.key)===0){if(l.right.isEmpty())return St.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,r,o,l,c){return this}insert(e,r,o){return new St(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new ep(this.data.getIterator())}getIteratorFrom(e){return new ep(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=o.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ft(this.comparator);return r.data=e,r}}class ep{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Mr([])}unionWith(e){let r=new ft(zt.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new Mr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Rs(this.fields,e.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new nm("Invalid base64 string: "+c):c}}(e);return new It(r)}static fromUint8Array(e){const r=function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c}(e);return new It(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let l=0;l<r.length;l++)o[l]=r.charCodeAt(l);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const o_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(s){if(We(!!s),typeof s=="string"){let e=0;const r=o_.exec(s);if(We(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:tt(s.seconds),nanos:tt(s.nanos)}}function tt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function $r(s){return typeof s=="string"?It.fromBase64String(s):It.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(s){var e,r;return((r=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Ml(s){const e=s.mapValue.fields.__previous_value__;return oh(e)?Ml(e):e}function qo(s){const e=jr(s.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,r,o,l,c,p,g,v,E){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=E}}class bo{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new bo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof bo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl={mapValue:{}};function qr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?oh(s)?4:u_(s)?9007199254740991:l_(s)?10:11:me()}function $n(s,e){if(s===e)return!0;const r=qr(s);if(r!==qr(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return qo(s).isEqual(qo(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=jr(l.timestampValue),g=jr(c.timestampValue);return p.seconds===g.seconds&&p.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(l,c){return $r(l.bytesValue).isEqual($r(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,c){return tt(l.geoPointValue.latitude)===tt(c.geoPointValue.latitude)&&tt(l.geoPointValue.longitude)===tt(c.geoPointValue.longitude)}(s,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return tt(l.integerValue)===tt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=tt(l.doubleValue),g=tt(c.doubleValue);return p===g?jc(p)===jc(g):isNaN(p)&&isNaN(g)}return!1}(s,e);case 9:return Rs(s.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:case 11:return function(l,c){const p=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Zd(p)!==Zd(g))return!1;for(const v in p)if(p.hasOwnProperty(v)&&(g[v]===void 0||!$n(p[v],g[v])))return!1;return!0}(s,e);default:return me()}}function Ho(s,e){return(s.values||[]).find(r=>$n(r,e))!==void 0}function Ps(s,e){if(s===e)return 0;const r=qr(s),o=qr(e);if(r!==o)return Ae(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ae(s.booleanValue,e.booleanValue);case 2:return function(c,p){const g=tt(c.integerValue||c.doubleValue),v=tt(p.integerValue||p.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(s,e);case 3:return tp(s.timestampValue,e.timestampValue);case 4:return tp(qo(s),qo(e));case 5:return Ae(s.stringValue,e.stringValue);case 6:return function(c,p){const g=$r(c),v=$r(p);return g.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(c,p){const g=c.split("/"),v=p.split("/");for(let E=0;E<g.length&&E<v.length;E++){const C=Ae(g[E],v[E]);if(C!==0)return C}return Ae(g.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,p){const g=Ae(tt(c.latitude),tt(p.latitude));return g!==0?g:Ae(tt(c.longitude),tt(p.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return np(s.arrayValue,e.arrayValue);case 10:return function(c,p){var g,v,E,C;const O=c.fields||{},U=p.fields||{},H=(g=O.value)===null||g===void 0?void 0:g.arrayValue,J=(v=U.value)===null||v===void 0?void 0:v.arrayValue,ee=Ae(((E=H==null?void 0:H.values)===null||E===void 0?void 0:E.length)||0,((C=J==null?void 0:J.values)===null||C===void 0?void 0:C.length)||0);return ee!==0?ee:np(H,J)}(s.mapValue,e.mapValue);case 11:return function(c,p){if(c===pl.mapValue&&p===pl.mapValue)return 0;if(c===pl.mapValue)return 1;if(p===pl.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),E=p.fields||{},C=Object.keys(E);v.sort(),C.sort();for(let O=0;O<v.length&&O<C.length;++O){const U=Ae(v[O],C[O]);if(U!==0)return U;const H=Ps(g[v[O]],E[C[O]]);if(H!==0)return H}return Ae(v.length,C.length)}(s.mapValue,e.mapValue);default:throw me()}}function tp(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ae(s,e);const r=jr(s),o=jr(e),l=Ae(r.seconds,o.seconds);return l!==0?l:Ae(r.nanos,o.nanos)}function np(s,e){const r=s.values||[],o=e.values||[];for(let l=0;l<r.length&&l<o.length;++l){const c=Ps(r[l],o[l]);if(c)return c}return Ae(r.length,o.length)}function ks(s){return $c(s)}function $c(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(r){const o=jr(r);return`time(${o.seconds},${o.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(r){return $r(r).toBase64()}(s.bytesValue):"referenceValue"in s?function(r){return fe.fromName(r).toString()}(s.referenceValue):"geoPointValue"in s?function(r){return`geo(${r.latitude},${r.longitude})`}(s.geoPointValue):"arrayValue"in s?function(r){let o="[",l=!0;for(const c of r.values||[])l?l=!1:o+=",",o+=$c(c);return o+"]"}(s.arrayValue):"mapValue"in s?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of o)c?c=!1:l+=",",l+=`${p}:${$c(r.fields[p])}`;return l+"}"}(s.mapValue):me()}function _l(s){switch(qr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ml(s);return e?16+_l(e):16;case 5:return 2*s.stringValue.length;case 6:return $r(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((l,c)=>l+_l(c),0)}(s.arrayValue);case 10:case 11:return function(o){let l=0;return Qo(o.fields,(c,p)=>{l+=c.length+_l(p)}),l}(s.mapValue);default:throw me()}}function qc(s){return!!s&&"integerValue"in s}function ah(s){return!!s&&"arrayValue"in s}function rp(s){return!!s&&"nullValue"in s}function ip(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ac(s){return!!s&&"mapValue"in s}function l_(s){var e,r;return((r=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Mo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Qo(s.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Mo(o)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Mo(s.arrayValue.values[r]);return e}return Object.assign({},s)}function u_(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Ac(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mo(r)}setAll(e){let r=zt.emptyPath(),o={},l=[];e.forEach((p,g)=>{if(!r.isImmediateParentOf(g)){const v=this.getFieldsMap(r);this.applyChanges(v,o,l),o={},l=[],r=g.popLast()}p?o[g.lastSegment()]=Mo(p):l.push(g.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,o,l)}delete(e){const r=this.field(e.popLast());Ac(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=r.mapValue.fields[e.get(o)];Ac(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,o){Qo(r,(l,c)=>e[l]=c);for(const l of o)delete e[l]}clone(){return new Bn(Mo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,r,o,l,c,p,g){this.key=e,this.documentType=r,this.version=o,this.readTime=l,this.createTime=c,this.data=p,this.documentState=g}static newInvalidDocument(e){return new Nt(e,0,pe.min(),pe.min(),pe.min(),Bn.empty(),0)}static newFoundDocument(e,r,o,l){return new Nt(e,1,r,pe.min(),o,l,0)}static newNoDocument(e,r){return new Nt(e,2,r,pe.min(),pe.min(),Bn.empty(),0)}static newUnknownDocument(e,r){return new Nt(e,3,r,pe.min(),pe.min(),Bn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,r){this.position=e,this.inclusive=r}}function sp(s,e,r){let o=0;for(let l=0;l<s.position.length;l++){const c=e[l],p=s.position[l];if(c.field.isKeyField()?o=fe.comparator(fe.fromName(p.referenceValue),r.key):o=Ps(p,r.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function op(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!$n(s.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,r="asc"){this.field=e,this.dir=r}}function c_(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{}class ht extends rm{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,o):new f_(e,r,o):r==="array-contains"?new m_(e,o):r==="in"?new g_(e,o):r==="not-in"?new y_(e,o):r==="array-contains-any"?new v_(e,o):new ht(e,r,o)}static createKeyFieldInFilter(e,r,o){return r==="in"?new d_(e,o):new p_(e,o)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ps(r,this.value)):r!==null&&qr(this.value)===qr(r)&&this.matchesComparison(Ps(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends rm{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new qn(e,r)}matches(e){return im(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function im(s){return s.op==="and"}function sm(s){return h_(s)&&im(s)}function h_(s){for(const e of s.filters)if(e instanceof qn)return!1;return!0}function bc(s){if(s instanceof ht)return s.field.canonicalString()+s.op.toString()+ks(s.value);if(sm(s))return s.filters.map(e=>bc(e)).join(",");{const e=s.filters.map(r=>bc(r)).join(",");return`${s.op}(${e})`}}function om(s,e){return s instanceof ht?function(o,l){return l instanceof ht&&o.op===l.op&&o.field.isEqual(l.field)&&$n(o.value,l.value)}(s,e):s instanceof qn?function(o,l){return l instanceof qn&&o.op===l.op&&o.filters.length===l.filters.length?o.filters.reduce((c,p,g)=>c&&om(p,l.filters[g]),!0):!1}(s,e):void me()}function am(s){return s instanceof ht?function(r){return`${r.field.canonicalString()} ${r.op} ${ks(r.value)}`}(s):s instanceof qn?function(r){return r.op.toString()+" {"+r.getFilters().map(am).join(" ,")+"}"}(s):"Filter"}class f_ extends ht{constructor(e,r,o){super(e,r,o),this.key=fe.fromName(o.referenceValue)}matches(e){const r=fe.comparator(e.key,this.key);return this.matchesComparison(r)}}class d_ extends ht{constructor(e,r){super(e,"in",r),this.keys=lm("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class p_ extends ht{constructor(e,r){super(e,"not-in",r),this.keys=lm("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function lm(s,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>fe.fromName(o.referenceValue))}class m_ extends ht{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ah(r)&&Ho(r.arrayValue,this.value)}}class g_ extends ht{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ho(this.value.arrayValue,r)}}class y_ extends ht{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Ho(this.value.arrayValue,r)}}class v_ extends ht{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ah(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Ho(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,r=null,o=[],l=[],c=null,p=null,g=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=l,this.limit=c,this.startAt=p,this.endAt=g,this.ue=null}}function ap(s,e=null,r=[],o=[],l=null,c=null,p=null){return new __(s,e,r,o,l,c,p)}function lh(s){const e=Re(s);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>bc(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>function(c){return c.field.canonicalString()+c.dir}(o)).join(","),Ol(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>ks(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>ks(o)).join(",")),e.ue=r}return e.ue}function uh(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<s.orderBy.length;r++)if(!c_(s.orderBy[r],e.orderBy[r]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let r=0;r<s.filters.length;r++)if(!om(s.filters[r],e.filters[r]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!op(s.startAt,e.startAt)&&op(s.endAt,e.endAt)}function Hc(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,r=null,o=[],l=[],c=null,p="F",g=null,v=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=l,this.limit=c,this.limitType=p,this.startAt=g,this.endAt=v,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function E_(s,e,r,o,l,c,p,g){return new Fl(s,e,r,o,l,c,p,g)}function um(s){return new Fl(s)}function lp(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function w_(s){return s.collectionGroup!==null}function Fo(s){const e=Re(s);if(e.ce===null){e.ce=[];const r=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),r.add(c.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let g=new ft(zt.comparator);return p.filters.forEach(v=>{v.getFlattenedFilters().forEach(E=>{E.isInequality()&&(g=g.add(E.field))})}),g})(e).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||e.ce.push(new Rl(c,o))}),r.has(zt.keyField().canonicalString())||e.ce.push(new Rl(zt.keyField(),o))}return e.ce}function jn(s){const e=Re(s);return e.le||(e.le=T_(e,Fo(s))),e.le}function T_(s,e){if(s.limitType==="F")return ap(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Rl(l.field,c)});const r=s.endAt?new Al(s.endAt.position,s.endAt.inclusive):null,o=s.startAt?new Al(s.startAt.position,s.startAt.inclusive):null;return ap(s.path,s.collectionGroup,e,s.filters,s.limit,r,o)}}function Qc(s,e,r){return new Fl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,r,s.startAt,s.endAt)}function zl(s,e){return uh(jn(s),jn(e))&&s.limitType===e.limitType}function cm(s){return`${lh(jn(s))}|lt:${s.limitType}`}function _s(s){return`Query(target=${function(r){let o=r.path.canonicalString();return r.collectionGroup!==null&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(l=>am(l)).join(", ")}]`),Ol(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(l=>function(p){return`${p.field.canonicalString()} (${p.dir})`}(l)).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(l=>ks(l)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(l=>ks(l)).join(",")),`Target(${o})`}(jn(s))}; limitType=${s.limitType})`}function Ul(s,e){return e.isFoundDocument()&&function(o,l){const c=l.key.path;return o.collectionGroup!==null?l.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):fe.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(s,e)&&function(o,l){for(const c of Fo(o))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,e)&&function(o,l){for(const c of o.filters)if(!c.matches(l))return!1;return!0}(s,e)&&function(o,l){return!(o.startAt&&!function(p,g,v){const E=sp(p,g,v);return p.inclusive?E<=0:E<0}(o.startAt,Fo(o),l)||o.endAt&&!function(p,g,v){const E=sp(p,g,v);return p.inclusive?E>=0:E>0}(o.endAt,Fo(o),l))}(s,e)}function S_(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function hm(s){return(e,r)=>{let o=!1;for(const l of Fo(s)){const c=I_(l,e,r);if(c!==0)return c;o=o||l.field.isKeyField()}return 0}}function I_(s,e,r){const o=s.field.isKeyField()?fe.comparator(e.key,r.key):function(c,p,g){const v=p.data.field(c),E=g.data.field(c);return v!==null&&E!==null?Ps(v,E):me()}(s.field,e,r);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o!==void 0){for(const[l,c]of o)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,r){const o=this.mapKeyFn(e),l=this.inner[o];if(l===void 0)return this.inner[o]=[[e,r]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return o.length===1?delete this.inner[r]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Qo(this.inner,(r,o)=>{for(const[l,c]of o)e(l,c)})}isEmpty(){return s_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new nt(fe.comparator);function br(){return C_}const fm=new nt(fe.comparator);function Lo(...s){let e=fm;for(const r of s)e=e.insert(r.key,r);return e}function A_(s){let e=fm;return s.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Ei(){return zo()}function dm(){return zo()}function zo(){return new Ci(s=>s.toString(),(s,e)=>s.isEqual(e))}const R_=new ft(fe.comparator);function Ve(...s){let e=R_;for(const r of s)e=e.add(r);return e}const P_=new ft(Ae);function k_(){return P_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(e)?"-0":e}}function V_(s){return{integerValue:""+s}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this._=void 0}}function D_(s,e,r){return s instanceof Kc?function(l,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&oh(c)&&(c=Ml(c)),c&&(p.fields.__previous_value__=c),{mapValue:p}}(r,e):s instanceof Pl?pm(s,e):s instanceof kl?mm(s,e):function(l,c){const p=L_(l,c),g=up(p)+up(l.Pe);return qc(p)&&qc(l.Pe)?V_(g):x_(l.serializer,g)}(s,e)}function N_(s,e,r){return s instanceof Pl?pm(s,e):s instanceof kl?mm(s,e):r}function L_(s,e){return s instanceof Wc?function(o){return qc(o)||function(c){return!!c&&"doubleValue"in c}(o)}(e)?e:{integerValue:0}:null}class Kc extends Bl{}class Pl extends Bl{constructor(e){super(),this.elements=e}}function pm(s,e){const r=gm(e);for(const o of s.elements)r.some(l=>$n(l,o))||r.push(o);return{arrayValue:{values:r}}}class kl extends Bl{constructor(e){super(),this.elements=e}}function mm(s,e){let r=gm(e);for(const o of s.elements)r=r.filter(l=>!$n(l,o));return{arrayValue:{values:r}}}class Wc extends Bl{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function up(s){return tt(s.integerValue||s.doubleValue)}function gm(s){return ah(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function O_(s,e){return s.field.isEqual(e.field)&&function(o,l){return o instanceof Pl&&l instanceof Pl||o instanceof kl&&l instanceof kl?Rs(o.elements,l.elements,$n):o instanceof Wc&&l instanceof Wc?$n(o.Pe,l.Pe):o instanceof Kc&&l instanceof Kc}(s.transform,e.transform)}class Si{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Si}static exists(e){return new Si(void 0,e)}static updateTime(e){return new Si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function El(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ch{}function ym(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new F_(s.key,Si.none()):new hh(s.key,s.data,Si.none());{const r=s.data,o=Bn.empty();let l=new ft(zt.comparator);for(let c of e.fields)if(!l.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?o.delete(c):o.set(c,p),l=l.add(c)}return new jl(s.key,o,new Mr(l.toArray()),Si.none())}}function M_(s,e,r){s instanceof hh?function(l,c,p){const g=l.value.clone(),v=hp(l.fieldTransforms,c,p.transformResults);g.setAll(v),c.convertToFoundDocument(p.version,g).setHasCommittedMutations()}(s,e,r):s instanceof jl?function(l,c,p){if(!El(l.precondition,c))return void c.convertToUnknownDocument(p.version);const g=hp(l.fieldTransforms,c,p.transformResults),v=c.data;v.setAll(vm(l)),v.setAll(g),c.convertToFoundDocument(p.version,v).setHasCommittedMutations()}(s,e,r):function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()}(0,e,r)}function Uo(s,e,r,o){return s instanceof hh?function(c,p,g,v){if(!El(c.precondition,p))return g;const E=c.value.clone(),C=fp(c.fieldTransforms,v,p);return E.setAll(C),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null}(s,e,r,o):s instanceof jl?function(c,p,g,v){if(!El(c.precondition,p))return g;const E=fp(c.fieldTransforms,v,p),C=p.data;return C.setAll(vm(c)),C.setAll(E),p.convertToFoundDocument(p.version,C).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(O=>O.field))}(s,e,r,o):function(c,p,g){return El(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):g}(s,e,r)}function cp(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(o,l){return o===void 0&&l===void 0||!(!o||!l)&&Rs(o,l,(c,p)=>O_(c,p))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class hh extends ch{constructor(e,r,o,l=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class jl extends ch{constructor(e,r,o,l,c=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function vm(s){const e=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=s.data.field(r);e.set(r,o)}}),e}function hp(s,e,r){const o=new Map;We(s.length===r.length);for(let l=0;l<r.length;l++){const c=s[l],p=c.transform,g=e.data.field(c.field);o.set(c.field,N_(p,g,r[l]))}return o}function fp(s,e,r){const o=new Map;for(const l of s){const c=l.transform,p=r.data.field(l.field);o.set(l.field,D_(c,p,e))}return o}class F_ extends ch{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,r,o,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&M_(c,e,o[l])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Uo(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Uo(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=dm();return this.mutations.forEach(l=>{const c=e.get(l.key),p=c.overlayedDocument;let g=this.applyToLocalView(p,c.mutatedFields);g=r.has(l.key)?null:g;const v=ym(p,g);v!==null&&o.set(l.key,v),p.isValidDocument()||p.convertToNoDocument(pe.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Rs(this.mutations,e.mutations,(r,o)=>cp(r,o))&&Rs(this.baseMutations,e.baseMutations,(r,o)=>cp(r,o))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Ie;function _m(s){if(s===void 0)return ur("GRPC error has no .code"),Y.UNKNOWN;switch(s){case st.OK:return Y.OK;case st.CANCELLED:return Y.CANCELLED;case st.UNKNOWN:return Y.UNKNOWN;case st.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case st.INTERNAL:return Y.INTERNAL;case st.UNAVAILABLE:return Y.UNAVAILABLE;case st.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case st.NOT_FOUND:return Y.NOT_FOUND;case st.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case st.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case st.ABORTED:return Y.ABORTED;case st.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case st.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case st.DATA_LOSS:return Y.DATA_LOSS;default:return me()}}(Ie=st||(st={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=new wi([4294967295,4294967295],0);function dp(s){const e=j_().encode(s),r=new Gp;return r.update(e),new Uint8Array(r.digest())}function pp(s){const e=new DataView(s.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new wi([r,o],0),new wi([l,c],0)]}class fh{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Oo(`Invalid padding: ${r}`);if(o<0)throw new Oo(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new Oo(`Invalid hash count: ${o}`);if(e.length===0&&r!==0)throw new Oo(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ie=wi.fromNumber(this.Te)}Ee(e,r,o){let l=e.add(r.multiply(wi.fromNumber(o)));return l.compare($_)===1&&(l=new wi([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const r=dp(e),[o,l]=pp(r);for(let c=0;c<this.hashCount;c++){const p=this.Ee(o,l,c);if(!this.de(p))return!1}return!0}static create(e,r,o){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),p=new fh(c,l,r);return o.forEach(g=>p.insert(g)),p}insert(e){if(this.Te===0)return;const r=dp(e),[o,l]=pp(r);for(let c=0;c<this.hashCount;c++){const p=this.Ee(o,l,c);this.Ae(p)}}Ae(e){const r=Math.floor(e/8),o=e%8;this.bitmap[r]|=1<<o}}class Oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,r,o,l,c){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const l=new Map;return l.set(e,Ko.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new $l(pe.min(),l,new nt(Ae),br(),Ve())}}class Ko{constructor(e,r,o,l,c){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new Ko(o,r,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,r,o,l){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=l}}class Em{constructor(e,r){this.targetId=e,this.me=r}}class wm{constructor(e,r,o=It.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=l}}class mp{constructor(){this.fe=0,this.ge=gp(),this.pe=It.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),r=Ve(),o=Ve();return this.ge.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:o=o.add(l);break;default:me()}}),new Ko(this.pe,this.ye,e,r,o)}Ce(){this.we=!1,this.ge=gp()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class q_{constructor(e){this.Le=e,this.Be=new Map,this.ke=br(),this.qe=ml(),this.Qe=ml(),this.Ke=new nt(Ae)}$e(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(r,e.Ve):this.We(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.We(r,e.key,e.Ve)}Ge(e){this.forEachTarget(e,r=>{const o=this.ze(r);switch(e.state){case 0:this.je(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.je(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),o.De(e.resumeToken));break;default:me()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,l)=>{this.je(l)&&r(l)})}Je(e){const r=e.targetId,o=e.me.count,l=this.Ye(r);if(l){const c=l.target;if(Hc(c))if(o===0){const p=new fe(c.path);this.We(r,p,Nt.newNoDocument(p,pe.min()))}else We(o===1);else{const p=this.Ze(r);if(p!==o){const g=this.Xe(e),v=g?this.et(g,e,p):1;if(v!==0){this.He(r);const E=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,E)}}}}}Xe(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:l=0},hashCount:c=0}=r;let p,g;try{p=$r(o).toUint8Array()}catch(v){if(v instanceof nm)return As("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new fh(p,l,c)}catch(v){return As(v instanceof Oo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.Te===0?null:g}et(e,r,o){return r.me.count===o-this.rt(e,r.targetId)?0:2}rt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let l=0;return o.forEach(c=>{const p=this.Le.nt(),g=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.We(r,c,null),l++)}),l}it(e){const r=new Map;this.Be.forEach((c,p)=>{const g=this.Ye(p);if(g){if(c.current&&Hc(g.target)){const v=new fe(g.target.path);this.st(v).has(p)||this.ot(p,v)||this.We(p,v,Nt.newNoDocument(v,e))}c.be&&(r.set(p,c.ve()),c.Ce())}});let o=Ve();this.Qe.forEach((c,p)=>{let g=!0;p.forEachWhile(v=>{const E=this.Ye(v);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(o=o.add(c))}),this.ke.forEach((c,p)=>p.setReadTime(e));const l=new $l(e,r,this.Ke,this.ke,o);return this.ke=br(),this.qe=ml(),this.Qe=ml(),this.Ke=new nt(Ae),l}Ue(e,r){if(!this.je(e))return;const o=this.ot(e,r.key)?2:0;this.ze(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e)),this.Qe=this.Qe.insert(r.key,this._t(r.key).add(e))}We(e,r,o){if(!this.je(e))return;const l=this.ze(e);this.ot(e,r)?l.Fe(r,1):l.Me(r),this.Qe=this.Qe.insert(r,this._t(r).delete(e)),this.Qe=this.Qe.insert(r,this._t(r).add(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let r=this.Be.get(e);return r||(r=new mp,this.Be.set(e,r)),r}_t(e){let r=this.Qe.get(e);return r||(r=new ft(Ae),this.Qe=this.Qe.insert(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new ft(Ae),this.qe=this.qe.insert(e,r)),r}je(e){const r=this.Ye(e)!==null;return r||te("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new mp),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}ot(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function ml(){return new nt(fe.comparator)}function gp(){return new nt(fe.comparator)}const b_={asc:"ASCENDING",desc:"DESCENDING"},H_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q_={and:"AND",or:"OR"};class K_{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Gc(s,e){return s.useProto3Json||Ol(e)?e:{value:e}}function W_(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Ss(s){return We(!!s),pe.fromTimestamp(function(r){const o=jr(r);return new Wt(o.seconds,o.nanos)}(s))}function Y_(s,e){return Yc(s,e).canonicalString()}function Yc(s,e){const r=function(l){return new Ye(["projects",l.projectId,"databases",l.database])}(s).child("documents");return e===void 0?r:r.child(e)}function Tm(s){const e=Ye.fromString(s);return We(Rm(e)),e}function Rc(s,e){const r=Tm(e);if(r.get(1)!==s.databaseId.projectId)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new fe(Im(r))}function Sm(s,e){return Y_(s.databaseId,e)}function X_(s){const e=Tm(s);return e.length===4?Ye.emptyPath():Im(e)}function yp(s){return new Ye(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Im(s){return We(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function J_(s,e){let r;if("targetChange"in e){e.targetChange;const o=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(E,C){return E.useProto3Json?(We(C===void 0||typeof C=="string"),It.fromBase64String(C||"")):(We(C===void 0||C instanceof Buffer||C instanceof Uint8Array),It.fromUint8Array(C||new Uint8Array))}(s,e.targetChange.resumeToken),p=e.targetChange.cause,g=p&&function(E){const C=E.code===void 0?Y.UNKNOWN:_m(E.code);return new ce(C,E.message||"")}(p);r=new wm(o,l,c,g||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const l=Rc(s,o.document.name),c=Ss(o.document.updateTime),p=o.document.createTime?Ss(o.document.createTime):pe.min(),g=new Bn({mapValue:{fields:o.document.fields}}),v=Nt.newFoundDocument(l,c,p,g),E=o.targetIds||[],C=o.removedTargetIds||[];r=new wl(E,C,v.key,v)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const l=Rc(s,o.document),c=o.readTime?Ss(o.readTime):pe.min(),p=Nt.newNoDocument(l,c),g=o.removedTargetIds||[];r=new wl([],g,p.key,p)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const l=Rc(s,o.document),c=o.removedTargetIds||[];r=new wl([],c,l,null)}else{if(!("filter"in e))return me();{e.filter;const o=e.filter;o.targetId;const{count:l=0,unchangedNames:c}=o,p=new B_(l,c),g=o.targetId;r=new Em(g,p)}}return r}function Z_(s,e){return{documents:[Sm(s,e.path)]}}function e0(s,e){const r={structuredQuery:{}},o=e.path;let l;e.collectionGroup!==null?(l=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=Sm(s,l);const c=function(E){if(E.length!==0)return Am(qn.create(E,"and"))}(e.filters);c&&(r.structuredQuery.where=c);const p=function(E){if(E.length!==0)return E.map(C=>function(U){return{field:Es(U.field),direction:r0(U.dir)}}(C))}(e.orderBy);p&&(r.structuredQuery.orderBy=p);const g=Gc(s,e.limit);return g!==null&&(r.structuredQuery.limit=g),e.startAt&&(r.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{ct:r,parent:l}}function t0(s){let e=X_(s.parent);const r=s.structuredQuery,o=r.from?r.from.length:0;let l=null;if(o>0){We(o===1);const C=r.from[0];C.allDescendants?l=C.collectionId:e=e.child(C.collectionId)}let c=[];r.where&&(c=function(O){const U=Cm(O);return U instanceof qn&&sm(U)?U.getFilters():[U]}(r.where));let p=[];r.orderBy&&(p=function(O){return O.map(U=>function(J){return new Rl(ws(J.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(U))}(r.orderBy));let g=null;r.limit&&(g=function(O){let U;return U=typeof O=="object"?O.value:O,Ol(U)?null:U}(r.limit));let v=null;r.startAt&&(v=function(O){const U=!!O.before,H=O.values||[];return new Al(H,U)}(r.startAt));let E=null;return r.endAt&&(E=function(O){const U=!O.before,H=O.values||[];return new Al(H,U)}(r.endAt)),E_(e,l,p,c,g,"F",v,E)}function n0(s,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Cm(s){return s.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=ws(r.unaryFilter.field);return ht.create(o,"==",{doubleValue:NaN});case"IS_NULL":const l=ws(r.unaryFilter.field);return ht.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ws(r.unaryFilter.field);return ht.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=ws(r.unaryFilter.field);return ht.create(p,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(s):s.fieldFilter!==void 0?function(r){return ht.create(ws(r.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(r.fieldFilter.op),r.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(r){return qn.create(r.compositeFilter.filters.map(o=>Cm(o)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return me()}}(r.compositeFilter.op))}(s):me()}function r0(s){return b_[s]}function i0(s){return H_[s]}function s0(s){return Q_[s]}function Es(s){return{fieldPath:s.canonicalString()}}function ws(s){return zt.fromServerFormat(s.fieldPath)}function Am(s){return s instanceof ht?function(r){if(r.op==="=="){if(ip(r.value))return{unaryFilter:{field:Es(r.field),op:"IS_NAN"}};if(rp(r.value))return{unaryFilter:{field:Es(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(ip(r.value))return{unaryFilter:{field:Es(r.field),op:"IS_NOT_NAN"}};if(rp(r.value))return{unaryFilter:{field:Es(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(r.field),op:i0(r.op),value:r.value}}}(s):s instanceof qn?function(r){const o=r.getFilters().map(l=>Am(l));return o.length===1?o[0]:{compositeFilter:{op:s0(r.op),filters:o}}}(s):me()}function Rm(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,r,o,l,c=pe.min(),p=pe.min(),g=It.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.ht=e}}function a0(s){const e=t0({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Qc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.ln=new u0}addToCollectionParentIndex(e,r){return this.ln.add(r),j.resolve()}getCollectionParents(e,r){return j.resolve(this.ln.getEntries(r))}addFieldIndex(e,r){return j.resolve()}deleteFieldIndex(e,r){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,r){return j.resolve()}getDocumentsMatchingTarget(e,r){return j.resolve(null)}getIndexType(e,r){return j.resolve(0)}getFieldIndexes(e,r){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,r){return j.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,r){return j.resolve(Br.min())}updateCollectionGroup(e,r,o){return j.resolve()}updateIndexEntries(e,r){return j.resolve()}}class u0{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r]||new ft(Ye.comparator),c=!l.has(o);return this.index[r]=l.add(o),c}has(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r];return l&&l.has(o)}getEntries(e){return(this.index[e]||new ft(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Kt{static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(41943040,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new xs(0)}static Qn(){return new xs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p([s,e],[r,o]){const l=Ae(s,r);return l===0?Ae(e,o):l}class c0{constructor(e){this.Gn=e,this.buffer=new ft(_p),this.zn=0}jn(){return++this.zn}Hn(e){const r=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();_p(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class h0{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ls(r)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await Nl(r)}await this.Yn(3e5)})}}class f0{constructor(e,r){this.Zn=e,this.params=r}calculateTargetCount(e,r){return this.Zn.Xn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(r===0)return j.resolve(Ll.oe);const o=new c0(r);return this.Zn.forEachTarget(e,l=>o.Hn(l.sequenceNumber)).next(()=>this.Zn.er(e,l=>o.Hn(l))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.Zn.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.Zn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(vp)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vp):this.tr(e,r))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,r){let o,l,c,p,g,v,E;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),l=this.params.maximumSequenceNumbersToCollect):l=O,p=Date.now(),this.nthSequenceNumber(e,l))).next(O=>(o=O,g=Date.now(),this.removeTargets(e,o,r))).next(O=>(c=O,v=Date.now(),this.removeOrphanedDocuments(e,o))).next(O=>(E=Date.now(),vs()<=Ce.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-C}ms
	Determined least recently used ${l} in `+(g-p)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${O} documents in `+(E-v)+`ms
Total Duration: ${E-C}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:O})))}}function d0(s,e){return new f0(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.changes=new Ci(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?j.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,r,o,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(o!==null&&Uo(o.mutation,l,Mr.empty(),Wt.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,Ve()).next(()=>o))}getLocalViewOfDocuments(e,r,o=Ve()){const l=Ei();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,o).next(c=>{let p=Lo();return c.forEach((g,v)=>{p=p.insert(g,v.overlayedDocument)}),p}))}getOverlayedDocuments(e,r){const o=Ei();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,Ve()))}populateOverlays(e,r,o){const l=[];return o.forEach(c=>{r.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((p,g)=>{r.set(p,g)})})}computeViews(e,r,o,l){let c=br();const p=zo(),g=function(){return zo()}();return r.forEach((v,E)=>{const C=o.get(E.key);l.has(E.key)&&(C===void 0||C.mutation instanceof jl)?c=c.insert(E.key,E):C!==void 0?(p.set(E.key,C.mutation.getFieldMask()),Uo(C.mutation,E,C.mutation.getFieldMask(),Wt.now())):p.set(E.key,Mr.empty())}),this.recalculateAndSaveOverlays(e,c).next(v=>(v.forEach((E,C)=>p.set(E,C)),r.forEach((E,C)=>{var O;return g.set(E,new m0(C,(O=p.get(E))!==null&&O!==void 0?O:null))}),g))}recalculateAndSaveOverlays(e,r){const o=zo();let l=new nt((p,g)=>p-g),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(p=>{for(const g of p)g.keys().forEach(v=>{const E=r.get(v);if(E===null)return;let C=o.get(v)||Mr.empty();C=g.applyToLocalView(E,C),o.set(v,C);const O=(l.get(g.batchId)||Ve()).add(v);l=l.insert(g.batchId,O)})}).next(()=>{const p=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),E=v.key,C=v.value,O=dm();C.forEach(U=>{if(!c.has(U)){const H=ym(r.get(U),o.get(U));H!==null&&O.set(U,H),c=c.add(U)}}),p.push(this.documentOverlayCache.saveOverlays(e,E,O))}return j.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,l){return function(p){return fe.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):w_(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,l):this.getDocumentsMatchingCollectionQuery(e,r,o,l)}getNextDocuments(e,r,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,l).next(c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,l-c.size):j.resolve(Ei());let g=-1,v=c;return p.next(E=>j.forEach(E,(C,O)=>(g<O.largestBatchId&&(g=O.largestBatchId),c.get(C)?j.resolve():this.remoteDocumentCache.getEntry(e,C).next(U=>{v=v.insert(C,U)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,v,E,Ve())).next(C=>({batchId:g,changes:A_(C)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new fe(r)).next(o=>{let l=Lo();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,o,l){const c=r.collectionGroup;let p=Lo();return this.indexManager.getCollectionParents(e,c).next(g=>j.forEach(g,v=>{const E=function(O,U){return new Fl(U,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)}(r,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,o,l).next(C=>{C.forEach((O,U)=>{p=p.insert(O,U)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,r,o,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,c,l))).next(p=>{c.forEach((v,E)=>{const C=E.getKey();p.get(C)===null&&(p=p.insert(C,Nt.newInvalidDocument(C)))});let g=Lo();return p.forEach((v,E)=>{const C=c.get(v);C!==void 0&&Uo(C.mutation,E,Mr.empty(),Wt.now()),Ul(r,E)&&(g=g.insert(v,E))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,r){return j.resolve(this.Tr.get(r))}saveBundleMetadata(e,r){return this.Tr.set(r.id,function(l){return{id:l.id,version:l.version,createTime:Ss(l.createTime)}}(r)),j.resolve()}getNamedQuery(e,r){return j.resolve(this.Ir.get(r))}saveNamedQuery(e,r){return this.Ir.set(r.name,function(l){return{name:l.name,query:a0(l.bundledQuery),readTime:Ss(l.readTime)}}(r)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.overlays=new nt(fe.comparator),this.Er=new Map}getOverlay(e,r){return j.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Ei();return j.forEach(r,l=>this.getOverlay(e,l).next(c=>{c!==null&&o.set(l,c)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((l,c)=>{this.Tt(e,r,c)}),j.resolve()}removeOverlaysForBatchId(e,r,o){const l=this.Er.get(o);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(o)),j.resolve()}getOverlaysForCollection(e,r,o){const l=Ei(),c=r.length+1,p=new fe(r.child("")),g=this.overlays.getIteratorFrom(p);for(;g.hasNext();){const v=g.getNext().value,E=v.getKey();if(!r.isPrefixOf(E.path))break;E.path.length===c&&v.largestBatchId>o&&l.set(v.getKey(),v)}return j.resolve(l)}getOverlaysForCollectionGroup(e,r,o,l){let c=new nt((E,C)=>E-C);const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===r&&E.largestBatchId>o){let C=c.get(E.largestBatchId);C===null&&(C=Ei(),c=c.insert(E.largestBatchId,C)),C.set(E.getKey(),E)}}const g=Ei(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((E,C)=>g.set(E,C)),!(g.size()>=l)););return j.resolve(g)}Tt(e,r,o){const l=this.overlays.get(o.key);if(l!==null){const p=this.Er.get(l.largestBatchId).delete(o.key);this.Er.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new U_(r,o));let c=this.Er.get(r);c===void 0&&(c=Ve(),this.Er.set(r,c)),this.Er.set(r,c.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this.dr=new ft(vt.Ar),this.Rr=new ft(vt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,r){const o=new vt(e,r);this.dr=this.dr.add(o),this.Rr=this.Rr.add(o)}mr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.gr(new vt(e,r))}pr(e,r){e.forEach(o=>this.removeReference(o,r))}yr(e){const r=new fe(new Ye([])),o=new vt(r,e),l=new vt(r,e+1),c=[];return this.Rr.forEachInRange([o,l],p=>{this.gr(p),c.push(p.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const r=new fe(new Ye([])),o=new vt(r,e),l=new vt(r,e+1);let c=Ve();return this.Rr.forEachInRange([o,l],p=>{c=c.add(p.key)}),c}containsKey(e){const r=new vt(e,0),o=this.dr.firstAfterOrEqual(r);return o!==null&&e.isEqual(o.key)}}class vt{constructor(e,r){this.key=e,this.br=r}static Ar(e,r){return fe.comparator(e.key,r.key)||Ae(e.br,r.br)}static Vr(e,r){return Ae(e.br,r.br)||fe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Dr=1,this.vr=new ft(vt.Ar)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,o,l){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new z_(c,r,o,l);this.mutationQueue.push(p);for(const g of l)this.vr=this.vr.add(new vt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return j.resolve(p)}lookupMutationBatch(e,r){return j.resolve(this.Cr(r))}getNextMutationBatchAfterBatchId(e,r){const o=r+1,l=this.Fr(o),c=l<0?0:l;return j.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new vt(r,0),l=new vt(r,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([o,l],p=>{const g=this.Cr(p.br);c.push(g)}),j.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new ft(Ae);return r.forEach(l=>{const c=new vt(l,0),p=new vt(l,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,p],g=>{o=o.add(g.br)})}),j.resolve(this.Mr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,l=o.length+1;let c=o;fe.isDocumentKey(c)||(c=c.child(""));const p=new vt(new fe(c),0);let g=new ft(Ae);return this.vr.forEachWhile(v=>{const E=v.key.path;return!!o.isPrefixOf(E)&&(E.length===l&&(g=g.add(v.br)),!0)},p),j.resolve(this.Mr(g))}Mr(e){const r=[];return e.forEach(o=>{const l=this.Cr(o);l!==null&&r.push(l)}),r}removeMutationBatch(e,r){We(this.Or(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.vr;return j.forEach(r.mutations,l=>{const c=new vt(l.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.vr=o})}Ln(e){}containsKey(e,r){const o=new vt(r,0),l=this.vr.firstAfterOrEqual(o);return j.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Or(e,r){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const r=this.Fr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this.Nr=e,this.docs=function(){return new nt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,l=this.docs.get(o),c=l?l.size:0,p=this.Nr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return j.resolve(o?o.document.mutableCopy():Nt.newInvalidDocument(r))}getEntries(e,r){let o=br();return r.forEach(l=>{const c=this.docs.get(l);o=o.insert(l,c?c.document.mutableCopy():Nt.newInvalidDocument(l))}),j.resolve(o)}getDocumentsMatchingQuery(e,r,o,l){let c=br();const p=r.path,g=new fe(p.child("")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:E,value:{document:C}}=v.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||Zv(Jv(C),o)<=0||(l.has(C.key)||Ul(r,C))&&(c=c.insert(C.key,C.mutableCopy()))}return j.resolve(c)}getAllFromCollectionGroup(e,r,o,l){me()}Lr(e,r){return j.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new T0(this)}getSize(e){return j.resolve(this.size)}}class T0 extends p0{constructor(e){super(),this.hr=e}applyChanges(e){const r=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?r.push(this.hr.addEntry(e,l)):this.hr.removeEntry(o)}),j.waitFor(r)}getFromCache(e,r){return this.hr.getEntry(e,r)}getAllFromCache(e,r){return this.hr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e){this.persistence=e,this.Br=new Ci(r=>lh(r),uh),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.kr=0,this.qr=new dh,this.targetCount=0,this.Qr=xs.qn()}forEachTarget(e,r){return this.Br.forEach((o,l)=>r(l)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.kr&&(this.kr=r),j.resolve()}Un(e){this.Br.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Qr=new xs(r),this.highestTargetId=r),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,r){return this.Un(r),this.targetCount+=1,j.resolve()}updateTargetData(e,r){return this.Un(r),j.resolve()}removeTargetData(e,r){return this.Br.delete(r.target),this.qr.yr(r.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,r,o){let l=0;const c=[];return this.Br.forEach((p,g)=>{g.sequenceNumber<=r&&o.get(g.targetId)===null&&(this.Br.delete(p),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)}),j.waitFor(c).next(()=>l)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,r){const o=this.Br.get(r)||null;return j.resolve(o)}addMatchingKeys(e,r,o){return this.qr.mr(r,o),j.resolve()}removeMatchingKeys(e,r,o){this.qr.pr(r,o);const l=this.persistence.referenceDelegate,c=[];return l&&r.forEach(p=>{c.push(l.markPotentiallyOrphaned(e,p))}),j.waitFor(c)}removeMatchingKeysForTargetId(e,r){return this.qr.yr(r),j.resolve()}getMatchingKeysForTargetId(e,r){const o=this.qr.Sr(r);return j.resolve(o)}containsKey(e,r){return j.resolve(this.qr.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,r){this.Kr={},this.overlays={},this.$r=new Ll(0),this.Ur=!1,this.Ur=!0,this.Wr=new _0,this.referenceDelegate=e(this),this.Gr=new S0(this),this.indexManager=new l0,this.remoteDocumentCache=function(l){return new w0(l)}(o=>this.referenceDelegate.zr(o)),this.serializer=new o0(r),this.jr=new y0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new v0,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.Kr[e.toKey()];return o||(o=new E0(r,this.referenceDelegate),this.Kr[e.toKey()]=o),o}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,r,o){te("MemoryPersistence","Starting transaction:",e);const l=new I0(this.$r.next());return this.referenceDelegate.Hr(),o(l).next(c=>this.referenceDelegate.Jr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Yr(e,r){return j.or(Object.values(this.Kr).map(o=>()=>o.containsKey(e,r)))}}class I0 extends t_{constructor(e){super(),this.currentSequenceNumber=e}}class ph{constructor(e){this.persistence=e,this.Zr=new dh,this.Xr=null}static ei(e){return new ph(e)}get ti(){if(this.Xr)return this.Xr;throw me()}addReference(e,r,o){return this.Zr.addReference(o,r),this.ti.delete(o.toString()),j.resolve()}removeReference(e,r,o){return this.Zr.removeReference(o,r),this.ti.add(o.toString()),j.resolve()}markPotentiallyOrphaned(e,r){return this.ti.add(r.toString()),j.resolve()}removeTarget(e,r){this.Zr.yr(r.targetId).forEach(l=>this.ti.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(c=>this.ti.add(c.toString()))}).next(()=>o.removeTargetData(e,r))}Hr(){this.Xr=new Set}Jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ti,o=>{const l=fe.fromPath(o);return this.ni(e,l).next(c=>{c||r.removeEntry(l,pe.min())})}).next(()=>(this.Xr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ni(e,r).next(o=>{o?this.ti.delete(r.toString()):this.ti.add(r.toString())})}zr(e){return 0}ni(e,r){return j.or([()=>j.resolve(this.Zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Yr(e,r)])}}class xl{constructor(e,r){this.persistence=e,this.ri=new Ci(o=>r_(o.path),(o,l)=>o.isEqual(l)),this.garbageCollector=d0(this,r)}static ei(e,r){return new xl(e,r)}Hr(){}Jr(e){return j.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}Xn(e){const r=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>r.next(l=>o+l))}nr(e){let r=0;return this.er(e,o=>{r++}).next(()=>r)}er(e,r){return j.forEach(this.ri,(o,l)=>this.ir(e,o,l).next(c=>c?j.resolve():r(l)))}removeTargets(e,r,o){return this.persistence.getTargetCache().removeTargets(e,r,o)}removeOrphanedDocuments(e,r){let o=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.Lr(e,p=>this.ir(e,p,r).next(g=>{g||(o++,c.removeEntry(p,pe.min()))})).next(()=>c.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,r){return this.ri.set(r,e.currentSequenceNumber),j.resolve()}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,r,o){return this.ri.set(o,e.currentSequenceNumber),j.resolve()}removeReference(e,r,o){return this.ri.set(o,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,r){return this.ri.set(r,e.currentSequenceNumber),j.resolve()}zr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=_l(e.data.value)),r}ir(e,r,o){return j.or([()=>this.persistence.Yr(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const l=this.ri.get(r);return j.resolve(l!==void 0&&l>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,r,o,l){this.targetId=e,this.fromCache=r,this.Wi=o,this.Gi=l}static zi(e,r){let o=Ve(),l=Ve();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new mh(e,r.fromCache,o,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Iy()?8:n_(Ty())>0?6:4}()}initialize(e,r){this.Zi=e,this.indexManager=r,this.ji=!0}getDocumentsMatchingQuery(e,r,o,l){const c={result:null};return this.Xi(e,r).next(p=>{c.result=p}).next(()=>{if(!c.result)return this.es(e,r,l,o).next(p=>{c.result=p})}).next(()=>{if(c.result)return;const p=new C0;return this.ts(e,r,p).next(g=>{if(c.result=g,this.Hi)return this.ns(e,r,p,g.size)})}).next(()=>c.result)}ns(e,r,o,l){return o.documentReadCount<this.Ji?(vs()<=Ce.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",_s(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),j.resolve()):(vs()<=Ce.DEBUG&&te("QueryEngine","Query:",_s(r),"scans",o.documentReadCount,"local documents and returns",l,"documents as results."),o.documentReadCount>this.Yi*l?(vs()<=Ce.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",_s(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(r))):j.resolve())}Xi(e,r){if(lp(r))return j.resolve(null);let o=jn(r);return this.indexManager.getIndexType(e,o).next(l=>l===0?null:(r.limit!==null&&l===1&&(r=Qc(r,null,"F"),o=jn(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(c=>{const p=Ve(...c);return this.Zi.getDocuments(e,p).next(g=>this.indexManager.getMinOffset(e,o).next(v=>{const E=this.rs(r,g);return this.ss(r,E,p,v.readTime)?this.Xi(e,Qc(r,null,"F")):this.os(e,E,r,v)}))})))}es(e,r,o,l){return lp(r)||l.isEqual(pe.min())?j.resolve(null):this.Zi.getDocuments(e,o).next(c=>{const p=this.rs(r,c);return this.ss(r,p,o,l)?j.resolve(null):(vs()<=Ce.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),_s(r)),this.os(e,p,r,Xv(l,-1)).next(g=>g))})}rs(e,r){let o=new ft(hm(e));return r.forEach((l,c)=>{Ul(e,c)&&(o=o.add(c))}),o}ss(e,r,o,l){if(e.limit===null)return!1;if(o.size!==r.size)return!0;const c=e.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ts(e,r,o){return vs()<=Ce.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",_s(r)),this.Zi.getDocumentsMatchingQuery(e,r,Br.min(),o)}os(e,r,o,l){return this.Zi.getDocumentsMatchingQuery(e,o,l).next(c=>(r.forEach(p=>{c=c.insert(p.key,p)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,r,o,l){this.persistence=e,this._s=r,this.serializer=l,this.us=new nt(Ae),this.cs=new Ci(c=>lh(c),uh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(o)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g0(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.us))}}function P0(s,e,r,o){return new R0(s,e,r,o)}async function km(s,e){const r=Re(s);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let l;return r.mutationQueue.getAllMutationBatches(o).next(c=>(l=c,r.Ps(e),r.mutationQueue.getAllMutationBatches(o))).next(c=>{const p=[],g=[];let v=Ve();for(const E of l){p.push(E.batchId);for(const C of E.mutations)v=v.add(C.key)}for(const E of c){g.push(E.batchId);for(const C of E.mutations)v=v.add(C.key)}return r.localDocuments.getDocuments(o,v).next(E=>({Ts:E,removedBatchIds:p,addedBatchIds:g}))})})}function xm(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Gr.getLastRemoteSnapshotVersion(r))}function k0(s,e){const r=Re(s),o=e.snapshotVersion;let l=r.us;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=r.hs.newChangeBuffer({trackRemovals:!0});l=r.us;const g=[];e.targetChanges.forEach((C,O)=>{const U=l.get(O);if(!U)return;g.push(r.Gr.removeMatchingKeys(c,C.removedDocuments,O).next(()=>r.Gr.addMatchingKeys(c,C.addedDocuments,O)));let H=U.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(O)!==null?H=H.withResumeToken(It.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):C.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(C.resumeToken,o)),l=l.insert(O,H),function(ee,K,Ne){return ee.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8?!0:Ne.addedDocuments.size+Ne.modifiedDocuments.size+Ne.removedDocuments.size>0}(U,H,C)&&g.push(r.Gr.updateTargetData(c,H))});let v=br(),E=Ve();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&g.push(r.persistence.referenceDelegate.updateLimboDocument(c,C))}),g.push(x0(c,p,e.documentUpdates).next(C=>{v=C.Is,E=C.Es})),!o.isEqual(pe.min())){const C=r.Gr.getLastRemoteSnapshotVersion(c).next(O=>r.Gr.setTargetsMetadata(c,c.currentSequenceNumber,o));g.push(C)}return j.waitFor(g).next(()=>p.apply(c)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,v,E)).next(()=>v)}).then(c=>(r.us=l,c))}function x0(s,e,r){let o=Ve(),l=Ve();return r.forEach(c=>o=o.add(c)),e.getEntries(s,o).next(c=>{let p=br();return r.forEach((g,v)=>{const E=c.get(g);v.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(pe.min())?(e.removeEntry(g,v.readTime),p=p.insert(g,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||v.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(v),p=p.insert(g,v)):te("LocalStore","Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",v.version)}),{Is:p,Es:l}})}function V0(s,e){const r=Re(s);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return r.Gr.getTargetData(o,e).next(c=>c?(l=c,j.resolve(l)):r.Gr.allocateTargetId(o).next(p=>(l=new Fr(e,p,"TargetPurposeListen",o.currentSequenceNumber),r.Gr.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=r.us.get(o.targetId);return(l===null||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.us=r.us.insert(o.targetId,o),r.cs.set(e,o.targetId)),o})}async function Xc(s,e,r){const o=Re(s),l=o.us.get(e),c=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",c,p=>o.persistence.referenceDelegate.removeTarget(p,l))}catch(p){if(!Ls(p))throw p;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}o.us=o.us.remove(e),o.cs.delete(l.target)}function Ep(s,e,r){const o=Re(s);let l=pe.min(),c=Ve();return o.persistence.runTransaction("Execute query","readwrite",p=>function(v,E,C){const O=Re(v),U=O.cs.get(C);return U!==void 0?j.resolve(O.us.get(U)):O.Gr.getTargetData(E,C)}(o,p,jn(e)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,o.Gr.getMatchingKeysForTargetId(p,g.targetId).next(v=>{c=v})}).next(()=>o._s.getDocumentsMatchingQuery(p,e,r?l:pe.min(),r?c:Ve())).next(g=>(D0(o,S_(e),g),{documents:g,ds:c})))}function D0(s,e,r){let o=s.ls.get(e)||pe.min();r.forEach((l,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),s.ls.set(e,o)}class wp{constructor(){this.activeTargetIds=k_()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N0{constructor(){this._o=new wp,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,r,o){this.ao[e]=r}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new wp,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl=null;function Pc(){return gl===null?gl=function(){return 268435456+Math.round(2147483648*Math.random())}():gl++,"0x"+gl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class F0 extends class{get Co(){return!1}constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=o+"://"+r.host,this.Mo=`projects/${l}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${c}`}Oo(r,o,l,c,p){const g=Pc(),v=this.No(r,o.toUriEncodedString());te("RestConnection",`Sending RPC '${r}' ${g}:`,v,l);const E={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(E,c,p),this.Bo(r,v,E,l).then(C=>(te("RestConnection",`Received RPC '${r}' ${g}: `,C),C),C=>{throw As("RestConnection",`RPC '${r}' ${g} failed with error: `,C,"url: ",v,"request:",l),C})}ko(r,o,l,c,p,g){return this.Oo(r,o,l,c,p)}Lo(r,o,l){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ns}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((c,p)=>r[p]=c),l&&l.headers.forEach((c,p)=>r[p]=c)}No(r,o){const l=O0[r];return`${this.Fo}/v1/${o}:${l}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,r,o,l){const c=Pc();return new Promise((p,g)=>{const v=new Yp;v.setWithCredentials(!0),v.listenOnce(Xp.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case vl.NO_ERROR:const C=v.getResponseJson();te(Vt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(C)),p(C);break;case vl.TIMEOUT:te(Vt,`RPC '${e}' ${c} timed out`),g(new ce(Y.DEADLINE_EXCEEDED,"Request time out"));break;case vl.HTTP_ERROR:const O=v.getStatus();if(te(Vt,`RPC '${e}' ${c} failed with status:`,O,"response text:",v.getResponseText()),O>0){let U=v.getResponseJson();Array.isArray(U)&&(U=U[0]);const H=U==null?void 0:U.error;if(H&&H.status&&H.message){const J=function(K){const Ne=K.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Ne)>=0?Ne:Y.UNKNOWN}(H.status);g(new ce(J,H.message))}else g(new ce(Y.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new ce(Y.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{te(Vt,`RPC '${e}' ${c} completed.`)}});const E=JSON.stringify(l);te(Vt,`RPC '${e}' ${c} sending request:`,l),v.send(r,"POST",E,o,15)})}qo(e,r,o){const l=Pc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=em(),g=Zp(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(v.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Lo(v.initMessageHeaders,r,o),v.encodeInitMessageHeaders=!0;const C=c.join("");te(Vt,`Creating RPC '${e}' stream ${l}: ${C}`,v);const O=p.createWebChannel(C,v);let U=!1,H=!1;const J=new M0({Eo:K=>{H?te(Vt,`Not sending because RPC '${e}' stream ${l} is closed:`,K):(U||(te(Vt,`Opening RPC '${e}' stream ${l} transport.`),O.open(),U=!0),te(Vt,`RPC '${e}' stream ${l} sending:`,K),O.send(K))},Ao:()=>O.close()}),ee=(K,Ne,Pe)=>{K.listen(Ne,_e=>{try{Pe(_e)}catch(Ee){setTimeout(()=>{throw Ee},0)}})};return ee(O,No.EventType.OPEN,()=>{H||(te(Vt,`RPC '${e}' stream ${l} transport opened.`),J.So())}),ee(O,No.EventType.CLOSE,()=>{H||(H=!0,te(Vt,`RPC '${e}' stream ${l} transport closed`),J.Do())}),ee(O,No.EventType.ERROR,K=>{H||(H=!0,As(Vt,`RPC '${e}' stream ${l} transport errored:`,K),J.Do(new ce(Y.UNAVAILABLE,"The operation could not be completed")))}),ee(O,No.EventType.MESSAGE,K=>{var Ne;if(!H){const Pe=K.data[0];We(!!Pe);const _e=Pe,Ee=(_e==null?void 0:_e.error)||((Ne=_e[0])===null||Ne===void 0?void 0:Ne.error);if(Ee){te(Vt,`RPC '${e}' stream ${l} received error:`,Ee);const Xe=Ee.status;let ke=function(I){const P=st[I];if(P!==void 0)return _m(P)}(Xe),k=Ee.message;ke===void 0&&(ke=Y.INTERNAL,k="Unknown error status: "+Xe+" with message "+Ee.message),H=!0,J.Do(new ce(ke,k)),O.close()}else te(Vt,`RPC '${e}' stream ${l} received:`,Pe),J.vo(Pe)}}),ee(g,Jp.STAT_EVENT,K=>{K.stat===Bc.PROXY?te(Vt,`RPC '${e}' stream ${l} detected buffering proxy`):K.stat===Bc.NOPROXY&&te(Vt,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{J.bo()},0),J}}function kc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(s){return new K_(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,r,o=1e3,l=1.5,c=6e4){this.li=e,this.timerId=r,this.Qo=o,this.Ko=l,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const r=Math.floor(this.Uo+this.Ho()),o=Math.max(0,Date.now()-this.Go),l=Math.max(0,r-o);l>0&&te("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Uo} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,l,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,r,o,l,c,p,g,v){this.li=e,this.Yo=o,this.Zo=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Dm(e,r)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,r){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():r&&r.code===Y.RESOURCE_EXHAUSTED?(ur(r.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):r&&r.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(r)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),r=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Xo===r&&this.I_(o,l)},o=>{e(()=>{const l=new ce(Y.UNKNOWN,"Fetching auth token failed: "+o.message);return this.E_(l)})})}I_(e,r){const o=this.T_(this.Xo);this.stream=this.d_(e,r),this.stream.Ro(()=>{o(()=>this.listener.Ro())}),this.stream.mo(()=>{o(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(l=>{o(()=>this.E_(l))}),this.stream.onMessage(l=>{o(()=>++this.n_==1?this.A_(l):this.onNext(l))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return r=>{this.li.enqueueAndForget(()=>this.Xo===e?r():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class U0 extends z0{constructor(e,r,o,l,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,l,p),this.serializer=c}d_(e,r){return this.connection.qo("Listen",e,r)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const r=J_(this.serializer,e),o=function(c){if(!("targetChange"in c))return pe.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?pe.min():p.readTime?Ss(p.readTime):pe.min()}(e);return this.listener.R_(r,o)}V_(e){const r={};r.database=yp(this.serializer),r.addTarget=function(c,p){let g;const v=p.target;if(g=Hc(v)?{documents:Z_(c,v)}:{query:e0(c,v).ct},g.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){g.resumeToken=G_(c,p.resumeToken);const E=Gc(c,p.expectedCount);E!==null&&(g.expectedCount=E)}else if(p.snapshotVersion.compareTo(pe.min())>0){g.readTime=W_(c,p.snapshotVersion.toTimestamp());const E=Gc(c,p.expectedCount);E!==null&&(g.expectedCount=E)}return g}(this.serializer,e);const o=n0(this.serializer,e);o&&(r.labels=o),this.c_(r)}m_(e){const r={};r.database=yp(this.serializer),r.removeTarget=e,this.c_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends class{}{constructor(e,r,o,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=l,this.S_=!1}b_(){if(this.S_)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,r,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Oo(e,Yc(r,o),l,c,p)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(Y.UNKNOWN,c.toString())})}ko(e,r,o,l,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,g])=>this.connection.ko(e,Yc(r,o),l,p,g,c)).catch(p=>{throw p.name==="FirebaseError"?(p.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new ce(Y.UNKNOWN,p.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class j0{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ur(r),this.C_=!1):te("OnlineStateTracker",r)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,r,o,l,c){this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(p=>{o.enqueueAndForget(async()=>{Go(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(v){const E=Re(v);E.k_.add(4),await Wo(E),E.K_.set("Unknown"),E.k_.delete(4),await ql(E)}(this))})}),this.K_=new j0(o,l)}}async function ql(s){if(Go(s))for(const e of s.q_)await e(!0)}async function Wo(s){for(const e of s.q_)await e(!1)}function Nm(s,e){const r=Re(s);r.B_.has(e.targetId)||(r.B_.set(e.targetId,e),_h(r)?vh(r):Os(r).s_()&&yh(r,e))}function gh(s,e){const r=Re(s),o=Os(r);r.B_.delete(e),o.s_()&&Lm(r,e),r.B_.size===0&&(o.s_()?o.a_():Go(r)&&r.K_.set("Unknown"))}function yh(s,e){if(s.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const r=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Os(s).V_(e)}function Lm(s,e){s.U_.xe(e),Os(s).m_(e)}function vh(s){s.U_=new q_({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>s.B_.get(e)||null,nt:()=>s.datastore.serializer.databaseId}),Os(s).start(),s.K_.F_()}function _h(s){return Go(s)&&!Os(s).i_()&&s.B_.size>0}function Go(s){return Re(s).k_.size===0}function Om(s){s.U_=void 0}async function q0(s){s.K_.set("Online")}async function b0(s){s.B_.forEach((e,r)=>{yh(s,e)})}async function H0(s,e){Om(s),_h(s)?(s.K_.O_(e),vh(s)):s.K_.set("Unknown")}async function Q0(s,e,r){if(s.K_.set("Online"),e instanceof wm&&e.state===2&&e.cause)try{await async function(l,c){const p=c.cause;for(const g of c.targetIds)l.B_.has(g)&&(await l.remoteSyncer.rejectListen(g,p),l.B_.delete(g),l.U_.removeTarget(g))}(s,e)}catch(o){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Sp(s,o)}else if(e instanceof wl?s.U_.$e(e):e instanceof Em?s.U_.Je(e):s.U_.Ge(e),!r.isEqual(pe.min()))try{const o=await xm(s.localStore);r.compareTo(o)>=0&&await function(c,p){const g=c.U_.it(p);return g.targetChanges.forEach((v,E)=>{if(v.resumeToken.approximateByteSize()>0){const C=c.B_.get(E);C&&c.B_.set(E,C.withResumeToken(v.resumeToken,p))}}),g.targetMismatches.forEach((v,E)=>{const C=c.B_.get(v);if(!C)return;c.B_.set(v,C.withResumeToken(It.EMPTY_BYTE_STRING,C.snapshotVersion)),Lm(c,v);const O=new Fr(C.target,v,E,C.sequenceNumber);yh(c,O)}),c.remoteSyncer.applyRemoteEvent(g)}(s,r)}catch(o){te("RemoteStore","Failed to raise snapshot:",o),await Sp(s,o)}}async function Sp(s,e,r){if(!Ls(e))throw e;s.k_.add(1),await Wo(s),s.K_.set("Offline"),r||(r=()=>xm(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await r(),s.k_.delete(1),await ql(s)})}async function Ip(s,e){const r=Re(s);r.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const o=Go(r);r.k_.add(3),await Wo(r),o&&r.K_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.k_.delete(3),await ql(r)}async function K0(s,e){const r=Re(s);e?(r.k_.delete(2),await ql(r)):e||(r.k_.add(2),await Wo(r),r.K_.set("Unknown"))}function Os(s){return s.W_||(s.W_=function(r,o,l){const c=Re(r);return c.b_(),new U0(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{Ro:q0.bind(null,s),mo:b0.bind(null,s),po:H0.bind(null,s),R_:Q0.bind(null,s)}),s.q_.push(async e=>{e?(s.W_.__(),_h(s)?vh(s):s.K_.set("Unknown")):(await s.W_.stop(),Om(s))})),s.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,r,o,l,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=l,this.removalCallback=c,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,l,c){const p=Date.now()+o,g=new Eh(e,r,p,l,c);return g.start(o),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mm(s,e){if(ur("AsyncQueue",`${e}: ${s}`),Ls(s))return new ce(Y.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{static emptySet(e){return new Is(e.comparator)}constructor(e){this.comparator=e?(r,o)=>e(r,o)||fe.comparator(r.key,o.key):(r,o)=>fe.comparator(r.key,o.key),this.keyedMap=Lo(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Is)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=o.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const o=new Is;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.z_=new nt(fe.comparator)}track(e){const r=e.doc.key,o=this.z_.get(r);o?e.type!==0&&o.type===3?this.z_=this.z_.insert(r,e):e.type===3&&o.type!==1?this.z_=this.z_.insert(r,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.z_=this.z_.insert(r,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.z_=this.z_.insert(r,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.z_=this.z_.remove(r):e.type===1&&o.type===2?this.z_=this.z_.insert(r,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.z_=this.z_.insert(r,{type:2,doc:e.doc}):me():this.z_=this.z_.insert(r,e)}j_(){const e=[];return this.z_.inorderTraversal((r,o)=>{e.push(o)}),e}}class Vs{constructor(e,r,o,l,c,p,g,v,E){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=E}static fromInitialDocuments(e,r,o,l,c){const p=[];return r.forEach(g=>{p.push({type:0,doc:g})}),new Vs(e,r,Is.emptySet(r),p,o,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==o[l].type||!r[l].doc.isEqual(o[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class G0{constructor(){this.queries=Ap(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(r,o){const l=Re(r),c=l.queries;l.queries=Ap(),c.forEach((p,g)=>{for(const v of g.J_)v.onError(o)})})(this,new ce(Y.ABORTED,"Firestore shutting down"))}}function Ap(){return new Ci(s=>cm(s),zl)}async function Y0(s,e){const r=Re(s);let o=3;const l=e.query;let c=r.queries.get(l);c?!c.Y_()&&e.Z_()&&(o=2):(c=new W0,o=e.Z_()?0:1);try{switch(o){case 0:c.H_=await r.onListen(l,!0);break;case 1:c.H_=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(p){const g=Mm(p,`Initialization of query '${_s(e.query)}' failed`);return void e.onError(g)}r.queries.set(l,c),c.J_.push(e),e.ea(r.onlineState),c.H_&&e.ta(c.H_)&&wh(r)}async function X0(s,e){const r=Re(s),o=e.query;let l=3;const c=r.queries.get(o);if(c){const p=c.J_.indexOf(e);p>=0&&(c.J_.splice(p,1),c.J_.length===0?l=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(l=2))}switch(l){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}}function J0(s,e){const r=Re(s);let o=!1;for(const l of e){const c=l.query,p=r.queries.get(c);if(p){for(const g of p.J_)g.ta(l)&&(o=!0);p.H_=l}}o&&wh(r)}function Z0(s,e,r){const o=Re(s),l=o.queries.get(e);if(l)for(const c of l.J_)c.onError(r);o.queries.delete(e)}function wh(s){s.X_.forEach(e=>{e.next()})}var Jc,Rp;(Rp=Jc||(Jc={})).na="default",Rp.Cache="cache";class eE{constructor(e,r,o){this.query=e,this.ra=r,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=o||{}}ta(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)l.type!==3&&o.push(l);e=new Vs(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ia?this.oa(e)&&(this.ra.next(e),r=!0):this._a(e,this.onlineState)&&(this.aa(e),r=!0),this.sa=e,r}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let r=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),r=!0),r}_a(e,r){if(!e.fromCache||!this.Z_())return!0;const o=r!=="Offline";return(!this.options.ua||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const r=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}aa(e){e=Vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Jc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this.key=e}}class zm{constructor(e){this.key=e}}class tE{constructor(e,r){this.query=e,this.da=r,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ve(),this.mutatedKeys=Ve(),this.Va=hm(e),this.ma=new Is(this.Va)}get fa(){return this.da}ga(e,r){const o=r?r.pa:new Cp,l=r?r.ma:this.ma;let c=r?r.mutatedKeys:this.mutatedKeys,p=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((C,O)=>{const U=l.get(C),H=Ul(this.query,O)?O:null,J=!!U&&this.mutatedKeys.has(U.key),ee=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let K=!1;U&&H?U.data.isEqual(H.data)?J!==ee&&(o.track({type:3,doc:H}),K=!0):this.ya(U,H)||(o.track({type:2,doc:H}),K=!0,(v&&this.Va(H,v)>0||E&&this.Va(H,E)<0)&&(g=!0)):!U&&H?(o.track({type:0,doc:H}),K=!0):U&&!H&&(o.track({type:1,doc:U}),K=!0,(v||E)&&(g=!0)),K&&(H?(p=p.add(H),c=ee?c.add(C):c.delete(C)):(p=p.delete(C),c=c.delete(C)))}),this.query.limit!==null)for(;p.size>this.query.limit;){const C=this.query.limitType==="F"?p.last():p.first();p=p.delete(C.key),c=c.delete(C.key),o.track({type:1,doc:C})}return{ma:p,pa:o,ss:g,mutatedKeys:c}}ya(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,l){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const p=e.pa.j_();p.sort((C,O)=>function(H,J){const ee=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return ee(H)-ee(J)}(C.type,O.type)||this.Va(C.doc,O.doc)),this.wa(o),l=l!=null&&l;const g=r&&!l?this.Sa():[],v=this.Ra.size===0&&this.current&&!l?1:0,E=v!==this.Aa;return this.Aa=v,p.length!==0||E?{snapshot:new Vs(this.query,e.ma,c,p,e.mutatedKeys,v===0,E,!1,!!o&&o.resumeToken.approximateByteSize()>0),ba:g}:{ba:g}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Cp,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(r=>this.da=this.da.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.da=this.da.delete(r)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ve(),this.ma.forEach(o=>{this.Da(o.key)&&(this.Ra=this.Ra.add(o.key))});const r=[];return e.forEach(o=>{this.Ra.has(o)||r.push(new zm(o))}),this.Ra.forEach(o=>{e.has(o)||r.push(new Fm(o))}),r}va(e){this.da=e.ds,this.Ra=Ve();const r=this.ga(e.documents);return this.applyChanges(r,!0)}Ca(){return Vs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class nE{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class rE{constructor(e){this.key=e,this.Fa=!1}}class iE{constructor(e,r,o,l,c,p){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Ma={},this.xa=new Ci(g=>cm(g),zl),this.Oa=new Map,this.Na=new Set,this.La=new nt(fe.comparator),this.Ba=new Map,this.ka=new dh,this.qa={},this.Qa=new Map,this.Ka=xs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function sE(s,e,r=!0){const o=qm(s);let l;const c=o.xa.get(e);return c?(o.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Ca()):l=await Um(o,e,r,!0),l}async function oE(s,e){const r=qm(s);await Um(r,e,!0,!1)}async function Um(s,e,r,o){const l=await V0(s.localStore,jn(e)),c=l.targetId,p=s.sharedClientState.addLocalQueryTarget(c,r);let g;return o&&(g=await aE(s,e,c,p==="current",l.resumeToken)),s.isPrimaryClient&&r&&Nm(s.remoteStore,l),g}async function aE(s,e,r,o,l){s.Ua=(O,U,H)=>async function(ee,K,Ne,Pe){let _e=K.view.ga(Ne);_e.ss&&(_e=await Ep(ee.localStore,K.query,!1).then(({documents:k})=>K.view.ga(k,_e)));const Ee=Pe&&Pe.targetChanges.get(K.targetId),Xe=Pe&&Pe.targetMismatches.get(K.targetId)!=null,ke=K.view.applyChanges(_e,ee.isPrimaryClient,Ee,Xe);return kp(ee,K.targetId,ke.ba),ke.snapshot}(s,O,U,H);const c=await Ep(s.localStore,e,!0),p=new tE(e,c.ds),g=p.ga(c.documents),v=Ko.createSynthesizedTargetChangeForCurrentChange(r,o&&s.onlineState!=="Offline",l),E=p.applyChanges(g,s.isPrimaryClient,v);kp(s,r,E.ba);const C=new nE(e,r,p);return s.xa.set(e,C),s.Oa.has(r)?s.Oa.get(r).push(e):s.Oa.set(r,[e]),E.snapshot}async function lE(s,e,r){const o=Re(s),l=o.xa.get(e),c=o.Oa.get(l.targetId);if(c.length>1)return o.Oa.set(l.targetId,c.filter(p=>!zl(p,e))),void o.xa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(l.targetId),o.sharedClientState.isActiveQueryTarget(l.targetId)||await Xc(o.localStore,l.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(l.targetId),r&&gh(o.remoteStore,l.targetId),Zc(o,l.targetId)}).catch(Nl)):(Zc(o,l.targetId),await Xc(o.localStore,l.targetId,!0))}async function uE(s,e){const r=Re(s),o=r.xa.get(e),l=r.Oa.get(o.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),gh(r.remoteStore,o.targetId))}async function Bm(s,e){const r=Re(s);try{const o=await k0(r.localStore,e);e.targetChanges.forEach((l,c)=>{const p=r.Ba.get(c);p&&(We(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?p.Fa=!0:l.modifiedDocuments.size>0?We(p.Fa):l.removedDocuments.size>0&&(We(p.Fa),p.Fa=!1))}),await $m(r,o,e)}catch(o){await Nl(o)}}function Pp(s,e,r){const o=Re(s);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const l=[];o.xa.forEach((c,p)=>{const g=p.view.ea(e);g.snapshot&&l.push(g.snapshot)}),function(p,g){const v=Re(p);v.onlineState=g;let E=!1;v.queries.forEach((C,O)=>{for(const U of O.J_)U.ea(g)&&(E=!0)}),E&&wh(v)}(o.eventManager,e),l.length&&o.Ma.R_(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function cE(s,e,r){const o=Re(s);o.sharedClientState.updateQueryState(e,"rejected",r);const l=o.Ba.get(e),c=l&&l.key;if(c){let p=new nt(fe.comparator);p=p.insert(c,Nt.newNoDocument(c,pe.min()));const g=Ve().add(c),v=new $l(pe.min(),new Map,new nt(Ae),p,g);await Bm(o,v),o.La=o.La.remove(c),o.Ba.delete(e),Th(o)}else await Xc(o.localStore,e,!1).then(()=>Zc(o,e,r)).catch(Nl)}function Zc(s,e,r=null){s.sharedClientState.removeLocalQueryTarget(e);for(const o of s.Oa.get(e))s.xa.delete(o),r&&s.Ma.Wa(o,r);s.Oa.delete(e),s.isPrimaryClient&&s.ka.yr(e).forEach(o=>{s.ka.containsKey(o)||jm(s,o)})}function jm(s,e){s.Na.delete(e.path.canonicalString());const r=s.La.get(e);r!==null&&(gh(s.remoteStore,r),s.La=s.La.remove(e),s.Ba.delete(r),Th(s))}function kp(s,e,r){for(const o of r)o instanceof Fm?(s.ka.addReference(o.key,e),hE(s,o)):o instanceof zm?(te("SyncEngine","Document no longer in limbo: "+o.key),s.ka.removeReference(o.key,e),s.ka.containsKey(o.key)||jm(s,o.key)):me()}function hE(s,e){const r=e.key,o=r.path.canonicalString();s.La.get(r)||s.Na.has(o)||(te("SyncEngine","New document in limbo: "+r),s.Na.add(o),Th(s))}function Th(s){for(;s.Na.size>0&&s.La.size<s.maxConcurrentLimboResolutions;){const e=s.Na.values().next().value;s.Na.delete(e);const r=new fe(Ye.fromString(e)),o=s.Ka.next();s.Ba.set(o,new rE(r)),s.La=s.La.insert(r,o),Nm(s.remoteStore,new Fr(jn(um(r.path)),o,"TargetPurposeLimboResolution",Ll.oe))}}async function $m(s,e,r){const o=Re(s),l=[],c=[],p=[];o.xa.isEmpty()||(o.xa.forEach((g,v)=>{p.push(o.Ua(v,e,r).then(E=>{var C;if((E||r)&&o.isPrimaryClient){const O=E?!E.fromCache:(C=r==null?void 0:r.targetChanges.get(v.targetId))===null||C===void 0?void 0:C.current;o.sharedClientState.updateQueryState(v.targetId,O?"current":"not-current")}if(E){l.push(E);const O=mh.zi(v.targetId,E);c.push(O)}}))}),await Promise.all(p),o.Ma.R_(l),await async function(v,E){const C=Re(v);try{await C.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>j.forEach(E,U=>j.forEach(U.Wi,H=>C.persistence.referenceDelegate.addReference(O,U.targetId,H)).next(()=>j.forEach(U.Gi,H=>C.persistence.referenceDelegate.removeReference(O,U.targetId,H)))))}catch(O){if(!Ls(O))throw O;te("LocalStore","Failed to update sequence numbers: "+O)}for(const O of E){const U=O.targetId;if(!O.fromCache){const H=C.us.get(U),J=H.snapshotVersion,ee=H.withLastLimboFreeSnapshotVersion(J);C.us=C.us.insert(U,ee)}}}(o.localStore,c))}async function fE(s,e){const r=Re(s);if(!r.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const o=await km(r.localStore,e);r.currentUser=e,function(c,p){c.Qa.forEach(g=>{g.forEach(v=>{v.reject(new ce(Y.CANCELLED,p))})}),c.Qa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await $m(r,o.Ts)}}function dE(s,e){const r=Re(s),o=r.Ba.get(e);if(o&&o.Fa)return Ve().add(o.key);{let l=Ve();const c=r.Oa.get(e);if(!c)return l;for(const p of c){const g=r.xa.get(p);l=l.unionWith(g.view.fa)}return l}}function qm(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cE.bind(null,e),e.Ma.R_=J0.bind(null,e.eventManager),e.Ma.Wa=Z0.bind(null,e.eventManager),e}class Vl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vm(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,r){return null}Ya(e,r){return null}Ha(e){return P0(this.persistence,new A0,e.initialUser,this.serializer)}ja(e){return new Pm(ph.ei,this.serializer)}za(e){return new N0}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vl.provider={build:()=>new Vl};class pE extends Vl{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,r){We(this.persistence.referenceDelegate instanceof xl);const o=this.persistence.referenceDelegate.garbageCollector;return new h0(o,e.asyncQueue,r)}ja(e){const r=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new Pm(o=>xl.ei(o,r),this.serializer)}}class eh{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>Pp(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=fE.bind(null,this.syncEngine),await K0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new G0}()}createDatastore(e){const r=Vm(e.databaseInfo.databaseId),o=function(c){return new F0(c)}(e.databaseInfo);return function(c,p,g,v){return new B0(c,p,g,v)}(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return function(o,l,c,p,g){return new $0(o,l,c,p,g)}(this.localStore,this.datastore,e.asyncQueue,r=>Pp(this.syncEngine,r,0),function(){return Tp.p()?new Tp:new L0}())}createSyncEngine(e,r){return function(l,c,p,g,v,E,C){const O=new iE(l,c,p,g,v,E);return C&&(O.$a=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(l){const c=Re(l);te("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await Wo(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}eh.provider={build:()=>new eh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,r,o,l,c){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=l,this.user=Dt.UNAUTHENTICATED,this.clientId=Gv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(o,async p=>{te("FirestoreClient","Received user=",p.uid),await this.authCredentialListener(p),this.user=p}),this.appCheckCredentials.start(o,p=>(te("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=Mm(r,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function xc(s,e){s.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const r=s.configuration;await e.initialize(r);let o=r.initialUser;s.setCredentialChangeListener(async l=>{o.isEqual(l)||(await km(e.localStore,l),o=l)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function xp(s,e){s.asyncQueue.verifyOperationInProgress();const r=await yE(s);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,s.configuration),s.setCredentialChangeListener(o=>Ip(e.remoteStore,o)),s.setAppCheckTokenChangeListener((o,l)=>Ip(e.remoteStore,l)),s._onlineComponents=e}async function yE(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await xc(s,s._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(r))throw r;As("Error using user provided cache. Falling back to memory cache: "+r),await xc(s,new Vl)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await xc(s,new pE(void 0));return s._offlineComponents}async function vE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await xp(s,s._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await xp(s,new eh))),s._onlineComponents}async function _E(s){const e=await vE(s),r=e.eventManager;return r.onListen=sE.bind(null,e.syncEngine),r.onUnlisten=lE.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=oE.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=uE.bind(null,e.syncEngine),r}function EE(s,e,r={}){const o=new Ti;return s.asyncQueue.enqueueAndForget(async()=>function(c,p,g,v,E){const C=new mE({next:U=>{C.eu(),p.enqueueAndForget(()=>X0(c,O)),U.fromCache&&v.source==="server"?E.reject(new ce(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(U)},error:U=>E.reject(U)}),O=new eE(g,C,{includeMetadataChanges:!0,ua:!0});return Y0(c,O)}(await _E(s),s.asyncQueue,e,r,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new Map;function wE(s,e,r,o){if(e===!0&&o===!0)throw new ce(Y.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function Dp(s){if(fe.isDocumentKey(s))throw new ce(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function TE(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":me()}function th(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=TE(s);throw new ce(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e){var r,o;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bm((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,l){return o.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,r,o,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Np({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Np(e),e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new jv;switch(o.type){case"firstParty":return new Hv(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ce(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=Vp.get(r);o&&(te("ComponentProvider","Removing Datastore"),Vp.delete(r),o.terminate())}(this),Promise.resolve()}}function SE(s,e,r,o={}){var l;const c=(s=th(s,Sh))._getSettings(),p=`${e}:${r}`;if(c.host!=="firestore.googleapis.com"&&c.host!==p&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},c),{host:p,ssl:!1})),o.mockUserToken){let g,v;if(typeof o.mockUserToken=="string")g=o.mockUserToken,v=Dt.MOCK_USER;else{g=wy(o.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const E=o.mockUserToken.sub||o.mockUserToken.user_id;if(!E)throw new ce(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Dt(E)}s._authCredentials=new $v(new tm(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new bl(this.firestore,e,this._query)}}class Ms{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ms(this.firestore,e,this._key)}}class Cs extends bl{constructor(e,r,o){super(e,r,um(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ms(this.firestore,null,new fe(e))}withConverter(e){return new Cs(this.firestore,e,this._path)}}function IE(s,e,...r){if(s=xy(s),s instanceof Sh){const o=Ye.fromString(e,...r);return Dp(o),new Cs(s,null,o)}{if(!(s instanceof Ms||s instanceof Cs))throw new ce(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Ye.fromString(e,...r));return Dp(o),new Cs(s.firestore,null,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Dm(this,"async_queue_retry"),this.fu=()=>{const o=kc();o&&te("AsyncQueue","Visibility state changed to "+o.visibilityState),this.r_.Jo()},this.gu=e;const r=kc();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const r=kc();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const r=new Ti;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ls(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const r=this.gu.then(()=>(this.Ru=!0,e().catch(o=>{this.Au=o,this.Ru=!1;const l=function(p){let g=p.message||"";return p.stack&&(g=p.stack.includes(p.message)?p.stack:p.message+`
`+p.stack),g}(o);throw ur("INTERNAL UNHANDLED ERROR: ",l),o}).then(o=>(this.Ru=!1,o))));return this.gu=r,r}enqueueAfterDelay(e,r,o){this.pu(),this.mu.indexOf(e)>-1&&(r=0);const l=Eh.createAndSchedule(this,e,r,o,c=>this.Su(c));return this.du.push(l),l}pu(){this.Au&&me()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const r of this.du)if(r.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.du)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const r=this.du.indexOf(e);this.du.splice(r,1)}}class Hm extends Sh{constructor(e,r,o,l){super(e,r,o,l),this.type="firestore",this._queue=new Lp,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lp(e),this._firestoreClient=void 0,await e}}}function CE(s,e){const r=typeof s=="object"?s:Vv(),o=typeof s=="string"?s:"(default)",l=Rv(r,"firestore").getImmediate({identifier:o});if(!l._initialized){const c=_y("firestore");c&&SE(l,...c)}return l}function AE(s){if(s._terminated)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||RE(s),s._firestoreClient}function RE(s){var e,r,o;const l=s._freezeSettings(),c=function(g,v,E,C){return new a_(g,v,E,C.host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,bm(C.experimentalLongPollingOptions),C.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((r=l.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((o=l.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new gE(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dl(It.fromBase64String(e))}catch(r){throw new ce(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Dl(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ce(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ce(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ce(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,l){if(o.length!==l.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==l[c])return!1;return!0}(this._values,e._values)}}const xE=new RegExp("[~\\*/\\[\\]]");function VE(s,e,r){if(e.search(xE)>=0)throw Op(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new Qm(...e.split("."))._internalPath}catch{throw Op(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function Op(s,e,r,o,l){let c=`Function ${e}() called with invalid data`;c+=". ";let p="";return new ce(Y.INVALID_ARGUMENT,c+s+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,r,o,l,c){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ms(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Wm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class DE extends Km{data(){return super.data()}}function Wm(s,e){return typeof e=="string"?VE(s,e):e instanceof Qm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LE{convertValue(e,r="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw me()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return Qo(e,(l,c)=>{o[l]=this.convertValue(c,r)}),o}convertVectorValue(e){var r,o,l;const c=(l=(o=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||o===void 0?void 0:o.values)===null||l===void 0?void 0:l.map(p=>tt(p.doubleValue));return new kE(c)}convertGeoPoint(e){return new PE(tt(e.latitude),tt(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Ml(e);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(qo(e));default:return null}}convertTimestamp(e){const r=jr(e);return new Wt(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Ye.fromString(e);We(Rm(o));const l=new bo(o.get(1),o.get(3)),c=new fe(o.popFirst(5));return l.isEqual(r)||ur(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OE extends Km{constructor(e,r,o,l,c,p){super(e,r,o,l,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Tl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Wm("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Tl extends OE{data(e={}){return super.data(e)}}class ME{constructor(e,r,o,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new yl(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new Tl(this._firestore,this._userDataWriter,o.key,o,new yl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ce(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map(g=>{const v=new Tl(l._firestore,l._userDataWriter,g.doc.key,g.doc,new yl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:p++}})}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const v=new Tl(l._firestore,l._userDataWriter,g.doc.key,g.doc,new yl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,C=-1;return g.type!==0&&(E=p.indexOf(g.doc.key),p=p.delete(g.doc.key)),g.type!==1&&(p=p.add(g.doc),C=p.indexOf(g.doc.key)),{type:FE(g.type),doc:v,oldIndex:E,newIndex:C}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function FE(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}class zE extends LE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ms(this.firestore,null,r)}}function UE(s){s=th(s,bl);const e=th(s.firestore,Hm),r=AE(e),o=new zE(e);return NE(s._query),EE(r,s._query).then(l=>new ME(e,o,s,l))}(function(e,r=!0){(function(l){Ns=l})(xv),Cl(new Bo("firestore",(o,{instanceIdentifier:l,options:c})=>{const p=o.getProvider("app").getImmediate(),g=new Hm(new qv(o.getProvider("auth-internal")),new Kv(o.getProvider("app-check-internal")),function(E,C){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ce(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bo(E.options.projectId,C)}(p,l),p);return c=Object.assign({useFetchStreams:r},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ts(Xd,"4.7.5",e),Ts(Xd,"4.7.5","esm2017")})();var BE="firebase",jE="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(BE,jE,"app");const $E={apiKey:"AIzaSyB87ErUyUGARKyWwBFuVNJEU1R2ZrHoIuY",authDomain:"fertabdistribuzioni-259b5.firebaseapp.com",projectId:"fertabdistribuzioni-259b5",storageBucket:"fertabdistribuzioni-259b5.firebasestorage.app",messagingSenderId:"190560040474",appId:"1:190560040474:web:b0063c7ae3f9873a23c3a3",measurementId:"G-813EK68Y9M"},qE=Qp($E),bE=CE(qE),HE="/fertab/assets/FTD_logoBig-B1PEaus_.svg",QE="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23c3251d'%3e%3cpath%20d='M798-120q-125%200-247-54.5T329-329Q229-429%20174.5-551T120-798q0-18%2012-30t30-12h162q14%200%2025%209.5t13%2022.5l26%20140q2%2016-1%2027t-11%2019l-97%2098q20%2037%2047.5%2071.5T387-386q31%2031%2065%2057.5t72%2048.5l94-94q9-9%2023.5-13.5T670-390l138%2028q14%204%2023%2014.5t9%2023.5v162q0%2018-12%2030t-30%2012Z'/%3e%3c/svg%3e",KE="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23c3251d'%3e%3cpath%20d='M480-480q33%200%2056.5-23.5T560-560q0-33-23.5-56.5T480-640q-33%200-56.5%2023.5T400-560q0%2033%2023.5%2056.5T480-480Zm0%20400Q319-217%20239.5-334.5T160-552q0-150%2096.5-239T480-880q127%200%20223.5%2089T800-552q0%20100-79.5%20217.5T480-80Z'/%3e%3c/svg%3e";function WE(){const[s,e]=dn.useState(0);dn.useEffect(()=>{const l=()=>{e(window.scrollY)};return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[]);const o=Math.max(1-s/(100*4),.5);return he.jsxs(he.Fragment,{children:[he.jsx("nav",{style:{transform:`scaleY(${o})`},children:he.jsx("img",{id:"navbarLogo",src:HE,alt:"Logo",style:{transform:`scaleX(${o})`}})}),he.jsxs("div",{id:"navContent",children:[he.jsx("h4",{children:"Ingrosso articoli di ferramenta e tabaccherie"}),he.jsxs("a",{href:"https://maps.app.goo.gl/H4DNaxgzrRN724LC7",target:"_blank",rel:"noopener noreferrer",children:[he.jsx("img",{className:"inlineIcon",src:KE,alt:"Ci trovi in:",draggable:"false"}),"C.so Garibaldi n.168, Portici (Na)"]}),he.jsxs("a",{href:"tel:0810487003",children:[he.jsx("img",{className:"inlineIcon",src:QE,alt:"Chiama al:",draggable:"false"}),"0810487003"]}),he.jsx("p",{children:"Orario apertura: Lun/Ven 08:30/19:00 - Sab 08:30/12:00"})]})]})}function GE(){return he.jsxs("div",{className:"dots-container",children:[he.jsx("div",{className:"dot"}),he.jsx("div",{className:"dot"}),he.jsx("div",{className:"dot"}),he.jsx("div",{className:"dot"}),he.jsx("div",{className:"dot"})]})}var Vc={exports:{}},Dc,Mp;function YE(){if(Mp)return Dc;Mp=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Dc=s,Dc}var Nc,Fp;function XE(){if(Fp)return Nc;Fp=1;var s=YE();function e(){}function r(){}return r.resetWarningCache=e,Nc=function(){function o(p,g,v,E,C,O){if(O!==s){var U=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw U.name="Invariant Violation",U}}o.isRequired=o;function l(){return o}var c={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:r,resetWarningCache:e};return c.PropTypes=c,c},Nc}var zp;function JE(){return zp||(zp=1,Vc.exports=XE()()),Vc.exports}var ZE=JE();const Or=ey(ZE);function ew(s){window.open(s,"_blank")}function Gm({productImg:s,productName:e,productDescription:r,productPrice:o,productAmount:l,prodLink:c}){const[p,g]=dn.useState(!1),[v,E]=dn.useState(!1),C=dn.useRef(null),O=()=>{if(C.current){const J=C.current.scrollHeight>C.current.clientHeight;g(J)}};dn.useEffect(()=>{O()},[e,r]);const U=()=>{E(!v)},H=()=>{v&&E(!1)};return he.jsxs("div",{className:`prodCard ${v?"expanded":""}`,children:[he.jsx("img",{src:s,loading:"lazy",alt:"Immagine prodotto",onClick:H}),he.jsxs("div",{className:"prodBody",children:[he.jsxs("div",{className:"prodInfo",children:[he.jsx("h4",{children:e}),he.jsx("p",{className:"prodDescription",ref:C,children:r})]}),he.jsxs("div",{className:"prodBottom",children:[p&&!v&&he.jsx("button",{className:"textButton",onClick:U,children:"Mostra più"}),v&&he.jsx("button",{className:"textButton",onClick:U,children:"Mostra meno"}),he.jsxs("div",{className:"prodBuy",children:[he.jsxs("div",{className:"prodBuyInfo",children:[he.jsxs("h4",{children:[o,"€"]}),l==="1"?"Al pezzo":`${l} pezzi`]}),he.jsx("button",{onClick:()=>ew(c),children:"Acquista"})]})]})]})]})}Gm.propTypes={productImg:Or.string.isRequired,productName:Or.string.isRequired,productDescription:Or.string.isRequired,productPrice:Or.string.isRequired,productAmount:Or.string.isRequired,prodLink:Or.string.isRequired};function tw(){return he.jsx("footer",{id:"navbar",children:he.jsx("p",{className:"smallText",children:"© 2024 Emanuele Ciotola. Tutti i diritti riservati."})})}const nw="data:image/svg+xml,%3csvg%20width='30'%20height='30'%20viewBox='0%200%2030%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.83211%2024.2929C7.44158%2024.6834%206.80842%2024.6834%206.41789%2024.2929L5.70711%2023.5821C5.31658%2023.1916%205.31658%2022.5584%205.70711%2022.1679L12.5214%2015.3536C12.7167%2015.1583%2012.7167%2014.8417%2012.5214%2014.6464L5.70711%207.83211C5.31658%207.44158%205.31658%206.80842%205.70711%206.41789L6.41789%205.70711C6.80842%205.31658%207.44158%205.31658%207.83211%205.70711L14.6464%2012.5214C14.8417%2012.7167%2015.1583%2012.7167%2015.3536%2012.5214L22.1679%205.70711C22.5584%205.31658%2023.1916%205.31658%2023.5821%205.70711L24.2929%206.41789C24.6834%206.80842%2024.6834%207.44158%2024.2929%207.83211L17.4786%2014.6464C17.2833%2014.8417%2017.2833%2015.1583%2017.4786%2015.3536L24.2929%2022.1679C24.6834%2022.5584%2024.6834%2023.1916%2024.2929%2023.5821L23.5821%2024.2929C23.1916%2024.6834%2022.5584%2024.6834%2022.1679%2024.2929L15.3536%2017.4786C15.1583%2017.2833%2014.8417%2017.2833%2014.6464%2017.4786L7.83211%2024.2929Z'%20fill='%23A9A9AC'/%3e%3c/svg%3e",rw="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M29.6753%2031.0055C29.2848%2031.3949%2028.6529%2031.3946%2028.2627%2031.005L18.3293%2021.0864C18.1495%2020.9068%2017.8645%2020.8921%2017.6576%2021.0396C16.9224%2021.5641%2016.0857%2021.986%2015.1475%2022.3054C14.0541%2022.6779%2012.8786%2022.8642%2011.6208%2022.8642C8.48802%2022.8642%205.834%2021.7757%203.65872%2019.5987C1.48316%2017.4218%200.395386%2014.7871%200.395386%2011.6946C0.395386%208.6018%201.48386%205.96694%203.6608%203.79C5.83775%201.61305%208.47719%200.524582%2011.5791%200.524582C14.6811%200.524582%2017.3158%201.61305%2019.4833%203.79C21.6511%205.96694%2022.735%208.60319%2022.735%2011.6987C22.735%2012.931%2022.5536%2014.0862%2022.1908%2015.1646C21.8747%2016.1042%2021.435%2016.9779%2020.8718%2017.7859C20.7285%2017.9914%2020.7467%2018.2716%2020.9242%2018.4483L30.8933%2028.3739C31.2857%2028.7646%2031.2859%2029.3998%2030.8938%2029.7907L29.6753%2031.0055ZM11.5983%2019.1912C13.6839%2019.1912%2015.4493%2018.4617%2016.8946%2017.0025C18.3396%2015.5431%2019.0621%2013.7737%2019.0621%2011.6946C19.0621%209.61514%2018.3387%207.84583%2016.8921%206.38667C15.4454%204.92722%2013.6808%204.1975%2011.5983%204.1975C9.50052%204.1975%207.72108%204.92722%206.25997%206.38667C4.79886%207.84583%204.0683%209.61514%204.0683%2011.6946C4.0683%2013.7737%204.79802%2015.5431%206.25747%2017.0025C7.71719%2018.4617%209.49747%2019.1912%2011.5983%2019.1912Z'%20fill='%23A9A9AC'/%3e%3c/svg%3e",Ym=({searchTerm:s,setSearchTerm:e})=>{const r=dn.useRef(null),o=()=>{e("")},l=()=>{r.current&&r.current.focus()};return he.jsxs("div",{id:"searchBar",children:[he.jsx("input",{ref:r,type:"text",name:"searchTerm",placeholder:"Cerca prodotto...",value:s,onChange:c=>e(c.target.value),autoComplete:"off"}),he.jsx("div",{id:"searchBarButton",onClick:s?o:l,children:he.jsx("img",{src:s?nw:rw,alt:s?"Cancella":"Cerca",draggable:"false"})})]})};Ym.propTypes={searchTerm:Or.string.isRequired,setSearchTerm:Or.func.isRequired};function iw(){const[s,e]=dn.useState([]),[r,o]=dn.useState(!0),[l,c]=dn.useState("");dn.useEffect(()=>{(async()=>{o(!0);const v=IE(bE,"products"),C=(await UE(v)).docs.map(O=>O.data());e(C),o(!1)})()},[]);const p=s.filter(g=>g.productName.toLowerCase().includes(l.toLowerCase())||g.productDescription.toLowerCase().includes(l.toLowerCase()));return he.jsxs(he.Fragment,{children:[he.jsx(WE,{}),he.jsxs("div",{id:"products",children:[he.jsx(Ym,{searchTerm:l,setSearchTerm:c}),he.jsx("div",{id:"productList",children:r?he.jsx(GE,{}):p.length>0?p.map((g,v)=>he.jsx(Gm,{productImg:g.productImg,productName:g.productName,productDescription:g.productDescription,productPrice:g.productPrice,productAmount:g.productAmount,prodLink:g.prodLink},v)):he.jsxs("p",{children:['Nessun prodotto trovato per "',l,'".']})})]}),he.jsx(tw,{})]})}uy.createRoot(document.getElementById("root")).render(he.jsx(dn.StrictMode,{children:he.jsx(iw,{})}));
